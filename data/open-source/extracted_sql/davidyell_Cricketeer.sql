CREATE TABLE `leagues` ( `id` char(36) NOT NULL, `name` varchar(255) NOT NULL, `description` text, `image` varchar(255) DEFAULT NULL, `image_dir` varchar(255) DEFAULT NULL, `created` datetime DEFAULT NULL, `modified` datetime DEFAULT NULL, PRIMARY KEY (`id`))
CREATE TABLE `batting_styles` ( `id` char(36) NOT NULL, `name` varchar(255) NOT NULL, `created` datetime DEFAULT NULL, `modified` datetime DEFAULT NULL, PRIMARY KEY (`id`))
CREATE TABLE `squads` ( `id` char(36) NOT NULL, `player_id` char(36) NOT NULL, `team_id` char(36) NOT NULL, `captain` tinyint(1) NOT NULL DEFAULT '0', `position` int(11) NOT NULL, PRIMARY KEY (`id`), KEY `fk_squads_player_id_idx` (`player_id`), KEY `fk_squads_team_id_idx` (`team_id`), CONSTRAINT `fk_squads_player_id` FOREIGN KEY (`player_id`) REFERENCES `players` (`id`) ON DELETE NO ACTION ON UPDATE NO ACTION, CONSTRAINT `fk_squads_team_id` FOREIGN KEY (`team_id`) REFERENCES `teams` (`id`) ON DELETE NO ACTION ON UPDATE NO ACTION)
CREATE TABLE `teams` ( `id` char(36) NOT NULL, `name` varchar(255) NOT NULL, `club_id` char(36) NOT NULL, `match_id` char(36) NOT NULL, `created` datetime DEFAULT NULL, `modified` datetime DEFAULT NULL, PRIMARY KEY (`id`), KEY `fk_sides_team_id_idx` (`club_id`), KEY `fk_sides_match_id_idx` (`match_id`), CONSTRAINT `fk_sides_match_id` FOREIGN KEY (`match_id`) REFERENCES `matches` (`id`) ON DELETE NO ACTION ON UPDATE NO ACTION, CONSTRAINT `fk_sides_team_id` FOREIGN KEY (`club_id`) REFERENCES `clubs` (`id`) ON DELETE NO ACTION ON UPDATE NO ACTION)
CREATE TABLE `matches` ( `id` char(36) NOT NULL, `name` varchar(255) NOT NULL, `when_played` datetime NOT NULL, `venue_id` char(36) NOT NULL, `format_id` char(36) NOT NULL, `created` datetime DEFAULT NULL, `modified` datetime DEFAULT NULL, PRIMARY KEY (`id`), KEY `fk_matches_venue_id_idx` (`venue_id`), KEY `fk_matches_format_id_idx` (`format_id`), CONSTRAINT `fk_matches_format_id` FOREIGN KEY (`format_id`) REFERENCES `formats` (`id`) ON DELETE NO ACTION ON UPDATE NO ACTION, CONSTRAINT `fk_matches_venue_id` FOREIGN KEY (`venue_id`) REFERENCES `venues` (`id`) ON DELETE NO ACTION ON UPDATE NO ACTION)
CREATE TABLE `player_specialisations` ( `id` char(36) NOT NULL, `name` varchar(255) NOT NULL, `description` text, `created` datetime DEFAULT NULL, `modified` datetime DEFAULT NULL, PRIMARY KEY (`id`))
CREATE TABLE `batsmen` ( `id` char(36) NOT NULL, `player_id` char(36) NOT NULL, `innings_id` char(36) NOT NULL, `runs` int(11) NOT NULL DEFAULT '0', `balls` int(11) NOT NULL DEFAULT '0', `strike_rate` float(10,2) NOT NULL DEFAULT '0.00', `fours` int(11) NOT NULL DEFAULT '0', `sixes` int(11) NOT NULL DEFAULT '0', `created` datetime DEFAULT NULL, `modified` datetime DEFAULT NULL, PRIMARY KEY (`id`), KEY `fk_batsmen_player_id_idx` (`player_id`), KEY `fk_batsmen_innings_id_idx` (`innings_id`), CONSTRAINT `fk_batsmen_innings_id` FOREIGN KEY (`innings_id`) REFERENCES `innings` (`id`) ON DELETE NO ACTION ON UPDATE NO ACTION, CONSTRAINT `fk_batsmen_player_id` FOREIGN KEY (`player_id`) REFERENCES `players` (`id`) ON DELETE NO ACTION ON UPDATE NO ACTION)
CREATE TABLE i18n (	id int(10) NOT NULL auto_increment,	locale varchar(6) NOT NULL,	model varchar(255) NOT NULL,	foreign_key int(10) NOT NULL,	field varchar(255) NOT NULL,	content mediumtext,	PRIMARY KEY	(id),#	UNIQUE INDEX I18N_LOCALE_FIELD(locale, model, foreign_key, field),#	INDEX I18N_LOCALE_ROW(locale, model, foreign_key),#	INDEX I18N_LOCALE_MODEL(locale, model),#	INDEX I18N_FIELD(model, foreign_key, field),#	INDEX I18N_ROW(model, foreign_key),	INDEX locale (locale),	INDEX model (model),	INDEX row_id (foreign_key),	INDEX field (field))
CREATE TABLE sessions ( id varchar(40) NOT NULL default '', data text, expires INT(11) NOT NULL, PRIMARY KEY (id))
CREATE TABLE `venues` ( `id` char(36) NOT NULL, `name` varchar(255) NOT NULL, `location` varchar(255) NOT NULL, `capacity` int(11) DEFAULT NULL, `image` varchar(255) DEFAULT NULL, `image_dir` varchar(255) DEFAULT NULL, `created` datetime DEFAULT NULL, `modified` datetime DEFAULT NULL, PRIMARY KEY (`id`))
CREATE TABLE `dismissals` ( `id` char(36) NOT NULL, `name` varchar(255) NOT NULL, `created` datetime DEFAULT NULL, `modified` datetime DEFAULT NULL, PRIMARY KEY (`id`))
CREATE TABLE `clubs` ( `id` char(36) NOT NULL, `name` varchar(255) NOT NULL, `alt_name` varchar(255) DEFAULT NULL, `image` varchar(255) DEFAULT NULL, `image_dir` varchar(255) DEFAULT NULL, `league_id` char(36) NOT NULL, `created` datetime DEFAULT NULL, `modified` datetime DEFAULT NULL, PRIMARY KEY (`id`), KEY `fk_teams_league_id_idx` (`league_id`), CONSTRAINT `fk_teams_league_id` FOREIGN KEY (`league_id`) REFERENCES `leagues` (`id`) ON DELETE NO ACTION ON UPDATE NO ACTION)
CREATE TABLE `innings` ( `id` char(36) NOT NULL, `innings_type_id` char(36) NOT NULL, `match_id` char(36) NOT NULL, `team_id` char(36) NOT NULL, `wides` int(11) DEFAULT '0', `byes` int(11) DEFAULT '0', `leg_byes` int(11) DEFAULT '0', `no_balls` int(11) DEFAULT '0', `penalty_runs` int(11) DEFAULT '0', `declared` tinyint(1) DEFAULT '0', `created` datetime DEFAULT NULL, `modified` datetime DEFAULT NULL, PRIMARY KEY (`id`), KEY `fk_scores_match_id_idx` (`match_id`), KEY `fk_innings_team_id_idx` (`team_id`), KEY `fk_innings_type_id_idx` (`innings_type_id`), CONSTRAINT `fk_innings_match_id` FOREIGN KEY (`match_id`) REFERENCES `matches` (`id`) ON DELETE NO ACTION ON UPDATE NO ACTION, CONSTRAINT `fk_innings_team_id` FOREIGN KEY (`team_id`) REFERENCES `teams` (`id`) ON DELETE NO ACTION ON UPDATE NO ACTION, CONSTRAINT `fk_innings_type_id` FOREIGN KEY (`innings_type_id`) REFERENCES `innings_types` (`id`) ON DELETE NO ACTION ON UPDATE NO ACTION)
CREATE TABLE `users` ( `id` char(36) NOT NULL, `username` varchar(255) NOT NULL, `email` varchar(255) NOT NULL, `password` varchar(255) NOT NULL, `role` varchar(255) NOT NULL DEFAULT 'user', `created` datetime DEFAULT NULL, `modified` datetime DEFAULT NULL, PRIMARY KEY (`id`))
CREATE TABLE `bowling_styles` ( `id` char(36) NOT NULL, `name` varchar(255) NOT NULL, `shorthand` varchar(255) NOT NULL, `created` datetime DEFAULT NULL, `modified` datetime DEFAULT NULL, PRIMARY KEY (`id`))
CREATE TABLE `innings_types` ( `id` char(36) NOT NULL, `name` varchar(255) NOT NULL, `created` datetime DEFAULT NULL, `modified` datetime DEFAULT NULL, PRIMARY KEY (`id`))
CREATE TABLE `bowlers` ( `id` char(36) NOT NULL, `player_id` char(36) NOT NULL, `innings_id` char(36) NOT NULL, `overs` float(10,1) NOT NULL DEFAULT '0.0', `runs` int(11) NOT NULL DEFAULT '0', `economy` float(10,2) NOT NULL DEFAULT '0.00', `maidens` int(11) NOT NULL DEFAULT '0', `created` datetime DEFAULT NULL, `modified` datetime DEFAULT NULL, PRIMARY KEY (`id`), KEY `fk_bowlers_player_id_idx` (`player_id`), KEY `fk_bowlers_innings_id_idx` (`innings_id`), CONSTRAINT `fk_bowlers_innings_id` FOREIGN KEY (`innings_id`) REFERENCES `innings` (`id`) ON DELETE NO ACTION ON UPDATE NO ACTION, CONSTRAINT `fk_bowlers_player_id` FOREIGN KEY (`player_id`) REFERENCES `players` (`id`) ON DELETE NO ACTION ON UPDATE NO ACTION)
CREATE TABLE `formats` ( `id` char(36) NOT NULL, `name` varchar(255) NOT NULL, `description` text, `created` datetime DEFAULT NULL, `modified` datetime DEFAULT NULL, PRIMARY KEY (`id`))
