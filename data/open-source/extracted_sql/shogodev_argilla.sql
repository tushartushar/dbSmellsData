CREATE TABLE IF NOT EXISTS `{{product_feature}}` ( `id` int(10) unsigned NOT NULL AUTO_INCREMENT, `position` int(10) unsigned NOT NULL, `img` varchar(255) NOT NULL, `name` varchar(255) NOT NULL, `notice` varchar(255) NOT NULL, PRIMARY KEY (`id`) )
CREATE TABLE `category` ( `id` INT(10) UNSIGNED NOT NULL AUTO_INCREMENT, `root` INT(10) UNSIGNED DEFAULT NULL, `lft` INT(10) UNSIGNED NOT NULL, `rgt` INT(10) UNSIGNED NOT NULL, `level` SMALLINT(5) UNSIGNED NOT NULL, PRIMARY KEY (`id`), KEY `root` (`root`), KEY `lft` (`lft`), KEY `rgt` (`rgt`), KEY `level` (`level`))
CREATE TABLE `NestedSet` ( `id` INT(10) UNSIGNED NOT NULL AUTO_INCREMENT, `lft` INT(10) UNSIGNED NOT NULL, `rgt` INT(10) UNSIGNED NOT NULL, `level` SMALLINT(5) UNSIGNED NOT NULL, `name` VARCHAR(50) NOT NULL, PRIMARY KEY (`id`), KEY `lft` (`lft`), KEY `rgt` (`rgt`), KEY `level` (`level`))
CREATE TABLE IF NOT EXISTS `elfinder_file` ( `id` int(7) unsigned NOT NULL auto_increment, `parent_id` int(7) unsigned NOT NULL, `name` varchar(256) NOT NULL, `content` longblob NOT NULL, `size` int(10) unsigned NOT NULL default '0', `mtime` int(10) unsigned NOT NULL, `mime` varchar(256) NOT NULL default 'unknown', `read` enum('1', '0') NOT NULL default '1', `write` enum('1', '0') NOT NULL default '1', `locked` enum('1', '0') NOT NULL default '0', `hidden` enum('1', '0') NOT NULL default '0', `width` int(5) NOT NULL, `height` int(5) NOT NULL, PRIMARY KEY (`id`), UNIQUE KEY `parent_name` (`parent_id`, `name`), KEY `parent_id` (`parent_id`))
CREATE TABLE IF NOT EXISTS `{{dealer}}` ( `id` int(10) unsigned NOT NULL AUTO_INCREMENT, `user_id` int(10) unsigned DEFAULT NULL, `name` varchar(255) NOT NULL, `phone` varchar(255) NOT NULL, `person` varchar(255) NOT NULL, `img` varchar(255) NOT NULL, `visible` tinyint(1) NOT NULL DEFAULT '0', PRIMARY KEY (`id`), KEY `user_id` (`user_id`) )
CREATE TABLE IF NOT EXISTS `{{product_group}}` ( `id` int(10) unsigned NOT NULL AUTO_INCREMENT, `position` int(11) NOT NULL, `name` varchar(255) NOT NULL, PRIMARY KEY (`id`) )
CREATE TABLE {{cackle_review}} ( id INT(10) UNSIGNED NOT NULL AUTO_INCREMENT, channel VARCHAR(255) NOT NULL DEFAULT '', url VARCHAR(255) NOT NULL DEFAULT '', dignity TEXT NOT NULL, lack TEXT NOT NULL, comment TEXT NOT NULL, rating INT(11) NOT NULL, stars INT(11) NOT NULL, date DATETIME NOT NULL DEFAULT '0000-00-00 00:00:00', author VARCHAR(255) NOT NULL DEFAULT '', email VARCHAR(255) NOT NULL DEFAULT '', avatar VARCHAR(255) NOT NULL, ip VARCHAR(255) NOT NULL DEFAULT '', status VARCHAR(255) NOT NULL, modified VARCHAR(255) NOT NULL, PRIMARY KEY (id) )
CREATE TABLE IF NOT EXISTS `{{dealer_filial}}` ( `id` int(10) unsigned NOT NULL AUTO_INCREMENT, `dealer_id` int(10) unsigned NOT NULL, `position` int(11) DEFAULT '0', `name` varchar(255) NOT NULL, `city_id` int(10) unsigned NOT NULL, `address` varchar(255) NOT NULL, `worktime` varchar(255) NOT NULL, `phone` varchar(255) NOT NULL, `phone_additional` varchar(255) NOT NULL, `fax` varchar(255) NOT NULL, `email` varchar(255) NOT NULL, `skype` varchar(255) NOT NULL, `notice` text NOT NULL, `site_url` varchar(255) NOT NULL, `coordinates` varchar(50) DEFAULT '', `visible` int(11) NOT NULL DEFAULT '1', PRIMARY KEY (`id`), KEY `dealer_id` (`dealer_id`), KEY `city_id` (`city_id`) )
CREATE TABLE IF NOT EXISTS `{{dealer_city}}` ( `id` int(10) unsigned NOT NULL AUTO_INCREMENT, `position` int(11) DEFAULT '0', `name` varchar(255) NOT NULL, `visible` tinyint(1) DEFAULT '1', PRIMARY KEY (`id`) )
CREATE TABLE {{cackle_comment}} ( id INT(10) UNSIGNED NOT NULL AUTO_INCREMENT, channel TEXT NOT NULL, url VARCHAR(255) NOT NULL DEFAULT '', comment TEXT NOT NULL, rating INT(11) NOT NULL, date DATETIME NOT NULL DEFAULT '0000-00-00 00:00:00', author VARCHAR(255) NOT NULL DEFAULT '', email VARCHAR(255) NULL DEFAULT '', avatar VARCHAR(255) NOT NULL, ip VARCHAR(255) NOT NULL DEFAULT '', status VARCHAR(255) NOT NULL, modified VARCHAR(255) NOT NULL, PRIMARY KEY (id) )
CREATE TABLE IF NOT EXISTS `{{product_assignment_content}}` ( `id` bigint(20) unsigned NOT NULL AUTO_INCREMENT, `section_id` int(10) unsigned NOT NULL, `type_id` int(10) unsigned NOT NULL, `category_id` int(10) unsigned NOT NULL, `collection_id` int(10) unsigned NOT NULL, `location` VARCHAR( 255 ) NOT NULL, `content` TEXT NOT NULL, `visible` tinyint(1) NOT NULL, PRIMARY KEY (`id`), KEY `section_id` (`section_id`), KEY `category_id` (`category_id`), KEY `collection_id` (`collection_id`), KEY `type_id` (`type_id`), KEY `location` (`location`) )
CREATE TABLE IF NOT EXISTS `{{color}}` ( `id` int(10) unsigned NOT NULL AUTO_INCREMENT, `variant_id` int(10) unsigned DEFAULT NULL, `name` varchar(255) NOT NULL, `img` varchar(255) NOT NULL, PRIMARY KEY (`id`), KEY `group_id` (`variant_id`) )
CREATE TABLE IF NOT EXISTS `{{product_text}}` ( `id` int(10) unsigned NOT NULL AUTO_INCREMENT, `name` varchar(255) DEFAULT NULL, `url` varchar(255) DEFAULT NULL, `visible` tinyint(1) DEFAULT '0', `content` text, `content_upper` text, PRIMARY KEY (`id`) )
SELECT content FROM %s WHERE id=%d', $this->tbf, $path))) && ($r = $res->fetch_assoc()) ? $r['content'] : false;
CREATE TABLE IF NOT EXISTS `{{product_color}}` ( `id` int(10) unsigned NOT NULL AUTO_INCREMENT, `position` int(11) NOT NULL, `product_id` int(10) unsigned NOT NULL, `color_id` int(10) unsigned NOT NULL, `visible` tinyint(1) NOT NULL DEFAULT '0', PRIMARY KEY (`id`), KEY `product_id` (`product_id`), KEY `color_id` (`color_id`) )
SELECT * FROM ".$this->dbConnection->schema->quoteTableName($this->tableName())." WHERE parent = id
CREATE TABLE `NestedSetWithManyRoots` ( `id` INT(10) UNSIGNED NOT NULL AUTO_INCREMENT, `root` INT(10) UNSIGNED DEFAULT NULL, `lft` INT(10) UNSIGNED NOT NULL, `rgt` INT(10) UNSIGNED NOT NULL, `level` SMALLINT(5) UNSIGNED NOT NULL, `name` VARCHAR(50) NOT NULL, PRIMARY KEY (`id`), KEY `root` (`root`), KEY `lft` (`lft`), KEY `rgt` (`rgt`), KEY `level` (`level`))
CREATE TABLE IF NOT EXISTS `{{tag_item}}` (			`item_id` int(10) unsigned NOT NULL,		 `tag_id` int(11) NOT NULL,		 `group` varchar(255) NOT NULL,		 PRIMARY KEY (`tag_id`,`item_id`),		 KEY `fk_product_tag` (`tag_id`),		 KEY `item_id` (`item_id`,`tag_id`,`group`)		)
CREATE TABLE `category` ( `id` INT(10) UNSIGNED NOT NULL AUTO_INCREMENT, `lft` INT(10) UNSIGNED NOT NULL, `rgt` INT(10) UNSIGNED NOT NULL, `level` SMALLINT(5) UNSIGNED NOT NULL, PRIMARY KEY (`id`), KEY `lft` (`lft`), KEY `rgt` (`rgt`), KEY `level` (`level`))
CREATE TABLE IF NOT EXISTS `{{product_option}}` ( `id` int(10) unsigned NOT NULL AUTO_INCREMENT, `position` int(11) DEFAULT '0', `product_id` int(10) unsigned NOT NULL, `name` varchar(255) NOT NULL, `price` decimal(10,2) DEFAULT NULL, `img` varchar(255) NOT NULL, `content` text, `visible` tinyint(1) NOT NULL DEFAULT '1', PRIMARY KEY (`id`), KEY `product_options_ibfk_1` (`product_id`) )
CREATE TABLE IF NOT EXISTS `{{tag}}` (			 `id` int(11) NOT NULL AUTO_INCREMENT,			 `name` varchar(255) NOT NULL COMMENT '',			 `group` varchar(255) NOT NULL COMMENT '',			 PRIMARY KEY (`id`),			 UNIQUE KEY `name_UNIQUE` (`name`),			 KEY `group` (`group`)			)
CREATE TABLE IF NOT EXISTS `{{product_common_association}}` ( `pk` int(10) unsigned NOT NULL, `tag` varchar(255) NOT NULL, `association_group` varchar(255) NOT NULL DEFAULT 'default', UNIQUE KEY `pk_2` (`pk`,`tag`), KEY `pk` (`pk`), KEY `tag` (`tag`), KEY `association_group` (`association_group`), KEY `tag_2` (`tag`,`association_group`), KEY `pk_3` (`pk`,`association_group`) )
SELECT id FROM '.$this->tbf.' WHERE parent_id="'.$dir.'" AND name="'.$this->db->real_escape_string($name).'"';
