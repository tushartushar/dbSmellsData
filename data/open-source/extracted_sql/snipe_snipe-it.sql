CREATE TABLE `status_labels` ( `id` int(10) unsigned NOT NULL AUTO_INCREMENT, `name` varchar(100) COLLATE utf8_unicode_ci DEFAULT NULL, `user_id` int(11) DEFAULT NULL, `created_at` timestamp NULL DEFAULT NULL, `updated_at` timestamp NULL DEFAULT NULL, `deleted_at` timestamp NULL DEFAULT NULL, `deployable` tinyint(1) NOT NULL DEFAULT '0', `pending` tinyint(1) NOT NULL DEFAULT '0', `archived` tinyint(1) NOT NULL DEFAULT '0', `notes` text COLLATE utf8_unicode_ci, `color` varchar(10) COLLATE utf8_unicode_ci DEFAULT NULL, `show_in_nav` tinyint(1) NOT NULL DEFAULT '0', PRIMARY KEY (`id`))
CREATE TABLE `consumables_users` ( `id` int(10) unsigned NOT NULL AUTO_INCREMENT, `user_id` int(11) DEFAULT NULL, `consumable_id` int(11) DEFAULT NULL, `assigned_to` int(11) DEFAULT NULL, `created_at` timestamp NULL DEFAULT NULL, `updated_at` timestamp NULL DEFAULT NULL, PRIMARY KEY (`id`))
CREATE TABLE `components` ( `id` int(10) unsigned NOT NULL AUTO_INCREMENT, `name` varchar(255) COLLATE utf8_unicode_ci DEFAULT NULL, `category_id` int(11) DEFAULT NULL, `location_id` int(11) DEFAULT NULL, `company_id` int(11) DEFAULT NULL, `user_id` int(11) DEFAULT NULL, `qty` int(11) NOT NULL DEFAULT '1', `order_number` varchar(255) COLLATE utf8_unicode_ci DEFAULT NULL, `purchase_date` date DEFAULT NULL, `purchase_cost` decimal(20,2) DEFAULT NULL, `created_at` timestamp NULL DEFAULT NULL, `updated_at` timestamp NULL DEFAULT NULL, `deleted_at` timestamp NULL DEFAULT NULL, `min_amt` int(11) DEFAULT NULL, `serial` varchar(255) COLLATE utf8_unicode_ci DEFAULT NULL, PRIMARY KEY (`id`))
CREATE TABLE `custom_fields` ( `id` int(10) unsigned NOT NULL AUTO_INCREMENT, `name` varchar(255) COLLATE utf8_unicode_ci NOT NULL, `format` varchar(255) COLLATE utf8_unicode_ci NOT NULL, `element` varchar(255) COLLATE utf8_unicode_ci NOT NULL, `created_at` timestamp NULL DEFAULT NULL, `updated_at` timestamp NULL DEFAULT NULL, `user_id` int(11) DEFAULT NULL, `field_values` varchar(255) COLLATE utf8_unicode_ci DEFAULT NULL, `field_encrypted` tinyint(1) NOT NULL DEFAULT '0', PRIMARY KEY (`id`))
CREATE TABLE `checkout_requests` ( `id` int(10) unsigned NOT NULL AUTO_INCREMENT, `user_id` int(11) NOT NULL, `requestable_id` int(11) NOT NULL, `requestable_type` varchar(255) COLLATE utf8_unicode_ci NOT NULL, `quantity` int(11) NOT NULL DEFAULT '1', `created_at` timestamp NULL DEFAULT NULL, `updated_at` timestamp NULL DEFAULT NULL, PRIMARY KEY (`id`), UNIQUE KEY `checkout_requests_user_id_requestable_id_requestable_type_unique` (`user_id`,`requestable_id`,`requestable_type`))
CREATE TABLE `custom_fieldsets` ( `id` int(10) unsigned NOT NULL AUTO_INCREMENT, `name` varchar(255) COLLATE utf8_unicode_ci NOT NULL, `created_at` timestamp NULL DEFAULT NULL, `updated_at` timestamp NULL DEFAULT NULL, `user_id` int(11) DEFAULT NULL, PRIMARY KEY (`id`))
CREATE TABLE `accessories` ( `id` int(10) unsigned NOT NULL AUTO_INCREMENT, `name` varchar(255) COLLATE utf8_unicode_ci DEFAULT NULL, `category_id` int(11) DEFAULT NULL, `user_id` int(11) DEFAULT NULL, `qty` int(11) NOT NULL DEFAULT '0', `requestable` tinyint(1) NOT NULL DEFAULT '0', `created_at` timestamp NULL DEFAULT NULL, `updated_at` timestamp NULL DEFAULT NULL, `deleted_at` timestamp NULL DEFAULT NULL, `location_id` int(11) DEFAULT NULL, `purchase_date` date DEFAULT NULL, `purchase_cost` decimal(20,2) DEFAULT NULL, `order_number` varchar(255) COLLATE utf8_unicode_ci DEFAULT NULL, `company_id` int(10) unsigned DEFAULT NULL, `min_amt` int(11) DEFAULT NULL, `manufacturer_id` int(11) DEFAULT NULL, `model_number` varchar(255) COLLATE utf8_unicode_ci DEFAULT NULL, PRIMARY KEY (`id`))
select id from users where first_name LIKE '%".$search."%' OR last_name LIKE '%".$search."%') ");
SELECT expected_checkin FROM ".DB::getTablePrefix()."asset_logs WHERE ".DB::getTablePrefix()."asset_logs.id=".DB::getTablePrefix()."assets.id AND action_type='checkout' ORDER BY id DESC limit 1) WHERE assigned_to IS NOT NULL");
CREATE TABLE `groups` ( `id` int(10) unsigned NOT NULL AUTO_INCREMENT, `name` varchar(255) COLLATE utf8_unicode_ci NOT NULL, `permissions` text COLLATE utf8_unicode_ci, `created_at` timestamp NULL DEFAULT NULL, `updated_at` timestamp NULL DEFAULT NULL, PRIMARY KEY (`id`))
CREATE TABLE `requested_assets` ( `id` int(10) unsigned NOT NULL AUTO_INCREMENT, `asset_id` int(11) NOT NULL, `user_id` int(11) NOT NULL, `accepted_at` datetime DEFAULT NULL, `denied_at` datetime DEFAULT NULL, `notes` varchar(255) COLLATE utf8_unicode_ci NOT NULL, `created_at` timestamp NULL DEFAULT NULL, `updated_at` timestamp NULL DEFAULT NULL, PRIMARY KEY (`id`))
CREATE TABLE `custom_field_custom_fieldset` ( `custom_field_id` int(11) NOT NULL, `custom_fieldset_id` int(11) NOT NULL, `order` int(11) NOT NULL, `required` tinyint(1) NOT NULL)
CREATE TABLE `categories` ( `id` int(10) unsigned NOT NULL AUTO_INCREMENT, `name` varchar(255) COLLATE utf8_unicode_ci NOT NULL, `created_at` timestamp NULL DEFAULT NULL, `updated_at` timestamp NULL DEFAULT NULL, `user_id` int(11) DEFAULT NULL, `deleted_at` timestamp NULL DEFAULT NULL, `eula_text` longtext COLLATE utf8_unicode_ci, `use_default_eula` tinyint(1) NOT NULL DEFAULT '0', `require_acceptance` tinyint(1) NOT NULL DEFAULT '0', `category_type` varchar(255) COLLATE utf8_unicode_ci DEFAULT 'asset', `checkin_email` tinyint(1) NOT NULL DEFAULT '0', PRIMARY KEY (`id`))
CREATE TABLE `locations` ( `id` int(10) unsigned NOT NULL AUTO_INCREMENT, `name` varchar(255) COLLATE utf8_unicode_ci DEFAULT NULL, `city` varchar(255) COLLATE utf8_unicode_ci DEFAULT NULL, `state` varchar(32) COLLATE utf8_unicode_ci DEFAULT NULL, `country` varchar(2) COLLATE utf8_unicode_ci DEFAULT NULL, `created_at` timestamp NULL DEFAULT NULL, `updated_at` timestamp NULL DEFAULT NULL, `user_id` int(11) DEFAULT NULL, `address` varchar(80) COLLATE utf8_unicode_ci DEFAULT NULL, `address2` varchar(80) COLLATE utf8_unicode_ci DEFAULT NULL, `zip` varchar(10) COLLATE utf8_unicode_ci DEFAULT NULL, `deleted_at` timestamp NULL DEFAULT NULL, `parent_id` int(11) DEFAULT NULL, `currency` varchar(10) COLLATE utf8_unicode_ci DEFAULT NULL, PRIMARY KEY (`id`))
CREATE TABLE `manufacturers` ( `id` int(10) unsigned NOT NULL AUTO_INCREMENT, `name` varchar(255) COLLATE utf8_unicode_ci NOT NULL, `created_at` timestamp NULL DEFAULT NULL, `updated_at` timestamp NULL DEFAULT NULL, `user_id` int(11) DEFAULT NULL, `deleted_at` timestamp NULL DEFAULT NULL, PRIMARY KEY (`id`))
update users set votes = 100  where name = ?
CREATE TABLE `depreciations` ( `id` int(10) unsigned NOT NULL AUTO_INCREMENT, `name` varchar(255) COLLATE utf8_unicode_ci NOT NULL, `months` int(11) NOT NULL, `created_at` timestamp NULL DEFAULT NULL, `updated_at` timestamp NULL DEFAULT NULL, `user_id` int(11) DEFAULT NULL, PRIMARY KEY (`id`))
CREATE TABLE `consumables` ( `id` int(10) unsigned NOT NULL AUTO_INCREMENT, `name` varchar(255) COLLATE utf8_unicode_ci DEFAULT NULL, `category_id` int(11) DEFAULT NULL, `location_id` int(11) DEFAULT NULL, `user_id` int(11) DEFAULT NULL, `qty` int(11) NOT NULL DEFAULT '0', `requestable` tinyint(1) NOT NULL DEFAULT '0', `created_at` timestamp NULL DEFAULT NULL, `updated_at` timestamp NULL DEFAULT NULL, `deleted_at` timestamp NULL DEFAULT NULL, `purchase_date` date DEFAULT NULL, `purchase_cost` decimal(20,2) DEFAULT NULL, `order_number` varchar(255) COLLATE utf8_unicode_ci DEFAULT NULL, `company_id` int(10) unsigned DEFAULT NULL, `min_amt` int(11) DEFAULT NULL, `model_number` varchar(255) COLLATE utf8_unicode_ci DEFAULT NULL, `manufacturer_id` int(11) DEFAULT NULL, `item_no` varchar(255) COLLATE utf8_unicode_ci DEFAULT NULL, PRIMARY KEY (`id`))
CREATE TABLE `users_groups` ( `user_id` int(10) unsigned NOT NULL, `group_id` int(10) unsigned NOT NULL, PRIMARY KEY (`user_id`,`group_id`))
CREATE TABLE `migrations` ( `migration` varchar(255) COLLATE utf8_unicode_ci NOT NULL, `batch` int(11) NOT NULL)
CREATE TABLE `asset_logs` ( `id` int(10) unsigned NOT NULL AUTO_INCREMENT, `user_id` int(11) DEFAULT NULL, `action_type` varchar(255) COLLATE utf8_unicode_ci NOT NULL, `asset_id` int(11) NOT NULL, `checkedout_to` int(11) DEFAULT NULL, `location_id` int(11) DEFAULT NULL, `created_at` timestamp NULL DEFAULT NULL, `updated_at` timestamp NULL DEFAULT NULL, `deleted_at` timestamp NULL DEFAULT NULL, `asset_type` varchar(100) COLLATE utf8_unicode_ci DEFAULT NULL, `note` text COLLATE utf8_unicode_ci, `filename` text COLLATE utf8_unicode_ci, `requested_at` datetime DEFAULT NULL, `accepted_at` datetime DEFAULT NULL, `accessory_id` int(11) DEFAULT NULL, `accepted_id` int(11) DEFAULT NULL, `consumable_id` int(11) DEFAULT NULL, `expected_checkin` date DEFAULT NULL, `component_id` int(11) DEFAULT NULL, PRIMARY KEY (`id`))
CREATE TABLE `asset_uploads` ( `id` int(10) unsigned NOT NULL AUTO_INCREMENT, `user_id` int(11) DEFAULT NULL, `filename` varchar(255) COLLATE utf8_unicode_ci NOT NULL, `asset_id` int(11) NOT NULL, `filenotes` varchar(255) COLLATE utf8_unicode_ci DEFAULT NULL, `created_at` timestamp NULL DEFAULT NULL, `updated_at` timestamp NULL DEFAULT NULL, `deleted_at` timestamp NULL DEFAULT NULL, PRIMARY KEY (`id`))
CREATE TABLE `throttle` ( `id` int(10) unsigned NOT NULL AUTO_INCREMENT, `user_id` int(10) unsigned DEFAULT NULL, `ip_address` varchar(255) COLLATE utf8_unicode_ci DEFAULT NULL, `attempts` int(11) NOT NULL DEFAULT '0', `suspended` tinyint(1) NOT NULL DEFAULT '0', `banned` tinyint(1) NOT NULL DEFAULT '0', `last_attempt_at` timestamp NULL DEFAULT NULL, `suspended_at` timestamp NULL DEFAULT NULL, `banned_at` timestamp NULL DEFAULT NULL, PRIMARY KEY (`id`), KEY `throttle_user_id_index` (`user_id`))
select * from ' . DB::getTablePrefix() . 'status_labels where name="Pending" OR name="Ready to Deploy"');
CREATE TABLE `license_seats` ( `id` int(10) unsigned NOT NULL AUTO_INCREMENT, `license_id` int(11) DEFAULT NULL, `assigned_to` int(11) DEFAULT NULL, `notes` text COLLATE utf8_unicode_ci, `user_id` int(11) DEFAULT NULL, `created_at` timestamp NULL DEFAULT NULL, `updated_at` timestamp NULL DEFAULT NULL, `deleted_at` timestamp NULL DEFAULT NULL, `asset_id` int(11) DEFAULT NULL, PRIMARY KEY (`id`))
CREATE TABLE `requests` ( `id` int(10) unsigned NOT NULL AUTO_INCREMENT, `asset_id` int(11) NOT NULL, `user_id` int(11) DEFAULT NULL, `request_code` text COLLATE utf8_unicode_ci NOT NULL, `created_at` timestamp NULL DEFAULT NULL, `updated_at` timestamp NULL DEFAULT NULL, `deleted_at` timestamp NULL DEFAULT NULL, PRIMARY KEY (`id`))
select * from ' . DB::getTablePrefix() . 'assets where status_id IS NULL AND physical=1 ');
CREATE TABLE `asset_maintenances` ( `id` int(10) unsigned NOT NULL AUTO_INCREMENT, `asset_id` int(10) unsigned NOT NULL, `supplier_id` int(10) unsigned NOT NULL, `asset_maintenance_type` varchar(255) COLLATE utf8_unicode_ci NOT NULL, `title` varchar(100) COLLATE utf8_unicode_ci NOT NULL, `is_warranty` tinyint(1) NOT NULL, `start_date` date NOT NULL, `completion_date` date DEFAULT NULL, `asset_maintenance_time` int(11) DEFAULT NULL, `notes` longtext COLLATE utf8_unicode_ci, `cost` decimal(20,2) DEFAULT NULL, `deleted_at` datetime DEFAULT NULL, `created_at` timestamp NULL DEFAULT NULL, `updated_at` timestamp NULL DEFAULT NULL, `user_id` int(11) DEFAULT NULL, PRIMARY KEY (`id`))
CREATE TABLE `components_assets` ( `id` int(10) unsigned NOT NULL AUTO_INCREMENT, `user_id` int(11) DEFAULT NULL, `assigned_qty` int(11) DEFAULT '1', `component_id` int(11) DEFAULT NULL, `asset_id` int(11) DEFAULT NULL, `created_at` timestamp NULL DEFAULT NULL, `updated_at` timestamp NULL DEFAULT NULL, PRIMARY KEY (`id`))
CREATE TABLE `models` ( `id` int(10) unsigned NOT NULL AUTO_INCREMENT, `name` varchar(255) COLLATE utf8_unicode_ci NOT NULL, `model_number` varchar(255) COLLATE utf8_unicode_ci DEFAULT NULL, `manufacturer_id` int(11) DEFAULT NULL, `category_id` int(11) DEFAULT NULL, `created_at` timestamp NULL DEFAULT NULL, `updated_at` timestamp NULL DEFAULT NULL, `depreciation_id` int(11) DEFAULT NULL, `user_id` int(11) DEFAULT NULL, `eol` int(11) DEFAULT NULL, `image` varchar(255) COLLATE utf8_unicode_ci DEFAULT NULL, `deprecated_mac_address` tinyint(1) NOT NULL DEFAULT '0', `deleted_at` timestamp NULL DEFAULT NULL, `fieldset_id` int(11) DEFAULT NULL, `notes` longtext COLLATE utf8_unicode_ci, `requestable` tinyint(4) NOT NULL DEFAULT '0', PRIMARY KEY (`id`))
CREATE TABLE `password_resets` ( `email` varchar(255) COLLATE utf8_unicode_ci NOT NULL, `token` varchar(255) COLLATE utf8_unicode_ci NOT NULL, `created_at` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP, KEY `password_resets_email_index` (`email`), KEY `password_resets_token_index` (`token`))
CREATE TABLE `companies` ( `id` int(10) unsigned NOT NULL AUTO_INCREMENT, `name` varchar(255) COLLATE utf8_unicode_ci NOT NULL, `created_at` timestamp NULL DEFAULT NULL, `updated_at` timestamp NULL DEFAULT NULL, PRIMARY KEY (`id`), UNIQUE KEY `companies_name_unique` (`name`))
CREATE TABLE `accessories_users` ( `id` int(10) unsigned NOT NULL AUTO_INCREMENT, `user_id` int(11) DEFAULT NULL, `accessory_id` int(11) DEFAULT NULL, `assigned_to` int(11) DEFAULT NULL, `created_at` timestamp NULL DEFAULT NULL, `updated_at` timestamp NULL DEFAULT NULL, PRIMARY KEY (`id`))
CREATE TABLE `action_logs` ( `id` int(10) unsigned NOT NULL AUTO_INCREMENT, `user_id` int(11) DEFAULT NULL, `action_type` varchar(255) COLLATE utf8_unicode_ci NOT NULL, `target_id` int(11) DEFAULT NULL, `target_type` varchar(255) COLLATE utf8_unicode_ci DEFAULT NULL, `location_id` int(11) DEFAULT NULL, `note` text COLLATE utf8_unicode_ci, `filename` text COLLATE utf8_unicode_ci, `item_type` varchar(255) COLLATE utf8_unicode_ci NOT NULL, `item_id` int(11) NOT NULL, `expected_checkin` date DEFAULT NULL, `accepted_id` int(11) DEFAULT NULL, `created_at` timestamp NULL DEFAULT NULL, `updated_at` timestamp NULL DEFAULT NULL, `deleted_at` timestamp NULL DEFAULT NULL, `thread_id` int(11) DEFAULT NULL, `company_id` int(11) DEFAULT NULL, `accept_signature` varchar(100) COLLATE utf8_unicode_ci DEFAULT NULL, PRIMARY KEY (`id`), KEY `action_logs_thread_id_index` (`thread_id`))
select id from locations where name LIKE '%".$search."%') ");
SELECT MAX(created_at) FROM ".DB::getTablePrefix()."asset_logs WHERE ".DB::getTablePrefix()."asset_logs.id=".DB::getTablePrefix()."assets.id AND action_type='checkout') WHERE assigned_to IS NOT NULL");
select * from ' . DB::getTablePrefix() . 'assets where status_id = 0 AND physical=1 ');
