CREATE TABLE `account` ( `id` int(11) NOT NULL AUTO_INCREMENT, `username` varchar(255) NOT NULL, `password` varchar(255) NOT NULL, `authKey` varchar(255) NOT NULL, `email` varchar(255) NOT NULL, `lastLoginAt` datetime DEFAULT NULL, `createdAt` datetime DEFAULT NULL, `status` int(11) NOT NULL DEFAULT '0', PRIMARY KEY (`id`), UNIQUE KEY `username` (`username`), UNIQUE KEY `email` (`email`))
CREATE TABLE `account_token` ( `id` int(11) NOT NULL AUTO_INCREMENT, `accountId` int(11) NOT NULL, `type` varchar(255) NOT NULL, `token` varchar(255) NOT NULL, `createdAt` datetime DEFAULT NULL, `status` int(11) NOT NULL DEFAULT '0', PRIMARY KEY (`id`), UNIQUE KEY `accountId_type_token` (`accountId`,`type`,`token`), CONSTRAINT `account_token_accountId_account_id` FOREIGN KEY (`accountId`) REFERENCES `account` (`id`))
CREATE TABLE `migration` ( `version` varchar(180) NOT NULL, `apply_time` int(11) DEFAULT NULL, PRIMARY KEY (`version`))
CREATE TABLE `account_login_history` ( `id` int(11) NOT NULL AUTO_INCREMENT, `accountId` int(11) NOT NULL DEFAULT '0', `success` tinyint(1) NOT NULL DEFAULT '0', `numFailedAttempts` int(11) NOT NULL DEFAULT '0', `createdAt` datetime DEFAULT NULL, PRIMARY KEY (`id`), KEY `account_login_history_accountId_account_id` (`accountId`), CONSTRAINT `account_login_history_accountId_account_id` FOREIGN KEY (`accountId`) REFERENCES `account` (`id`))
CREATE TABLE `account_password_history` ( `id` int(11) NOT NULL AUTO_INCREMENT, `accountId` int(11) NOT NULL, `password` varchar(255) NOT NULL, `createdAt` datetime DEFAULT NULL, PRIMARY KEY (`id`), KEY `account_password_history_accountId_account_id` (`accountId`), CONSTRAINT `account_password_history_accountId_account_id` FOREIGN KEY (`accountId`) REFERENCES `account` (`id`))
CREATE TABLE `account_provider` ( `id` int(11) NOT NULL AUTO_INCREMENT, `accountId` int(11) NOT NULL, `name` varchar(255) NOT NULL, `clientId` varchar(255) NOT NULL, `data` text, PRIMARY KEY (`id`), UNIQUE KEY `accountId_name_clientId` (`accountId`,`name`,`clientId`))
