CREATE TABLE `search_modules` ( `module` varchar(255) CHARACTER SET utf8 NOT NULL, `searchable` enum('N','Y') COLLATE utf8mb4_unicode_ci NOT NULL, `weight` int(11) NOT NULL, PRIMARY KEY (`module`))
CREATE TABLE IF NOT EXISTS `location` ( `id` int(11) NOT NULL auto_increment, `language` varchar(5) NOT NULL, `extra_id` int(11) NOT NULL, `title` varchar(255) NOT NULL, `street` varchar(255) NOT NULL, `number` varchar(255) NOT NULL, `zip` varchar(255) NOT NULL, `city` varchar(255) NOT NULL, `country` varchar(255) NOT NULL, `lat` float default NULL, `lng` float default NULL, `show_overview` enum('N','Y') CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT 'Y', `created_on` datetime NOT NULL, `edited_on` datetime NOT NULL, PRIMARY KEY (`id`))
CREATE TABLE `blog_categories` ( `id` int(11) NOT NULL AUTO_INCREMENT, `meta_id` int(11) NOT NULL, `language` varchar(5) COLLATE utf8mb4_unicode_ci NOT NULL, `title` varchar(255) COLLATE utf8mb4_unicode_ci NOT NULL, PRIMARY KEY (`id`))
CREATE TABLE `users_groups` ( `group_id` int(11) NOT NULL, `user_id` int(11) NOT NULL, PRIMARY KEY (`group_id`,`user_id`))
CREATE TABLE IF NOT EXISTS `blog_comments` ( `id` int(11) NOT NULL auto_increment, `post_id` int(11) NOT NULL, `language` varchar(5) NOT NULL, `created_on` datetime NOT NULL, `author` varchar(255) NOT NULL, `email` varchar(255) NOT NULL, `website` text, `text` text NOT NULL, `type` enum('comment','trackback') NOT NULL default 'comment', `status` enum('published','moderation','spam') NOT NULL default 'moderation', `data` text COMMENT 'Serialized array with extra data', PRIMARY KEY (`id`), KEY `idx_post_id_status` (`post_id`,`status`))
SELECT MAX(id) FROM blog_posts LIMIT 1');
CREATE TABLE `backend_navigation` ( `id` int(11) unsigned NOT NULL AUTO_INCREMENT, `parent_id` int(11) NOT NULL, `label` varchar(255) COLLATE utf8mb4_unicode_ci NOT NULL, `url` varchar(255) COLLATE utf8mb4_unicode_ci DEFAULT NULL, `selected_for` text COLLATE utf8mb4_unicode_ci, `sequence` int(11) NOT NULL, PRIMARY KEY (`id`))
CREATE TABLE `modules_tags` ( `module` varchar(255) CHARACTER SET utf8 NOT NULL, `tag_id` int(11) NOT NULL, `other_id` int(11) NOT NULL, PRIMARY KEY (`module`,`tag_id`,`other_id`))
CREATE TABLE `tags` ( `id` int(11) NOT NULL AUTO_INCREMENT, `language` varchar(5) COLLATE utf8mb4_unicode_ci NOT NULL, `tag` varchar(255) COLLATE utf8mb4_unicode_ci NOT NULL, `number` int(11) NOT NULL, `url` varchar(255) COLLATE utf8mb4_unicode_ci NOT NULL, PRIMARY KEY (`id`))
CREATE TABLE `search_index` ( `module` varchar(255) CHARACTER SET utf8 NOT NULL, `other_id` int(11) NOT NULL, `field` varchar(64) CHARACTER SET utf8 NOT NULL, `value` text COLLATE utf8mb4_unicode_ci NOT NULL, `language` varchar(5) CHARACTER SET utf8 NOT NULL, `active` enum('N','Y') COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT 'N', PRIMARY KEY (`module`,`other_id`,`field`,`language`), FULLTEXT KEY `value` (`value`))
CREATE TABLE IF NOT EXISTS `forms_fields` ( `id` int(11) unsigned NOT NULL auto_increment, `form_id` int(11) unsigned NOT NULL, `type` enum('textbox','textarea', 'datetime', 'dropdown','checkbox','radiobutton','heading','paragraph','submit') NOT NULL, `settings` text CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci, `sequence` int(11) NULL, PRIMARY KEY (`id`), KEY `sequence` (`sequence`), KEY `form_id` (`form_id`))
CREATE TABLE IF NOT EXISTS `groups_rights_modules` ( `id` int(11) NOT NULL auto_increment, `group_id` int(11) NOT NULL, `module` varchar(255) CHARACTER SET utf8 NOT NULL COMMENT 'name of the module', PRIMARY KEY (`id`), KEY `idx_group_id` (`group_id`))
CREATE TABLE `location_settings` ( `map_id` int(11) unsigned NOT NULL, `name` varchar(255) CHARACTER SET utf8 NOT NULL DEFAULT '', `value` text COLLATE utf8mb4_unicode_ci NOT NULL, PRIMARY KEY (`map_id`,`name`))
CREATE TABLE `blog_comments` ( `id` int(11) NOT NULL AUTO_INCREMENT, `post_id` int(11) NOT NULL, `language` varchar(5) COLLATE utf8mb4_unicode_ci NOT NULL, `created_on` datetime NOT NULL, `author` varchar(255) COLLATE utf8mb4_unicode_ci NOT NULL, `email` varchar(255) COLLATE utf8mb4_unicode_ci NOT NULL, `website` text COLLATE utf8mb4_unicode_ci, `text` text COLLATE utf8mb4_unicode_ci NOT NULL, `type` enum('comment','trackback') COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT 'comment', `status` enum('published','moderation','spam') COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT 'moderation', `data` text COLLATE utf8mb4_unicode_ci COMMENT 'Serialized array with extra data', PRIMARY KEY (`id`), KEY `idx_post_id_status` (`post_id`,`status`))
CREATE TABLE `groups_settings` ( `group_id` int(11) NOT NULL, `name` varchar(255) CHARACTER SET utf8 NOT NULL COMMENT 'name of the setting', `value` text COLLATE utf8mb4_unicode_ci NOT NULL COMMENT 'serialized value', PRIMARY KEY (`group_id`,`name`))
CREATE TABLE `hooks_subscriptions` ( `event_module` varchar(255) CHARACTER SET utf8 NOT NULL, `event_name` varchar(255) CHARACTER SET utf8 NOT NULL, `module` varchar(255) CHARACTER SET utf8 NOT NULL, `callback` text COLLATE utf8mb4_unicode_ci NOT NULL, `created_on` datetime NOT NULL, UNIQUE KEY `event_module` (`event_module`(100),`event_name`(100),`module`(100)))
CREATE TABLE `analytics_keywords` ( `id` int(11) NOT NULL AUTO_INCREMENT, `keyword` varchar(255) COLLATE utf8mb4_unicode_ci NOT NULL, `entrances` int(11) NOT NULL, `date` datetime NOT NULL, PRIMARY KEY (`id`))
CREATE TABLE IF NOT EXISTS `profiles_settings` ( `profile_id` int(11) NOT NULL, `name` varchar(255) CHARACTER SET utf8 NOT NULL, `value` text NOT NULL, PRIMARY KEY (`name`,`profile_id`), KEY `fk_profiles_settings_profiles1` (`profile_id`))
CREATE TABLE `users_settings` ( `user_id` int(11) NOT NULL, `name` varchar(255) CHARACTER SET utf8 NOT NULL COMMENT 'name of the setting', `value` text COLLATE utf8mb4_unicode_ci NOT NULL COMMENT 'serialized value', PRIMARY KEY (`user_id`,`name`))
CREATE TABLE IF NOT EXISTS `forms` ( `id` int(11) unsigned NOT NULL auto_increment, `language` varchar(5) NOT NULL, `user_id` int(11) unsigned NOT NULL, `name` varchar(255) NOT NULL, `method` enum('database','database_email') NOT NULL default 'database_email', `email` text, `success_message` text, `identifier` varchar(255) NOT NULL, `created_on` datetime NOT NULL, `edited_on` datetime NOT NULL, PRIMARY KEY (`id`))
CREATE TABLE IF NOT EXISTS `profiles` ( `id` int(11) NOT NULL AUTO_INCREMENT, `email` varchar(255) NOT NULL, `password` varchar(255) NOT NULL, `status` enum('active','inactive','deleted','blocked') NOT NULL, `display_name` varchar(255) DEFAULT NULL, `url` varchar(255) DEFAULT NULL, `registered_on` datetime NOT NULL, `last_login` datetime NOT NULL, PRIMARY KEY (`id`))
CREATE TABLE IF NOT EXISTS `users` ( `id` int(11) NOT NULL auto_increment, `email` varchar(255) NOT NULL, `password` varchar(255) NOT NULL COMMENT 'will be case-sensitive', `active` enum('N','Y') NOT NULL default 'Y' COMMENT 'is this user active?', `deleted` enum('N','Y') NOT NULL default 'N' COMMENT 'is the user deleted?', `is_god` enum('N','Y') NOT NULL default 'N', PRIMARY KEY (`id`))
CREATE TABLE `analytics_pages` ( `id` int(11) NOT NULL AUTO_INCREMENT, `page` varchar(255) COLLATE utf8mb4_unicode_ci NOT NULL, `date_viewed` datetime NOT NULL, PRIMARY KEY (`id`))
CREATE TABLE IF NOT EXISTS `profiles_sessions` ( `session_id` varchar(255) CHARACTER SET utf8 NOT NULL, `profile_id` int(11) NOT NULL, `secret_key` varchar(255) DEFAULT NULL, `date` datetime NOT NULL, PRIMARY KEY (`session_id`,`profile_id`), KEY `fk_profiles_sessions_profiles1` (`profile_id`))
CREATE TABLE IF NOT EXISTS `search_index` ( `module` varchar(255) CHARACTER SET utf8 NOT NULL, `other_id` int(11) NOT NULL, `field` varchar(64) CHARACTER SET utf8 NOT NULL, `value` text NOT NULL, `language` varchar(5) CHARACTER SET utf8 NOT NULL, `active` enum('N','Y') NOT NULL default 'N', PRIMARY KEY (`module`,`other_id`,`field`,`language`), FULLTEXT KEY `value` (`value`))
CREATE TABLE IF NOT EXISTS `users_sessions` ( `id` int(11) NOT NULL auto_increment, `user_id` int(11) NOT NULL, `session_id` varchar(255) NOT NULL, `secret_key` varchar(255) NOT NULL, `date` datetime NOT NULL, PRIMARY KEY (`id`), KEY `idx_session_id_secret_key` (`session_id`(100),`secret_key`(100)))
CREATE TABLE IF NOT EXISTS `search_synonyms` ( `id` int(11) NOT NULL auto_increment, `term` varchar(245) NOT NULL, `synonym` text NOT NULL, `language` varchar(5) NOT NULL, PRIMARY KEY (`id`), UNIQUE KEY `UNIQUE` (`term`,`language`))
CREATE TABLE IF NOT EXISTS `modules_extras` ( `id` int(11) NOT NULL auto_increment COMMENT 'Unique ID for the extra.', `module` varchar(255) CHARACTER SET utf8 NOT NULL COMMENT 'The name of the module this extra belongs to.', `type` enum('homepage','block','widget') NOT NULL COMMENT 'The type of the block.', `label` varchar(255) NOT NULL COMMENT 'The label for this extra. It will be used for displaying purposes.', `action` varchar(255) default NULL, `data` text COMMENT 'A serialized value with the optional parameters', `hidden` enum('N','Y') NOT NULL default 'N' COMMENT 'Should the extra be shown in the backend?', `sequence` int(11) NOT NULL COMMENT 'The sequence in the backend.', PRIMARY KEY (`id`))
CREATE TABLE `groups_rights_modules` ( `id` int(11) NOT NULL AUTO_INCREMENT, `group_id` int(11) NOT NULL, `module` varchar(255) CHARACTER SET utf8 NOT NULL COMMENT 'name of the module', PRIMARY KEY (`id`), KEY `idx_group_id` (`group_id`))
CREATE TABLE `faq_questions` ( `id` int(11) NOT NULL AUTO_INCREMENT, `category_id` int(11) NOT NULL, `user_id` int(11) NOT NULL, `meta_id` int(11) NOT NULL, `language` varchar(5) COLLATE utf8mb4_unicode_ci NOT NULL, `question` varchar(255) COLLATE utf8mb4_unicode_ci NOT NULL, `answer` text COLLATE utf8mb4_unicode_ci NOT NULL, `created_on` datetime NOT NULL, `num_views` int(11) NOT NULL DEFAULT '0', `num_usefull_yes` int(11) NOT NULL DEFAULT '0', `num_usefull_no` int(11) NOT NULL DEFAULT '0', `hidden` enum('N','Y') COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT 'N', `sequence` int(11) NOT NULL, PRIMARY KEY (`id`), KEY `fk_faq_questions_faq_categories` (`hidden`,`language`))
CREATE TABLE `analytics_landing_pages` ( `id` int(11) NOT NULL AUTO_INCREMENT, `page_path` varchar(255) COLLATE utf8mb4_unicode_ci NOT NULL, `entrances` int(11) NOT NULL, `bounces` int(11) NOT NULL, `bounce_rate` varchar(255) COLLATE utf8mb4_unicode_ci NOT NULL, `start_date` datetime NOT NULL, `end_date` datetime NOT NULL, `updated_on` datetime NOT NULL, PRIMARY KEY (`id`))
CREATE TABLE `profiles_sessions` ( `session_id` varchar(255) CHARACTER SET utf8 NOT NULL, `profile_id` int(11) NOT NULL, `secret_key` varchar(255) COLLATE utf8mb4_unicode_ci DEFAULT NULL, `date` datetime NOT NULL, PRIMARY KEY (`session_id`,`profile_id`), KEY `fk_profiles_sessions_profiles1` (`profile_id`))
CREATE TABLE IF NOT EXISTS `groups_rights_actions` ( `id` int(11) NOT NULL auto_increment, `group_id` int(11) NOT NULL, `module` varchar(255) CHARACTER SET utf8 NOT NULL COMMENT 'name of the module', `action` varchar(255) NOT NULL COMMENT 'name of the action', `level` double NOT NULL default '1' COMMENT 'unix type levels 1, 3, 5 and 7', PRIMARY KEY (`id`))
CREATE TABLE IF NOT EXISTS `forms_fields_validation` ( `id` int(11) unsigned NOT NULL auto_increment, `field_id` int(11) unsigned NOT NULL, `type` enum('required','email','numeric','time') NOT NULL, `parameter` varchar(255) default NULL COMMENT 'If you want to validate higher then a number, the number would be the parameter', `error_message` varchar(255) NOT NULL, PRIMARY KEY (`id`), KEY `field_id` (`field_id`))
CREATE TABLE `users` ( `id` int(11) NOT NULL AUTO_INCREMENT, `email` varchar(255) COLLATE utf8mb4_unicode_ci NOT NULL, `password` varchar(255) COLLATE utf8mb4_unicode_ci NOT NULL COMMENT 'will be case-sensitive', `active` enum('N','Y') COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT 'Y' COMMENT 'is this user active?', `deleted` enum('N','Y') COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT 'N' COMMENT 'is the user deleted?', `is_god` enum('N','Y') COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT 'N', PRIMARY KEY (`id`))
CREATE TABLE `users_sessions` ( `id` int(11) NOT NULL AUTO_INCREMENT, `user_id` int(11) NOT NULL, `session_id` varchar(255) COLLATE utf8mb4_unicode_ci NOT NULL, `secret_key` varchar(255) COLLATE utf8mb4_unicode_ci NOT NULL, `date` datetime NOT NULL, PRIMARY KEY (`id`), KEY `idx_session_id_secret_key` (`session_id`(100),`secret_key`(100)))
CREATE TABLE IF NOT EXISTS `forms_data_fields` ( `id` int(11) unsigned NOT NULL auto_increment, `data_id` int(11) unsigned NOT NULL, `label` varchar(255) NOT NULL, `value` text CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci, PRIMARY KEY (`id`), KEY `data_id` (`data_id`))
CREATE TABLE IF NOT EXISTS `faq_questions` ( `id` int(11) NOT NULL auto_increment, `category_id` int(11) NOT NULL, `user_id` int(11) NOT NULL, `meta_id` int(11) NOT NULL, `language` varchar(5) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL, `question` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL, `answer` text CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL, `created_on` datetime NOT NULL, `num_views` int(11) NOT NULL default '0', `num_usefull_yes` int(11) NOT NULL default '0', `num_usefull_no` int(11) NOT NULL default '0', `hidden` enum('N','Y') CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL default 'N', `sequence` int(11) NOT NULL, PRIMARY KEY (`id`), KEY `fk_faq_questions_faq_categories` (`hidden`,`language`))
CREATE TABLE IF NOT EXISTS `hooks_queue` ( `id` int(11) NOT NULL AUTO_INCREMENT, `module` varchar(255) CHARACTER SET utf8 NOT NULL, `callback` text NOT NULL, `data` text , `status` enum('busy','error','queued') NOT NULL DEFAULT 'queued', `created_on` datetime NOT NULL, PRIMARY KEY (`id`))
CREATE TABLE `forms_data` ( `id` int(11) unsigned NOT NULL AUTO_INCREMENT, `form_id` int(11) unsigned NOT NULL, `session_id` varchar(255) COLLATE utf8mb4_unicode_ci DEFAULT NULL, `sent_on` datetime NOT NULL, `data` text COLLATE utf8mb4_unicode_ci COMMENT 'Serialized array with extra information.', PRIMARY KEY (`id`), KEY `form_id` (`form_id`))
SELECT image FROM blog_posts WHERE id IN (' . $idPlaceHolders . ')', $ids);
CREATE TABLE ' . $table . ' (id int(11) NOT NULL)
CREATE TABLE IF NOT EXISTS `blog_posts` ( `id` int(11) NOT NULL COMMENT 'The real post id', `revision_id` int(11) NOT NULL auto_increment, `category_id` int(11) NOT NULL, `user_id` int(11) NOT NULL, `meta_id` int(11) NOT NULL, `language` varchar(5) NOT NULL, `title` varchar(255) NOT NULL, `introduction` text, `text` text, `image` varchar(255), `status` enum('active','archived','draft') NOT NULL, `publish_on` datetime NOT NULL, `created_on` datetime NOT NULL, `edited_on` datetime NOT NULL, `hidden` enum('N','Y') NOT NULL default 'N', `allow_comments` enum('N','Y') NOT NULL default 'N', `num_comments` int(11) NOT NULL DEFAULT 0, PRIMARY KEY (`revision_id`), KEY `idx_status_language_hidden` (`status`,`language`,`hidden`))
CREATE TABLE IF NOT EXISTS `hooks_subscriptions` ( `event_module` varchar(255) CHARACTER SET utf8 NOT NULL, `event_name` varchar(255) CHARACTER SET utf8 NOT NULL, `module` varchar(255) CHARACTER SET utf8 NOT NULL, `callback` text NOT NULL, `created_on` datetime NOT NULL, UNIQUE KEY `event_module` (`event_module`(100),`event_name`(100),`module`(100)))
CREATE TABLE `faq_feedback` ( `id` int(11) unsigned NOT NULL auto_increment, `question_id` int(11) unsigned NOT NULL, `text` text NOT NULL, `processed` enum('N','Y') NOT NULL default 'N', `created_on` datetime NOT NULL, `edited_on` datetime NOT NULL, PRIMARY KEY (`id`))
CREATE TABLE `themes_templates` ( `id` int(11) NOT NULL AUTO_INCREMENT COMMENT 'Unique ID for the template.', `theme` varchar(255) COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT 'The name of the theme.', `label` varchar(255) COLLATE utf8mb4_unicode_ci NOT NULL COMMENT 'The label for the template, will be used for displaying purposes.', `path` varchar(255) COLLATE utf8mb4_unicode_ci NOT NULL COMMENT 'Filename for the template.', `active` enum('N','Y') COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT 'Y' COMMENT 'Is this template active (as in: will it be used).', `data` text COLLATE utf8mb4_unicode_ci COMMENT 'A serialized array with data that is specific for this template (eg.: names for the blocks).', PRIMARY KEY (`id`))
CREATE TABLE `search_synonyms` ( `id` int(11) NOT NULL AUTO_INCREMENT, `term` varchar(245) COLLATE utf8mb4_unicode_ci NOT NULL, `synonym` text COLLATE utf8mb4_unicode_ci NOT NULL, `language` varchar(5) COLLATE utf8mb4_unicode_ci NOT NULL, PRIMARY KEY (`id`), UNIQUE KEY `UNIQUE` (`term`,`language`))
CREATE TABLE IF NOT EXISTS `groups_settings` ( `group_id` int(11) NOT NULL, `name` varchar(255) CHARACTER SET utf8 NOT NULL COMMENT 'name of the setting', `value` text NOT NULL COMMENT 'serialized value', PRIMARY KEY (`group_id`,`name`))
CREATE TABLE IF NOT EXISTS `pages_blocks` ( `revision_id` int(11) NOT NULL COMMENT 'The ID of the page that contains this block.', `position` varchar(255) NOT NULL, `extra_id` int(11) default NULL COMMENT 'The linked extra.', `html` text COMMENT 'if this block is HTML this field should contain the real HTML.', `created_on` datetime NOT NULL, `edited_on` datetime NOT NULL, `visible` enum('N','Y') NOT NULL, `sequence` int(11) NOT NULL, KEY `idx_rev_status` (`revision_id`))
CREATE TABLE `modules_extras` ( `id` int(11) NOT NULL AUTO_INCREMENT COMMENT 'Unique ID for the extra.', `module` varchar(255) CHARACTER SET utf8 NOT NULL COMMENT 'The name of the module this extra belongs to.', `type` enum('homepage','block','widget') COLLATE utf8mb4_unicode_ci NOT NULL COMMENT 'The type of the block.', `label` varchar(255) COLLATE utf8mb4_unicode_ci NOT NULL COMMENT 'The label for this extra. It will be used for displaying purposes.', `action` varchar(255) COLLATE utf8mb4_unicode_ci DEFAULT NULL, `data` text COLLATE utf8mb4_unicode_ci COMMENT 'A serialized value with the optional parameters', `hidden` enum('N','Y') COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT 'N' COMMENT 'Should the extra be shown in the backend?', `sequence` int(11) NOT NULL COMMENT 'The sequence in the backend.', PRIMARY KEY (`id`))
CREATE TABLE `modules` ( `name` varchar(255) CHARACTER SET utf8 NOT NULL COMMENT 'unique module name', `installed_on` datetime NOT NULL, PRIMARY KEY (`name`), KEY `idx_name` (`name`))
CREATE TABLE IF NOT EXISTS `users_settings` ( `user_id` int(11) NOT NULL, `name` varchar(255) CHARACTER SET utf8 NOT NULL COMMENT 'name of the setting', `value` text NOT NULL COMMENT 'serialized value', PRIMARY KEY (`user_id`,`name`))
CREATE TABLE IF NOT EXISTS `profiles_groups` ( `id` int(11) NOT NULL AUTO_INCREMENT, `name` varchar(255) NOT NULL, PRIMARY KEY (`id`))
CREATE TABLE IF NOT EXISTS `themes_templates` ( `id` int(11) NOT NULL auto_increment COMMENT 'Unique ID for the template.', `theme` varchar(255) default NULL COMMENT 'The name of the theme.', `label` varchar(255) NOT NULL COMMENT 'The label for the template, will be used for displaying purposes.', `path` varchar(255) NOT NULL COMMENT 'Filename for the template.', `active` enum('N','Y') NOT NULL default 'Y' COMMENT 'Is this template active (as in: will it be used).', `data` text COMMENT 'A serialized array with data that is specific for this template (eg.: names for the blocks).', PRIMARY KEY (`id`))
CREATE TABLE IF NOT EXISTS `meta` ( `id` int(11) NOT NULL AUTO_INCREMENT, `keywords` varchar(255) NOT NULL, `keywords_overwrite` enum('N','Y') NOT NULL DEFAULT 'N', `description` varchar(255) NOT NULL, `description_overwrite` enum('N','Y') NOT NULL DEFAULT 'N', `title` varchar(255) NOT NULL, `title_overwrite` enum('N','Y') NOT NULL DEFAULT 'N', `url` varchar(255) NOT NULL, `url_overwrite` enum('N','Y') NOT NULL DEFAULT 'N', `custom` text CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci COMMENT 'used for custom meta-information', `data` text COMMENT 'used for extra meta-information', PRIMARY KEY (`id`), KEY `idx_url` (`url`(249)))
CREATE TABLE `meta` ( `id` int(11) NOT NULL AUTO_INCREMENT, `keywords` varchar(255) COLLATE utf8mb4_unicode_ci NOT NULL, `keywords_overwrite` enum('N','Y') COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT 'N', `description` varchar(255) COLLATE utf8mb4_unicode_ci NOT NULL, `description_overwrite` enum('N','Y') COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT 'N', `title` varchar(255) COLLATE utf8mb4_unicode_ci NOT NULL, `title_overwrite` enum('N','Y') COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT 'N', `url` varchar(255) COLLATE utf8mb4_unicode_ci NOT NULL, `url_overwrite` enum('N','Y') COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT 'N', `custom` text CHARACTER SET utf8 COMMENT 'used for custom meta-information', `data` text COLLATE utf8mb4_unicode_ci COMMENT 'used for extra meta-information', PRIMARY KEY (`id`), KEY `idx_url` (`url`))
UPDATE tags SET number = number + 1 WHERE id = ?
CREATE TABLE `faq_categories` ( `id` int(11) NOT NULL AUTO_INCREMENT, `meta_id` int(11) NOT NULL, `extra_id` int(11) NOT NULL, `language` varchar(5) COLLATE utf8mb4_unicode_ci NOT NULL, `title` varchar(255) COLLATE utf8mb4_unicode_ci NOT NULL, `sequence` int(11) NOT NULL, PRIMARY KEY (`id`))
CREATE TABLE `profiles_groups_rights` ( `id` int(11) NOT NULL AUTO_INCREMENT, `profile_id` int(11) NOT NULL, `group_id` int(11) NOT NULL, `starts_on` datetime DEFAULT NULL, `expires_on` datetime DEFAULT NULL, PRIMARY KEY (`id`), UNIQUE KEY `profile_id__group__id__expires_on` (`profile_id`,`group_id`,`expires_on`))
CREATE TABLE `forms` ( `id` int(11) unsigned NOT NULL AUTO_INCREMENT, `language` varchar(5) COLLATE utf8mb4_unicode_ci NOT NULL, `user_id` int(11) unsigned NOT NULL, `name` varchar(255) COLLATE utf8mb4_unicode_ci NOT NULL, `method` enum('database','database_email') COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT 'database_email', `email` text COLLATE utf8mb4_unicode_ci, `success_message` text COLLATE utf8mb4_unicode_ci, `identifier` varchar(255) COLLATE utf8mb4_unicode_ci NOT NULL, `created_on` datetime NOT NULL, `edited_on` datetime NOT NULL, PRIMARY KEY (`id`))
CREATE TABLE `forms_fields_validation` ( `id` int(11) unsigned NOT NULL AUTO_INCREMENT, `field_id` int(11) unsigned NOT NULL, `type` enum('required','email','numeric') COLLATE utf8mb4_unicode_ci NOT NULL, `parameter` varchar(255) COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT 'If you want to validate higher then a number, the number would be the parameter', `error_message` varchar(255) COLLATE utf8mb4_unicode_ci NOT NULL, PRIMARY KEY (`id`), KEY `field_id` (`field_id`))
CREATE TABLE `pages_blocks` ( `revision_id` int(11) NOT NULL COMMENT 'The ID of the page that contains this block.', `position` varchar(255) COLLATE utf8mb4_unicode_ci NOT NULL, `extra_id` int(11) DEFAULT NULL COMMENT 'The linked extra.', `html` text COLLATE utf8mb4_unicode_ci COMMENT 'if this block is HTML this field should contain the real HTML.', `created_on` datetime NOT NULL, `edited_on` datetime NOT NULL, `visible` enum('N','Y') COLLATE utf8mb4_unicode_ci NOT NULL, `sequence` int(11) NOT NULL, KEY `idx_rev_status` (`revision_id`))
CREATE TABLE `modules_settings` ( `module` varchar(255) CHARACTER SET utf8 NOT NULL COMMENT 'name of the module', `name` varchar(255) COLLATE utf8mb4_unicode_ci NOT NULL COMMENT 'name of the setting', `value` text COLLATE utf8mb4_unicode_ci NOT NULL COMMENT 'serialized value', PRIMARY KEY (`module`(25),`name`(100)))
CREATE TABLE IF NOT EXISTS `forms_data` ( `id` int(11) unsigned NOT NULL auto_increment, `form_id` int(11) unsigned NOT NULL, `session_id` varchar(255) default NULL, `sent_on` datetime NOT NULL, `data` text COMMENT 'Serialized array with extra information.', PRIMARY KEY (`id`), KEY `form_id` (`form_id`))
SELECT data FROM modules_extras WHERE type = :widget AND module = :module AND action = :action';
CREATE TABLE `forms_fields` ( `id` int(11) unsigned NOT NULL AUTO_INCREMENT, `form_id` int(11) unsigned NOT NULL, `type` enum('textbox','textarea','dropdown','checkbox','radiobutton','heading','paragraph','submit') COLLATE utf8mb4_unicode_ci NOT NULL, `settings` text COLLATE utf8mb4_unicode_ci, `sequence` int(11) DEFAULT NULL, PRIMARY KEY (`id`), KEY `sequence` (`sequence`), KEY `form_id` (`form_id`))
CREATE TABLE `profiles` ( `id` int(11) NOT NULL AUTO_INCREMENT, `email` varchar(255) COLLATE utf8mb4_unicode_ci NOT NULL, `password` varchar(255) COLLATE utf8mb4_unicode_ci NOT NULL, `status` enum('active','inactive','deleted','blocked') COLLATE utf8mb4_unicode_ci NOT NULL, `display_name` varchar(255) COLLATE utf8mb4_unicode_ci DEFAULT NULL, `url` varchar(255) COLLATE utf8mb4_unicode_ci DEFAULT NULL, `registered_on` datetime NOT NULL, `last_login` datetime NOT NULL, PRIMARY KEY (`id`))
CREATE TABLE IF NOT EXISTS `search_statistics` ( `id` int(11) NOT NULL auto_increment, `term` varchar(255) NOT NULL, `language` varchar(5) NOT NULL, `time` datetime NOT NULL, `data` text, `num_results` int(11) default NULL, PRIMARY KEY (`id`))
CREATE TABLE IF NOT EXISTS `location_settings` ( `map_id` int(11) unsigned NOT NULL, `name` varchar(255) CHARACTER SET utf8 NOT NULL DEFAULT '', `value` text NOT NULL, PRIMARY KEY (`map_id`,`name`))
CREATE TABLE `forms_data_fields` ( `id` int(11) unsigned NOT NULL AUTO_INCREMENT, `data_id` int(11) unsigned NOT NULL, `label` varchar(255) COLLATE utf8mb4_unicode_ci NOT NULL, `value` text COLLATE utf8mb4_unicode_ci, PRIMARY KEY (`id`), KEY `data_id` (`data_id`))
CREATE TABLE IF NOT EXISTS `profiles_groups_rights` ( `id` int(11) NOT NULL AUTO_INCREMENT, `profile_id` int(11) NOT NULL, `group_id` int(11) NOT NULL, `starts_on` datetime DEFAULT NULL, `expires_on` datetime DEFAULT NULL, PRIMARY KEY (`id`), UNIQUE KEY `profile_id__group__id__expires_on` (`profile_id`,`group_id`,`expires_on`))
CREATE TABLE IF NOT EXISTS `blog_categories` ( `id` int(11) NOT NULL auto_increment, `meta_id` int(11) NOT NULL, `language` varchar(5) NOT NULL, `title` varchar(255) NOT NULL, PRIMARY KEY (`id`))
CREATE TABLE `analytics_referrers` ( `id` int(11) NOT NULL AUTO_INCREMENT, `referrer` varchar(255) COLLATE utf8mb4_unicode_ci NOT NULL, `entrances` int(11) NOT NULL, `date` datetime NOT NULL, PRIMARY KEY (`id`))
CREATE TABLE IF NOT EXISTS `search_modules` ( `module` varchar(255) CHARACTER SET utf8 NOT NULL, `searchable` enum('N','Y') NOT NULL, `weight` int(11) NOT NULL, PRIMARY KEY (`module`))
CREATE TABLE `profiles_groups` ( `id` int(11) NOT NULL AUTO_INCREMENT, `name` varchar(255) COLLATE utf8mb4_unicode_ci NOT NULL, PRIMARY KEY (`id`))
UPDATE tags SET number = number - 1 WHERE id = ?
CREATE TABLE IF NOT EXISTS `modules_settings` ( `module` varchar(255) CHARACTER SET utf8 NOT NULL COMMENT 'name of the module', `name` varchar(255) NOT NULL COMMENT 'name of the setting', `value` text NOT NULL COMMENT 'serialized value', PRIMARY KEY (`module`(25),`name`(100)))
CREATE TABLE IF NOT EXISTS `groups` ( `id` int(11) NOT NULL auto_increment, `name` varchar(255) NOT NULL, `parameters` text COMMENT 'serialized array containing default user module/action rights', PRIMARY KEY (`id`))
CREATE TABLE `hooks_queue` ( `id` int(11) NOT NULL AUTO_INCREMENT, `module` varchar(255) CHARACTER SET utf8 NOT NULL, `callback` text COLLATE utf8mb4_unicode_ci NOT NULL, `data` text COLLATE utf8mb4_unicode_ci, `status` enum('busy','error','queued') COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT 'queued', `created_on` datetime NOT NULL, PRIMARY KEY (`id`))
CREATE TABLE IF NOT EXISTS `users_groups` ( `group_id` int(11) NOT NULL, `user_id` int(11) NOT NULL, PRIMARY KEY (`group_id`,`user_id`))
UPDATE faq_questions SET num_views = num_views + 1 WHERE id = ?
CREATE TABLE `search_statistics` ( `id` int(11) NOT NULL AUTO_INCREMENT, `term` varchar(255) COLLATE utf8mb4_unicode_ci NOT NULL, `language` varchar(5) COLLATE utf8mb4_unicode_ci NOT NULL, `time` datetime NOT NULL, `data` text COLLATE utf8mb4_unicode_ci, `num_results` int(11) DEFAULT NULL, PRIMARY KEY (`id`))
CREATE TABLE `locale` ( `id` int(11) NOT NULL AUTO_INCREMENT, `user_id` int(11) NOT NULL, `language` varchar(5) COLLATE utf8mb4_unicode_ci NOT NULL, `application` varchar(255) COLLATE utf8mb4_unicode_ci NOT NULL, `module` varchar(255) CHARACTER SET utf8 NOT NULL, `type` enum('act','err','lbl','msg') COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT 'lbl', `name` varchar(255) COLLATE utf8mb4_unicode_ci NOT NULL, `value` text COLLATE utf8mb4_unicode_ci, `edited_on` datetime NOT NULL, PRIMARY KEY (`id`), UNIQUE KEY `language` (`language`,`application`(20),`module`(20),`type`,`name`(100)))
SELECT id FROM modules_extras WHERE module = ? AND type = ? AND label = ?';
CREATE TABLE `groups` ( `id` int(11) NOT NULL AUTO_INCREMENT, `name` varchar(255) COLLATE utf8mb4_unicode_ci NOT NULL, `parameters` text COLLATE utf8mb4_unicode_ci COMMENT 'serialized array containing default user module/action rights', PRIMARY KEY (`id`))
CREATE TABLE IF NOT EXISTS `locale` ( `id` int(11) NOT NULL auto_increment, `user_id` int(11) NOT NULL, `language` varchar(5) NOT NULL, `application` varchar(255) NOT NULL, `module` varchar(255) CHARACTER SET utf8 NOT NULL, `type` enum('act','err','lbl','msg') NOT NULL default 'lbl', `name` varchar(255) NOT NULL, `value` text, `edited_on` datetime NOT NULL, PRIMARY KEY (`id`), UNIQUE KEY `language` (`language`,`application`(20),`module`(20),`type`,`name`(100)))
CREATE TABLE IF NOT EXISTS `tags` ( `id` int(11) NOT NULL auto_increment, `language` varchar(5) NOT NULL, `tag` varchar(255) NOT NULL, `number` int(11) NOT NULL, `url` varchar(255) NOT NULL, PRIMARY KEY (`id`))
CREATE TABLE `location` ( `id` int(11) NOT NULL AUTO_INCREMENT, `language` varchar(5) COLLATE utf8mb4_unicode_ci NOT NULL, `extra_id` int(11) NOT NULL, `title` varchar(255) COLLATE utf8mb4_unicode_ci NOT NULL, `street` varchar(255) COLLATE utf8mb4_unicode_ci NOT NULL, `number` varchar(255) COLLATE utf8mb4_unicode_ci NOT NULL, `zip` varchar(255) COLLATE utf8mb4_unicode_ci NOT NULL, `city` varchar(255) COLLATE utf8mb4_unicode_ci NOT NULL, `country` varchar(255) COLLATE utf8mb4_unicode_ci NOT NULL, `lat` float DEFAULT NULL, `lng` float DEFAULT NULL, `show_overview` enum('N','Y') COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT 'Y', `created_on` datetime NOT NULL, `edited_on` datetime NOT NULL, PRIMARY KEY (`id`))
create table $db->execute('DROP TABLE IF EXISTS ' . $table)
CREATE TABLE `profiles_settings` ( `profile_id` int(11) NOT NULL, `name` varchar(255) CHARACTER SET utf8 NOT NULL, `value` text COLLATE utf8mb4_unicode_ci NOT NULL, PRIMARY KEY (`name`,`profile_id`), KEY `fk_profiles_settings_profiles1` (`profile_id`))
CREATE TABLE `content_blocks` ( `id` int(11) NOT NULL, `revision_id` int(11) NOT NULL AUTO_INCREMENT, `user_id` int(11) NOT NULL, `extra_id` int(11) NOT NULL, `template` varchar(255) COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT 'Default.html.twig', `language` varchar(10) COLLATE utf8mb4_unicode_ci NOT NULL, `title` varchar(255) COLLATE utf8mb4_unicode_ci NOT NULL, `text` text COLLATE utf8mb4_unicode_ci, `hidden` enum('N','Y') COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT 'N' COMMENT '(DC2Type:enum_bool)', `status` enum('active','archived') COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT 'active' COMMENT '(DC2Type:content_blocks_status)', `created_on` datetime NOT NULL, `edited_on` datetime NOT NULL, PRIMARY KEY (`revision_id`))
CREATE TABLE `groups_rights_actions` ( `id` int(11) NOT NULL AUTO_INCREMENT, `group_id` int(11) NOT NULL, `module` varchar(255) CHARACTER SET utf8 NOT NULL COMMENT 'name of the module', `action` varchar(255) COLLATE utf8mb4_unicode_ci NOT NULL COMMENT 'name of the action', `level` double NOT NULL DEFAULT '1' COMMENT 'unix type levels 1, 3, 5 and 7', PRIMARY KEY (`id`))
CREATE TABLE `faq_feedback` ( `id` int(11) unsigned NOT NULL AUTO_INCREMENT, `question_id` int(11) unsigned NOT NULL, `text` text COLLATE utf8mb4_unicode_ci NOT NULL, `processed` enum('N','Y') COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT 'N', `created_on` datetime NOT NULL, `edited_on` datetime NOT NULL, PRIMARY KEY (`id`))
CREATE TABLE `blog_posts` ( `id` int(11) NOT NULL COMMENT 'The real post id', `revision_id` int(11) NOT NULL AUTO_INCREMENT, `category_id` int(11) NOT NULL, `user_id` int(11) NOT NULL, `meta_id` int(11) NOT NULL, `language` varchar(5) COLLATE utf8mb4_unicode_ci NOT NULL, `title` varchar(255) COLLATE utf8mb4_unicode_ci NOT NULL, `introduction` text COLLATE utf8mb4_unicode_ci, `text` text COLLATE utf8mb4_unicode_ci, `image` varchar(255) COLLATE utf8mb4_unicode_ci DEFAULT NULL, `status` enum('active','archived','draft') COLLATE utf8mb4_unicode_ci NOT NULL, `publish_on` datetime NOT NULL, `created_on` datetime NOT NULL, `edited_on` datetime NOT NULL, `hidden` enum('N','Y') COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT 'N', `allow_comments` enum('N','Y') COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT 'N', `num_comments` int(11) NOT NULL, PRIMARY KEY (`revision_id`), KEY `idx_status_language_hidden` (`status`,`language`,`hidden`))
CREATE TABLE IF NOT EXISTS `modules` ( `name` varchar(255) CHARACTER SET utf8 NOT NULL COMMENT 'unique module name', `installed_on` datetime NOT NULL, PRIMARY KEY (`name`), KEY `idx_name` (`name`))
CREATE TABLE IF NOT EXISTS `modules_tags` ( `module` varchar(255) CHARACTER SET utf8 NOT NULL, `tag_id` int(11) NOT NULL, `other_id` int(11) NOT NULL, PRIMARY KEY (`module`,`tag_id`,`other_id`))
CREATE TABLE IF NOT EXISTS `faq_categories` ( `id` int(11) NOT NULL auto_increment, `meta_id` int(11) NOT NULL, `extra_id` int(11) NOT NULL, `language` varchar(5) NOT NULL, `title` varchar(255) NOT NULL, `sequence` int(11) NOT NULL, PRIMARY KEY (`id`))
