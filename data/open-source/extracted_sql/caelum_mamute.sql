select a,v from Answer as a join a.votes as v where v.author = :author and a.question = :question
CREATE TABLE `News_Flags` ( `News_id` bigint(20) NOT NULL, `flags_id` bigint(20) NOT NULL, UNIQUE KEY `UK_s0ugdfyknbgui197dcioqqovi` (`flags_id`), KEY `FK_s0ugdfyknbgui197dcioqqovi` (`flags_id`), KEY `FK_fr0qqkoqj2rai6g9epq0iw4wu` (`News_id`), CONSTRAINT `FK_fr0qqkoqj2rai6g9epq0iw4wu` FOREIGN KEY (`News_id`) REFERENCES `News` (`id`), CONSTRAINT `FK_s0ugdfyknbgui197dcioqqovi` FOREIGN KEY (`flags_id`) REFERENCES `Flag` (`id`))
CREATE TABLE `Watcher` ( `id` bigint(20) NOT NULL AUTO_INCREMENT, `active` tinyint(1) NOT NULL, `createdAt` datetime DEFAULT NULL, `watcher_id` bigint(20) DEFAULT NULL, PRIMARY KEY (`id`), KEY `FK_hobtys3mefri57vry8w6o8xyq` (`watcher_id`), CONSTRAINT `FK_hobtys3mefri57vry8w6o8xyq` FOREIGN KEY (`watcher_id`) REFERENCES `Users` (`id`))
CREATE TABLE `News` ( `id` bigint(20) NOT NULL AUTO_INCREMENT, `approved` tinyint(1) NOT NULL, `createdAt` datetime DEFAULT NULL, `lastUpdatedAt` datetime DEFAULT NULL, `invisible` tinyint(1) NOT NULL, `views` bigint(20) NOT NULL, `voteCount` bigint(20) NOT NULL, `author_id` bigint(20) DEFAULT NULL, `information_id` bigint(20) NOT NULL, `lastTouchedBy_id` bigint(20) DEFAULT NULL, PRIMARY KEY (`id`), KEY `FK_e3k3kapw96m39ma7uus1r6f7m` (`author_id`), KEY `FK_5qrrq79ar6t4p4vf4djvqf63i` (`information_id`), KEY `FK_glms254gw9a4kv5qh3ptijiqd` (`lastTouchedBy_id`), CONSTRAINT `FK_5qrrq79ar6t4p4vf4djvqf63i` FOREIGN KEY (`information_id`) REFERENCES `NewsInformation` (`id`), CONSTRAINT `FK_e3k3kapw96m39ma7uus1r6f7m` FOREIGN KEY (`author_id`) REFERENCES `Users` (`id`), CONSTRAINT `FK_glms254gw9a4kv5qh3ptijiqd` FOREIGN KEY (`lastTouchedBy_id`) REFERENCES `Users` (`id`))
CREATE TABLE `QuestionInformation_Tag` ( `QuestionInformation_id` bigint(20) NOT NULL, `tags_id` bigint(20) NOT NULL, `tag_order` int(11) NOT NULL, PRIMARY KEY (`QuestionInformation_id`,`tag_order`), KEY `FK_nv1tmcost5jqejnlb6u0wrypo` (`tags_id`), KEY `FK_7u4x47xa5gdhmt650curhu3kx` (`QuestionInformation_id`), CONSTRAINT `FK_7u4x47xa5gdhmt650curhu3kx` FOREIGN KEY (`QuestionInformation_id`) REFERENCES `QuestionInformation` (`id`), CONSTRAINT `FK_nv1tmcost5jqejnlb6u0wrypo` FOREIGN KEY (`tags_id`) REFERENCES `Tag` (`id`))
create table Question_Interactions (Question_id bigint not null, userInteractions_id bigint not null, PRIMARY KEY (`Question_id`,`userInteractions_id`))
select watchers from "+ watchable.getType().getSimpleName() +" watchable join watchable.watchers watchers
select session from UserSession session 
create table if not exists brutalmigration (number int(11))
select count(*) from " + clazz.getSimpleName() + " qi where qi.status = :pending
CREATE TABLE `Answer_Votes` ( `Answer_id` bigint(20) NOT NULL, `votes_id` bigint(20) NOT NULL, UNIQUE KEY `UK_5ya5d072g3h38tvb9brj7bs8o` (`votes_id`), KEY `FK_5ya5d072g3h38tvb9brj7bs8o` (`votes_id`), KEY `FK_qpawvfihxtc49opw1q5le336l` (`Answer_id`), CONSTRAINT `FK_5ya5d072g3h38tvb9brj7bs8o` FOREIGN KEY (`votes_id`) REFERENCES `Vote` (`id`), CONSTRAINT `FK_qpawvfihxtc49opw1q5le336l` FOREIGN KEY (`Answer_id`) REFERENCES `Answer` (`id`))
CREATE TABLE `News_Comments` ( `News_id` bigint(20) NOT NULL, `comments_id` bigint(20) NOT NULL, UNIQUE KEY `UK_5rrh2dvs1cy19pliwyvb8w8u7` (`comments_id`), KEY `FK_5rrh2dvs1cy19pliwyvb8w8u7` (`comments_id`), KEY `FK_dcofc609g7loixe8pcm3myemd` (`News_id`), CONSTRAINT `FK_5rrh2dvs1cy19pliwyvb8w8u7` FOREIGN KEY (`comments_id`) REFERENCES `Comment` (`id`), CONSTRAINT `FK_dcofc609g7loixe8pcm3myemd` FOREIGN KEY (`News_id`) REFERENCES `News` (`id`))
CREATE TABLE `Question_Flags` ( `Question_id` bigint(20) NOT NULL, `flags_id` bigint(20) NOT NULL, UNIQUE KEY `UK_a8brcb8bpevccipiyplquqqjv` (`flags_id`), KEY `FK_a8brcb8bpevccipiyplquqqjv` (`flags_id`), KEY `FK_ftntexa7hxbaqo2i2yg4i0yr3` (`Question_id`), CONSTRAINT `FK_a8brcb8bpevccipiyplquqqjv` FOREIGN KEY (`flags_id`) REFERENCES `Flag` (`id`), CONSTRAINT `FK_ftntexa7hxbaqo2i2yg4i0yr3` FOREIGN KEY (`Question_id`) REFERENCES `Question` (`id`))
CREATE TABLE `Answer_Comments` ( `Answer_id` bigint(20) NOT NULL, `comments_id` bigint(20) NOT NULL, UNIQUE KEY `UK_731ugn0r28nit0o73yytcw5oh` (`comments_id`), KEY `FK_731ugn0r28nit0o73yytcw5oh` (`comments_id`), KEY `FK_5c40gkw8p92hpuy5nnothdhw5` (`Answer_id`), CONSTRAINT `FK_5c40gkw8p92hpuy5nnothdhw5` FOREIGN KEY (`Answer_id`) REFERENCES `Answer` (`id`), CONSTRAINT `FK_731ugn0r28nit0o73yytcw5oh` FOREIGN KEY (`comments_id`) REFERENCES `Comment` (`id`))
CREATE TABLE `Question_Votes` ( `Question_id` bigint(20) NOT NULL, `votes_id` bigint(20) NOT NULL, UNIQUE KEY `UK_p5sgssf0gw0br66mvu9cctlmq` (`votes_id`), KEY `FK_p5sgssf0gw0br66mvu9cctlmq` (`votes_id`), KEY `FK_24u6uwfjr8s8pfk7oyfw8u4o4` (`Question_id`), CONSTRAINT `FK_24u6uwfjr8s8pfk7oyfw8u4o4` FOREIGN KEY (`Question_id`) REFERENCES `Question` (`id`), CONSTRAINT `FK_p5sgssf0gw0br66mvu9cctlmq` FOREIGN KEY (`votes_id`) REFERENCES `Vote` (`id`))
CREATE TABLE `Comment_Flags` ( `Comment_id` bigint(20) NOT NULL, `flags_id` bigint(20) NOT NULL, UNIQUE KEY `UK_gkehc29f3h04bua96bjurv4vd` (`flags_id`), KEY `FK_gkehc29f3h04bua96bjurv4vd` (`flags_id`), KEY `FK_g45y0rm9o8k7uyoih84rrccra` (`Comment_id`), CONSTRAINT `FK_g45y0rm9o8k7uyoih84rrccra` FOREIGN KEY (`Comment_id`) REFERENCES `Comment` (`id`), CONSTRAINT `FK_gkehc29f3h04bua96bjurv4vd` FOREIGN KEY (`flags_id`) REFERENCES `Flag` (`id`))
CREATE TABLE `Comment_Votes` ( `Comment_id` bigint(20) NOT NULL, `votes_id` bigint(20) NOT NULL, UNIQUE KEY `UK_dtgxtqffciorpdsjdshnkbpw6` (`votes_id`), KEY `FK_dtgxtqffciorpdsjdshnkbpw6` (`votes_id`), KEY `FK_obxdv4j0ph2swt8r81dx8h0yw` (`Comment_id`), CONSTRAINT `FK_dtgxtqffciorpdsjdshnkbpw6` FOREIGN KEY (`votes_id`) REFERENCES `Vote` (`id`), CONSTRAINT `FK_obxdv4j0ph2swt8r81dx8h0yw` FOREIGN KEY (`Comment_id`) REFERENCES `Comment` (`id`))
select c,v from Question as q join q.answers as a join a.comments.comments as c join c.votes as v where v.author = :author and q = :question and c.deleted = false
CREATE TABLE `Question_Comments` ( `Question_id` bigint(20) NOT NULL, `comments_id` bigint(20) NOT NULL, UNIQUE KEY `UK_6jsfvsef241a3ldcck6pid4vi` (`comments_id`), KEY `FK_6jsfvsef241a3ldcck6pid4vi` (`comments_id`), KEY `FK_fm57yvrnidsyeuvls0he5c9pk` (`Question_id`), CONSTRAINT `FK_6jsfvsef241a3ldcck6pid4vi` FOREIGN KEY (`comments_id`) REFERENCES `Comment` (`id`), CONSTRAINT `FK_fm57yvrnidsyeuvls0he5c9pk` FOREIGN KEY (`Question_id`) REFERENCES `Question` (`id`))
CREATE TABLE `ReputationEvent` ( `id` bigint(20) NOT NULL AUTO_INCREMENT, `context_type` varchar(255) DEFAULT NULL, `context_id` bigint(20) DEFAULT NULL, `date` datetime DEFAULT NULL, `karmaReward` int(11) NOT NULL, `type` varchar(255) DEFAULT NULL, `user_id` bigint(20) DEFAULT NULL, PRIMARY KEY (`id`), KEY `FK_gbu6jo147pal18b3q3blpr0of` (`user_id`), CONSTRAINT `FK_gbu6jo147pal18b3q3blpr0of` FOREIGN KEY (`user_id`) REFERENCES `Users` (`id`))
CREATE TABLE `Users` ( `id` bigint(20) NOT NULL AUTO_INCREMENT, `about` varchar(500) DEFAULT NULL, `birthDate` datetime DEFAULT NULL, `confirmedEmail` tinyint(1) NOT NULL, `createdAt` datetime DEFAULT NULL, `email` varchar(100) DEFAULT NULL, `forgotPasswordToken` varchar(255) DEFAULT NULL, `isBanned` tinyint(1) NOT NULL, `isSubscribed` tinyint(1) NOT NULL, `karma` bigint(20) NOT NULL, `location` varchar(100) DEFAULT NULL, `markedAbout` varchar(600) DEFAULT NULL, `moderator` tinyint(1) NOT NULL, `name` varchar(100) NOT NULL, `nameLastTouchedAt` datetime DEFAULT NULL, `photoUri` varchar(255) DEFAULT NULL, `realName` varchar(100) DEFAULT NULL, `sluggedName` longtext NOT NULL, `website` varchar(200) DEFAULT NULL, PRIMARY KEY (`id`))
CREATE TABLE `Answer_Flags` ( `Answer_id` bigint(20) NOT NULL, `flags_id` bigint(20) NOT NULL, UNIQUE KEY `UK_9y4wu81bq6tdthk881o8twros` (`flags_id`), KEY `FK_9y4wu81bq6tdthk881o8twros` (`flags_id`), KEY `FK_6lq2gt46y9974igmh0jxo666` (`Answer_id`), CONSTRAINT `FK_6lq2gt46y9974igmh0jxo666` FOREIGN KEY (`Answer_id`) REFERENCES `Answer` (`id`), CONSTRAINT `FK_9y4wu81bq6tdthk881o8twros` FOREIGN KEY (`flags_id`) REFERENCES `Flag` (`id`))
CREATE TABLE `Flag` ( `id` bigint(20) NOT NULL AUTO_INCREMENT, `reason` longtext, `type` varchar(255) DEFAULT NULL, `author_id` bigint(20) DEFAULT NULL, PRIMARY KEY (`id`), KEY `FK_lumgu8dnorkynxw1l039ovm8q` (`author_id`), CONSTRAINT `FK_lumgu8dnorkynxw1l039ovm8q` FOREIGN KEY (`author_id`) REFERENCES `Users` (`id`))
select page from TagPage page where page.tag = :tag").setParameter("tag
update Answer set deleted = true, question_id=NULL  where id = ?
select c,v from "+clazz.getSimpleName()+" as n join n.comments.comments as c join c.votes as v where v.author = :author and n = :commentable and c.deleted = false
select count(*) from brutalmigration
select updatable, info from "+ clazz.getSimpleName() +" updatable 
CREATE TABLE `QuestionInformation` ( `id` bigint(20) NOT NULL AUTO_INCREMENT, `comment` longtext NOT NULL, `createdAt` datetime DEFAULT NULL, `description` longtext NOT NULL, `ip` varchar(255) DEFAULT NULL, `markedDescription` longtext, `moderatedAt` datetime DEFAULT NULL, `sluggedTitle` longtext NOT NULL, `status` varchar(255) DEFAULT NULL, `title` longtext NOT NULL, `author_id` bigint(20) NOT NULL, `moderatedBy_id` bigint(20) DEFAULT NULL, `question_id` bigint(20) DEFAULT NULL, PRIMARY KEY (`id`), KEY `FK_9nfk2kchvyn69e7gdh798gf` (`author_id`), KEY `FK_t1oox0xh74vlikcvhxd5k2kq1` (`moderatedBy_id`), KEY `FK_pl1drgbxhfd4hbmd3smwa3svl` (`question_id`), CONSTRAINT `FK_9nfk2kchvyn69e7gdh798gf` FOREIGN KEY (`author_id`) REFERENCES `Users` (`id`), CONSTRAINT `FK_pl1drgbxhfd4hbmd3smwa3svl` FOREIGN KEY (`question_id`) REFERENCES `Question` (`id`), CONSTRAINT `FK_t1oox0xh74vlikcvhxd5k2kq1` FOREIGN KEY (`moderatedBy_id`) REFERENCES `Users` (`id`))
update Question set deleted = true  where id = ?
select news from News news 
select q from Question q join q.comments.comments c where c=:comment
insert into brutalmigration values(0)
select count(*) from User
select news from News news join news.comments.comments c where c=:comment
update Users set deleted = true  where id = ?
SELECT Answer_id FROM Answer_Comments 
CREATE TABLE `AnswerInformation` ( `id` bigint(20) NOT NULL AUTO_INCREMENT, `comment` longtext NOT NULL, `createdAt` datetime DEFAULT NULL, `description` longtext NOT NULL, `ip` varchar(255) DEFAULT NULL, `markedDescription` longtext, `moderatedAt` datetime DEFAULT NULL, `status` varchar(255) DEFAULT NULL, `answer_id` bigint(20) DEFAULT NULL, `author_id` bigint(20) NOT NULL, `moderatedBy_id` bigint(20) DEFAULT NULL, PRIMARY KEY (`id`), KEY `FK_lecgqmqj00d06wb8nwaq60rpr` (`answer_id`), KEY `FK_237rcoro0n05xyxjga1ip7pd8` (`author_id`), KEY `FK_dbuximcggdn5k2j9svvpwtxrm` (`moderatedBy_id`), CONSTRAINT `FK_237rcoro0n05xyxjga1ip7pd8` FOREIGN KEY (`author_id`) REFERENCES `Users` (`id`), CONSTRAINT `FK_dbuximcggdn5k2j9svvpwtxrm` FOREIGN KEY (`moderatedBy_id`) REFERENCES `Users` (`id`), CONSTRAINT `FK_lecgqmqj00d06wb8nwaq60rpr` FOREIGN KEY (`answer_id`) REFERENCES `Answer` (`id`))
CREATE TABLE `News_Votes` ( `News_id` bigint(20) NOT NULL, `votes_id` bigint(20) NOT NULL, UNIQUE KEY `UK_mecjpg8cg90p1ry4sg4rckb09` (`votes_id`), KEY `FK_mecjpg8cg90p1ry4sg4rckb09` (`votes_id`), KEY `FK_rqhl3hox4wntf7oc9y4af5cgv` (`News_id`), CONSTRAINT `FK_mecjpg8cg90p1ry4sg4rckb09` FOREIGN KEY (`votes_id`) REFERENCES `Vote` (`id`), CONSTRAINT `FK_rqhl3hox4wntf7oc9y4af5cgv` FOREIGN KEY (`News_id`) REFERENCES `News` (`id`))
update LoginMethod set serviceEmail = :email  where user_id = :id
update ReputationEvent set deleted = true  where id = ?
CREATE TABLE `News_Watchers` ( `News_id` bigint(20) NOT NULL, `watchers_id` bigint(20) NOT NULL, UNIQUE KEY `UK_m5koj8lugxy5pp42xk656vqln` (`watchers_id`), KEY `FK_m5koj8lugxy5pp42xk656vqln` (`watchers_id`), KEY `FK_bywcu6iha3jaici2oiljml8ho` (`News_id`), CONSTRAINT `FK_bywcu6iha3jaici2oiljml8ho` FOREIGN KEY (`News_id`) REFERENCES `News` (`id`), CONSTRAINT `FK_m5koj8lugxy5pp42xk656vqln` FOREIGN KEY (`watchers_id`) REFERENCES `Watcher` (`id`))
select f from "+flaggableType.getSimpleName()+" c join c.flags f where f.author=:author and c.id=:flaggableId
CREATE TABLE `Vote` ( `id` bigint(20) NOT NULL AUTO_INCREMENT, `createdAt` datetime DEFAULT NULL, `lastUpdatedAt` datetime DEFAULT NULL, `type` varchar(255) DEFAULT NULL, `author_id` bigint(20) DEFAULT NULL, PRIMARY KEY (`id`), KEY `FK_6nch3y92lphrbsh0o5c7o0jov` (`author_id`), CONSTRAINT `FK_6nch3y92lphrbsh0o5c7o0jov` FOREIGN KEY (`author_id`) REFERENCES `Users` (`id`))
select info from " + clazz.getSimpleName() + " updatable 
select u from User u 
CREATE TABLE `Question_Watchers` ( `Question_id` bigint(20) NOT NULL, `watchers_id` bigint(20) NOT NULL, UNIQUE KEY `UK_5twinfe7e6g09gaowkeah0498` (`watchers_id`), KEY `FK_5twinfe7e6g09gaowkeah0498` (`watchers_id`), KEY `FK_pu72rhjonka0flev96adthdp0` (`Question_id`), CONSTRAINT `FK_5twinfe7e6g09gaowkeah0498` FOREIGN KEY (`watchers_id`) REFERENCES `Watcher` (`id`), CONSTRAINT `FK_pu72rhjonka0flev96adthdp0` FOREIGN KEY (`Question_id`) REFERENCES `Question` (`id`))
select comment from Comment comment left join comment.flags flags group by comment having count(flags) >= :min
CREATE TABLE `Comment` ( `id` bigint(20) NOT NULL AUTO_INCREMENT, `comment` longtext NOT NULL, `createdAt` datetime DEFAULT NULL, `htmlComment` longtext NOT NULL, `lastUpdatedAt` datetime DEFAULT NULL, `invisible` tinyint(1) NOT NULL, `voteCount` bigint(20) NOT NULL, `author_id` bigint(20) NOT NULL, PRIMARY KEY (`id`), KEY `FK_j94pith5sd971k29j6ysxuk7` (`author_id`), CONSTRAINT `FK_j94pith5sd971k29j6ysxuk7` FOREIGN KEY (`author_id`) REFERENCES `Users` (`id`))
CREATE TABLE `brutalmigration` ( `number` int(11) DEFAULT NULL)
select number from brutalmigration order by number desc limit 1
select watcher from "+ watchable.getType().getSimpleName() +" watchable
CREATE TABLE `UserSession` ( `id` bigint(20) NOT NULL AUTO_INCREMENT, `createdAt` datetime DEFAULT NULL, `sessionKey` varchar(255) DEFAULT NULL, `user_id` bigint(20) DEFAULT NULL, PRIMARY KEY (`id`), UNIQUE KEY `UK_jhpxm4m9w5ujlygolg3nj08m9` (`sessionKey`), KEY `session_key` (`sessionKey`), KEY `FK_g1vcu7yf9bjb3kj31y3ghw0jg` (`user_id`), CONSTRAINT `FK_g1vcu7yf9bjb3kj31y3ghw0jg` FOREIGN KEY (`user_id`) REFERENCES `Users` (`id`))
update Flag set deleted = true  where id = ?
SELECT Question_id FROM Question_Comments 
update Comment set deleted = true  where id = ?
CREATE TABLE `LoginMethod` ( `id` bigint(20) NOT NULL AUTO_INCREMENT, `serviceEmail` varchar(100) DEFAULT NULL, `token` varchar(255) DEFAULT NULL, `type` varchar(255) DEFAULT NULL, `user_id` bigint(20) DEFAULT NULL, PRIMARY KEY (`id`), KEY `FK_l0vhdtw8ymw1rrxq9usrqjh4x` (`user_id`), CONSTRAINT `FK_l0vhdtw8ymw1rrxq9usrqjh4x` FOREIGN KEY (`user_id`) REFERENCES `Users` (`id`))
update ReputationEvent set deleted=1  where context_id=:id
CREATE TABLE `NewsInformation` ( `id` bigint(20) NOT NULL AUTO_INCREMENT, `comment` longtext NOT NULL, `createdAt` datetime DEFAULT NULL, `description` longtext NOT NULL, `ip` varchar(255) DEFAULT NULL, `markedDescription` longtext, `moderatedAt` datetime DEFAULT NULL, `sluggedTitle` longtext NOT NULL, `status` varchar(255) DEFAULT NULL, `title` longtext NOT NULL, `author_id` bigint(20) NOT NULL, `moderatedBy_id` bigint(20) DEFAULT NULL, `news_id` bigint(20) DEFAULT NULL, PRIMARY KEY (`id`), KEY `FK_n3hxv49li2jcopaj6dio6b8b6` (`author_id`), KEY `FK_fppkwwg6svwefnnni9ygaefg2` (`moderatedBy_id`), KEY `FK_b942i5pshr99wwqdk03d98ofg` (`news_id`), CONSTRAINT `FK_b942i5pshr99wwqdk03d98ofg` FOREIGN KEY (`news_id`) REFERENCES `News` (`id`), CONSTRAINT `FK_fppkwwg6svwefnnni9ygaefg2` FOREIGN KEY (`moderatedBy_id`) REFERENCES `Users` (`id`), CONSTRAINT `FK_n3hxv49li2jcopaj6dio6b8b6` FOREIGN KEY (`author_id`) REFERENCES `Users` (`id`))
CREATE TABLE `Tag` ( `id` bigint(20) NOT NULL AUTO_INCREMENT, `createdAt` datetime DEFAULT NULL, `description` varchar(255) DEFAULT NULL, `name` varchar(255) NOT NULL, `usageCount` bigint(20) DEFAULT NULL, `author_id` bigint(20) DEFAULT NULL, PRIMARY KEY (`id`), UNIQUE KEY `UK_24642shpebunaq3ggshotv9hk` (`name`), KEY `FK_9a9b8a968n0ejs6yikpgo563r` (`author_id`), CONSTRAINT `FK_9a9b8a968n0ejs6yikpgo563r` FOREIGN KEY (`author_id`) REFERENCES `Users` (`id`))
