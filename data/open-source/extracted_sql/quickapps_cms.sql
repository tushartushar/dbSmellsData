CREATE TABLE `content_type_permissions` ( `id` int(11) NOT NULL AUTO_INCREMENT, `content_type_id` int(11) NOT NULL, `role_id` int(11) NOT NULL, `action` varchar(15) COLLATE utf8_unicode_ci NOT NULL COMMENT 'create, edit, delete, publish', PRIMARY KEY (`id`))
create index nameidx on '.$this->DB_TableName.'(path, fname)');
create index isdiridx on '.$this->DB_TableName.'(isdir)');
CREATE TABLE `block_regions` ( `id` int(11) NOT NULL AUTO_INCREMENT, `block_id` int(11) NOT NULL, `theme` varchar(200) COLLATE utf8_unicode_ci NOT NULL, `region` varchar(200) COLLATE utf8_unicode_ci DEFAULT '', `ordering` int(11) NOT NULL DEFAULT '0', PRIMARY KEY (`id`), UNIQUE KEY `block_id` (`block_id`,`theme`))
CREATE TABLE `comments` ( `id` int(11) NOT NULL AUTO_INCREMENT, `entity_id` varchar(50) COLLATE utf8_unicode_ci NOT NULL, `user_id` int(11) DEFAULT NULL, `table_alias` varchar(50) COLLATE utf8_unicode_ci NOT NULL, `subject` varchar(200) COLLATE utf8_unicode_ci NOT NULL, `body` text COLLATE utf8_unicode_ci NOT NULL, `author_name` varchar(100) COLLATE utf8_unicode_ci DEFAULT NULL, `author_email` varchar(100) COLLATE utf8_unicode_ci DEFAULT NULL, `author_web` varchar(200) COLLATE utf8_unicode_ci DEFAULT NULL, `author_ip` varchar(60) COLLATE utf8_unicode_ci NOT NULL, `parent_id` int(4) DEFAULT NULL, `rght` int(4) NOT NULL, `lft` int(4) NOT NULL, `status` varchar(20) COLLATE utf8_unicode_ci NOT NULL COMMENT 'pending, approved, spam, trash', `created` datetime NOT NULL, PRIMARY KEY (`id`), KEY `entity_id` (`entity_id`), KEY `user_id` (`user_id`))
CREATE TABLE IF NOT EXISTS `eav_values` (`id` int(20) NOT NULL, `eav_attribute_id` int(11) NOT NULL, `entity_id` varchar(50) COLLATE utf8_unicode_ci NOT NULL COMMENT 'id of the entity in `table`', `value_datetime` datetime DEFAULT NULL, `value_binary` blob, `value_time` time DEFAULT NULL, `value_date` date DEFAULT NULL, `value_float` decimal(10,0) DEFAULT NULL, `value_integer` int(11) DEFAULT NULL, `value_biginteger` bigint(20) DEFAULT NULL, `value_text` text COLLATE utf8_unicode_ci, `value_string` varchar(255) COLLATE utf8_unicode_ci DEFAULT NULL, `value_boolean` tinyint(1) DEFAULT NULL, `value_uuid` varchar(36) COLLATE utf8_unicode_ci DEFAULT NULL, `extra` text COLLATE utf8_unicode_ci COMMENT 'serialized additional information')
select * from sqlite_master where type=\'table\' and name=\'dropbox\'; ');
CREATE TABLE `plugins` ( `name` varchar(80) COLLATE utf8_unicode_ci NOT NULL, `package` varchar(100) COLLATE utf8_unicode_ci NOT NULL COMMENT 'composer package. e.g. user_name/plugin_name', `settings` text COLLATE utf8_unicode_ci NOT NULL COMMENT 'serialized array of options', `status` tinyint(1) NOT NULL DEFAULT '0', `ordering` int(3) NOT NULL DEFAULT '0', PRIMARY KEY (`name`))
CREATE TABLE `content_revisions` ( `id` int(11) NOT NULL AUTO_INCREMENT, `content_id` int(11) NOT NULL, `summary` varchar(160) COLLATE utf8_unicode_ci DEFAULT NULL, `data` longtext COLLATE utf8_unicode_ci NOT NULL, `hash` varchar(100) COLLATE utf8_unicode_ci NOT NULL, `created` datetime NOT NULL, PRIMARY KEY (`id`))
SELECT id FROM '.$this->tbf.' WHERE parent_id="'.$dir.'" AND name="'.$this->db->real_escape_string($name).'"';
CREATE TABLE `search_datasets` ( `id` int(11) NOT NULL AUTO_INCREMENT, `entity_id` varchar(50) COLLATE utf8_unicode_ci NOT NULL, `table_alias` varchar(50) COLLATE utf8_unicode_ci NOT NULL, `words` longtext COLLATE utf8_unicode_ci, PRIMARY KEY (`id`), UNIQUE KEY `entity_id` (`entity_id`,`table_alias`))
select dat from '.$this->DB_TableName.' WHERE path LIKE ? AND fname LIKE ?');
CREATE TABLE `plugins` ( `name` varchar(80) COLLATE utf8_unicode_ci NOT NULL, `package` varchar(100) COLLATE utf8_unicode_ci NOT NULL COMMENT 'composer package. e.g. user_name/plugin_name', `settings` blob NOT NULL COMMENT 'serialized array of options', `status` tinyint(1) NOT NULL DEFAULT '0', `ordering` int(3) NOT NULL DEFAULT '0', PRIMARY KEY (`name`))
CREATE TABLE `eav_values` ( `id` int(20) NOT NULL AUTO_INCREMENT, `eav_attribute_id` int(11) NOT NULL, `entity_id` varchar(50) COLLATE utf8_unicode_ci NOT NULL COMMENT 'id of the entity in `table`', `value_datetime` datetime DEFAULT NULL, `value_binary` blob, `value_time` time DEFAULT NULL, `value_date` date DEFAULT NULL, `value_float` decimal(10,0) DEFAULT NULL, `value_integer` int(11) DEFAULT NULL, `value_biginteger` bigint(20) DEFAULT NULL, `value_text` text COLLATE utf8_unicode_ci, `value_string` varchar(255) COLLATE utf8_unicode_ci DEFAULT NULL, `value_boolean` tinyint(1) DEFAULT NULL, `value_uuid` varchar(36) COLLATE utf8_unicode_ci DEFAULT NULL, `extra` text COLLATE utf8_unicode_ci COMMENT 'serialized additional information', PRIMARY KEY (`id`), KEY `eav_attribute_id` (`eav_attribute_id`), KEY `entity_id` (`entity_id`))
CREATE TABLE `eav_values` ( `id` int(20) NOT NULL AUTO_INCREMENT, `eav_attribute_id` int(11) NOT NULL, `entity_id` varchar(50) COLLATE utf8_unicode_ci NOT NULL COMMENT 'id of the entity in `table`', `value_datetime` datetime DEFAULT NULL, `value_binary` blob, `value_time` time DEFAULT NULL, `value_date` date DEFAULT NULL, `value_float` decimal(10,0) DEFAULT NULL, `value_integer` int(11) DEFAULT NULL, `value_biginteger` bigint(20) DEFAULT NULL, `value_text` text COLLATE utf8_unicode_ci, `value_string` varchar(255) COLLATE utf8_unicode_ci DEFAULT NULL, `value_boolean` tinyint(1) DEFAULT NULL, `value_uuid` varchar(36) COLLATE utf8_unicode_ci DEFAULT NULL, `extra` blob COMMENT 'serialized additional information', PRIMARY KEY (`id`), KEY `eav_attribute_id` (`eav_attribute_id`), KEY `entity_id` (`entity_id`))
CREATE TABLE `roles` ( `id` int(11) NOT NULL AUTO_INCREMENT, `slug` varchar(50) COLLATE utf8_unicode_ci NOT NULL, `name` varchar(128) COLLATE utf8_unicode_ci NOT NULL, PRIMARY KEY (`id`), KEY `slug` (`slug`))
CREATE TABLE `contents_roles` ( `id` int(11) NOT NULL AUTO_INCREMENT, `content_id` int(11) NOT NULL, `role_id` int(10) NOT NULL COMMENT 'The users role ID from roles table', PRIMARY KEY (`id`))
CREATE TABLE `search_datasets` ( `id` int(11) NOT NULL AUTO_INCREMENT, `entity_id` varchar(50) COLLATE utf8_unicode_ci NOT NULL, `table_alias` varchar(50) COLLATE utf8_unicode_ci NOT NULL, `words` longtext COLLATE utf8_unicode_ci, PRIMARY KEY (`id`), UNIQUE KEY `entity_id` (`entity_id`,`table_alias`))
CREATE TABLE `menus` ( `id` int(11) NOT NULL AUTO_INCREMENT, `slug` varchar(50) COLLATE utf8_unicode_ci NOT NULL, `title` varchar(255) COLLATE utf8_unicode_ci NOT NULL COMMENT 'Menu title, displayed at top of block.', `description` text COLLATE utf8_unicode_ci COMMENT 'Menu description.', `handler` varchar(100) COLLATE utf8_unicode_ci NOT NULL COMMENT 'Name of the plugin that created this menu.', `settings` longtext COLLATE utf8_unicode_ci, PRIMARY KEY (`id`), KEY `slug` (`slug`))
CREATE TABLE `content_types` ( `id` int(11) NOT NULL AUTO_INCREMENT, `slug` varchar(100) COLLATE utf8_unicode_ci NOT NULL, `name` varchar(200) COLLATE utf8_unicode_ci NOT NULL COMMENT 'human-readable name', `description` varchar(255) COLLATE utf8_unicode_ci DEFAULT NULL, `title_label` varchar(80) COLLATE utf8_unicode_ci NOT NULL COMMENT 'the label displayed for the title field on the edit form.', `defaults` longtext COLLATE utf8_unicode_ci, PRIMARY KEY (`id`), UNIQUE KEY `slug` (`slug`))
CREATE TABLE `permissions` ( `id` int(11) NOT NULL AUTO_INCREMENT, `aco_id` int(11) NOT NULL, `role_id` int(11) NOT NULL, PRIMARY KEY (`id`))
CREATE TABLE `vocabularies` ( `id` int(10) NOT NULL AUTO_INCREMENT, `name` varchar(255) COLLATE utf8_unicode_ci NOT NULL, `slug` varchar(255) COLLATE utf8_unicode_ci NOT NULL, `description` text COLLATE utf8_unicode_ci, `ordering` int(11) DEFAULT '0', `locked` tinyint(1) NOT NULL DEFAULT '0' COMMENT 'if set to 1 users can not delete this vocabulary', `modified` datetime NOT NULL, `created` datetime NOT NULL, PRIMARY KEY (`id`), KEY `slug` (`slug`))
select path from '.$this->DB_TableName.' '.$where.' limit 1';
CREATE TABLE `blocks_roles` ( `id` int(11) NOT NULL AUTO_INCREMENT, `block_id` int(11) NOT NULL, `role_id` int(10) NOT NULL COMMENT 'The users role ID from roles table', PRIMARY KEY (`id`))
CREATE TABLE `eav_attributes` ( `id` int(11) NOT NULL AUTO_INCREMENT, `table_alias` varchar(50) COLLATE utf8_unicode_ci NOT NULL, `bundle` varchar(50) COLLATE utf8_unicode_ci DEFAULT NULL, `name` varchar(50) COLLATE utf8_unicode_ci NOT NULL, `type` varchar(10) COLLATE utf8_unicode_ci NOT NULL DEFAULT 'varchar', `searchable` tinyint(1) NOT NULL DEFAULT '1', `extra` text COLLATE utf8_unicode_ci, PRIMARY KEY (`id`), KEY `table_alias` (`table_alias`), KEY `bundle` (`bundle`), KEY `name` (`name`))
CREATE TABLE `acos` ( `id` int(10) NOT NULL AUTO_INCREMENT, `parent_id` int(10) DEFAULT NULL, `lft` int(10) DEFAULT NULL, `rght` int(10) DEFAULT NULL, `plugin` varchar(255) COLLATE utf8_unicode_ci NOT NULL, `alias` varchar(255) COLLATE utf8_unicode_ci NOT NULL, `alias_hash` varchar(32) COLLATE utf8_unicode_ci NOT NULL, PRIMARY KEY (`id`), KEY `parent_id` (`parent_id`), KEY `lft` (`lft`), KEY `rght` (`rght`))
create table '.$this->DB_TableName.'(path text, fname text, dat blob, isdir integer)
CREATE TABLE `content_types` ( `id` int(11) NOT NULL AUTO_INCREMENT, `slug` varchar(100) COLLATE utf8_unicode_ci NOT NULL, `name` varchar(200) COLLATE utf8_unicode_ci NOT NULL COMMENT 'human-readable name', `description` varchar(255) COLLATE utf8_unicode_ci DEFAULT NULL, `title_label` varchar(80) COLLATE utf8_unicode_ci NOT NULL COMMENT 'the label displayed for the title field on the edit form.', `defaults` blob, PRIMARY KEY (`id`), UNIQUE KEY `slug` (`slug`))
SELECT content FROM %s WHERE id=%d', $this->tbf, $path))) && ($r = $res->fetch_assoc()) ? $r['content'] : false;
CREATE TABLE `content_revisions` ( `id` int(11) NOT NULL AUTO_INCREMENT, `content_id` int(11) NOT NULL, `summary` varchar(160) COLLATE utf8_unicode_ci DEFAULT NULL, `data` blob NOT NULL, `hash` varchar(100) COLLATE utf8_unicode_ci NOT NULL, `created` datetime NOT NULL, PRIMARY KEY (`id`))
CREATE TABLE IF NOT EXISTS `eav_attributes` (`id` int(11) NOT NULL, `table_alias` varchar(50) COLLATE utf8_unicode_ci NOT NULL, `bundle` varchar(50) COLLATE utf8_unicode_ci DEFAULT NULL, `name` varchar(50) COLLATE utf8_unicode_ci NOT NULL, `type` varchar(10) COLLATE utf8_unicode_ci NOT NULL DEFAULT 'varchar', `searchable` tinyint(1) NOT NULL DEFAULT '1', `extra` text COLLATE utf8_unicode_ci)
select path from '.$this->DB_TableName.' where isdir=1 and path='.$this->DB->quote(strtolower($raw['path'])));
CREATE TABLE `users_roles` ( `id` int(11) NOT NULL AUTO_INCREMENT, `user_id` int(11) NOT NULL, `role_id` int(10) NOT NULL COMMENT 'The users role ID from roles table', PRIMARY KEY (`id`))
CREATE TABLE IF NOT EXISTS `search_datasets` (`id` int(11) NOT NULL, `entity_id` varchar(50) COLLATE utf8_unicode_ci NOT NULL, `table_alias` varchar(50) COLLATE utf8_unicode_ci NOT NULL, `words` longtext COLLATE utf8_unicode_ci)
CREATE TABLE `languages` ( `id` int(11) NOT NULL AUTO_INCREMENT, `code` varchar(12) COLLATE utf8_unicode_ci NOT NULL COMMENT 'Language code, e.g. eng', `name` varchar(64) COLLATE utf8_unicode_ci NOT NULL COMMENT 'Language name in English.', `direction` varchar(3) COLLATE utf8_unicode_ci NOT NULL DEFAULT 'ltr' COMMENT 'Direction of language (Left-to-Right , Right-to-Left ).', `icon` varchar(255) COLLATE utf8_unicode_ci DEFAULT NULL, `status` int(11) NOT NULL DEFAULT '0' COMMENT 'Enabled flag (1 = Enabled, 0 = Disabled).', `ordering` int(11) NOT NULL DEFAULT '0' COMMENT 'Weight, used in lists of languages.', PRIMARY KEY (`id`), UNIQUE KEY `code` (`code`))
CREATE TABLE `terms` ( `id` int(10) NOT NULL AUTO_INCREMENT, `vocabulary_id` int(11) NOT NULL, `lft` int(11) NOT NULL, `rght` int(11) NOT NULL, `parent_id` int(11) NOT NULL, `name` varchar(255) COLLATE utf8_unicode_ci NOT NULL, `slug` varchar(255) COLLATE utf8_unicode_ci NOT NULL, `created` datetime NOT NULL, `modified` datetime NOT NULL, PRIMARY KEY (`id`), UNIQUE KEY `slug` (`slug`))
CREATE TABLE `entities_terms` ( `id` int(20) NOT NULL AUTO_INCREMENT, `entity_id` int(20) NOT NULL, `term_id` int(20) NOT NULL, `field_instance_id` int(11) NOT NULL, `table_alias` varchar(30) COLLATE utf8_unicode_ci NOT NULL, PRIMARY KEY (`id`))
CREATE TABLE `entities_terms` ( `id` int(20) NOT NULL AUTO_INCREMENT, `entity_id` int(20) NOT NULL, `term_id` int(20) NOT NULL, `field_instance_id` int(11) NOT NULL, `table_alias` varchar(30) COLLATE utf8_unicode_ci NOT NULL, PRIMARY KEY (`id`))
select dat from '.$this->DB_TableName.' where path='.$this->DB->quote(strtolower($path)));
CREATE TABLE `users` ( `id` int(11) NOT NULL AUTO_INCREMENT, `name` varchar(150) COLLATE utf8_unicode_ci NOT NULL, `username` varchar(80) COLLATE utf8_unicode_ci NOT NULL, `password` varchar(200) COLLATE utf8_unicode_ci NOT NULL, `email` varchar(100) COLLATE utf8_unicode_ci NOT NULL, `web` varchar(200) COLLATE utf8_unicode_ci DEFAULT NULL, `locale` varchar(5) COLLATE utf8_unicode_ci DEFAULT NULL, `public_profile` tinyint(1) NOT NULL, `public_email` tinyint(1) NOT NULL, `token` varchar(200) COLLATE utf8_unicode_ci NOT NULL COMMENT 'random unique code, used for pass recovery', `token_expiration` datetime DEFAULT NULL COMMENT 'expiration date of user token', `status` tinyint(1) NOT NULL DEFAULT '1', `last_login` datetime NOT NULL, `created` datetime NOT NULL, PRIMARY KEY (`id`), UNIQUE KEY `username` (`username`,`email`), KEY `email` (`email`))
CREATE TABLE IF NOT EXISTS `elfinder_file` ( `id` int(7) unsigned NOT NULL auto_increment, `parent_id` int(7) unsigned NOT NULL, `name` varchar(256) NOT NULL, `content` longblob NOT NULL, `size` int(10) unsigned NOT NULL default '0', `mtime` int(10) unsigned NOT NULL, `mime` varchar(256) NOT NULL default 'unknown', `read` enum('1', '0') NOT NULL default '1', `write` enum('1', '0') NOT NULL default '1', `locked` enum('1', '0') NOT NULL default '0', `hidden` enum('1', '0') NOT NULL default '0', `width` int(5) NOT NULL, `height` int(5) NOT NULL, PRIMARY KEY (`id`), UNIQUE KEY `parent_name` (`parent_id`, `name`), KEY `parent_id` (`parent_id`))
