CREATE TABLE &mw_prefix.langlinks ( ll_from NUMBER NOT NULL, ll_lang VARCHAR2(20), ll_title VARCHAR2(255))
CREATE TABLE &mw_prefix.oldimage ( oi_name VARCHAR2(255) DEFAULT 0 NOT NULL, oi_archive_name VARCHAR2(255), oi_size NUMBER DEFAULT 0 NOT NULL, oi_width NUMBER DEFAULT 0 NOT NULL, oi_height NUMBER DEFAULT 0 NOT NULL, oi_bits NUMBER DEFAULT 0 NOT NULL, oi_description VARCHAR2(255), oi_user NUMBER DEFAULT 0 NOT NULL, oi_user_text VARCHAR2(255) NOT NULL, oi_timestamp TIMESTAMP(6) WITH TIME ZONE NOT NULL, oi_metadata CLOB, oi_media_type VARCHAR2(32) DEFAULT NULL, oi_major_mime VARCHAR2(32) DEFAULT 'unknown', oi_minor_mime VARCHAR2(100) DEFAULT 'unknown', oi_deleted NUMBER DEFAULT 0 NOT NULL, oi_sha1 VARCHAR2(32))
CREATE TABLE recentchanges ( rc_id INTEGER NOT NULL PRIMARY KEY DEFAULT nextval('recentchanges_rc_id_seq'), rc_timestamp TIMESTAMPTZ NOT NULL, rc_cur_time TIMESTAMPTZ NOT NULL, rc_user INTEGER NULL REFERENCES mwuser(user_id) ON DELETE SET NULL DEFERRABLE INITIALLY DEFERRED, rc_user_text TEXT NOT NULL, rc_namespace SMALLINT NOT NULL, rc_title TEXT NOT NULL, rc_comment TEXT, rc_minor SMALLINT NOT NULL DEFAULT 0, rc_bot SMALLINT NOT NULL DEFAULT 0, rc_new SMALLINT NOT NULL DEFAULT 0, rc_cur_id INTEGER NULL REFERENCES page(page_id) ON DELETE SET NULL DEFERRABLE INITIALLY DEFERRED, rc_this_oldid INTEGER NOT NULL, rc_last_oldid INTEGER NOT NULL, rc_type SMALLINT NOT NULL DEFAULT 0, rc_moved_to_ns SMALLINT, rc_moved_to_title TEXT, rc_patrolled SMALLINT NOT NULL DEFAULT 0, rc_ip CIDR, rc_old_len INTEGER, rc_new_len INTEGER, rc_deleted SMALLINT NOT NULL DEFAULT 0, rc_logid INTEGER NOT NULL DEFAULT 0, rc_log_type TEXT, rc_log_action TEXT, rc_params TEXT)
CREATE TABLE IF NOT EXISTS `vpt_asset` ( `asset_id` int(10) unsigned NOT NULL AUTO_INCREMENT, `program_id` int(10) unsigned NOT NULL, `section` varchar(255) CHARACTER SET latin1 COLLATE latin1_bin NOT NULL DEFAULT '', `order` tinyint(4) NOT NULL DEFAULT '1', `data` blob NOT NULL, `updated_by` int(10) unsigned NOT NULL, `updated_at` datetime NOT NULL, PRIMARY KEY (`asset_id`), UNIQUE KEY `asset` (`program_id`, `section`, `order`), KEY `program_id` (`program_id`, `section`))
SELECT cat_title FROM category WHERE cat_hidden = 0 ORDER BY cat_pages DESC
CREATE TABLE `spam_regex` ( `spam_id` int(5) NOT NULL AUTO_INCREMENT, `spam_text` varchar(255) NOT NULL, `spam_timestamp` char(14) NOT NULL, `spam_user` varchar(255) NOT NULL, `spam_textbox` int(1) NOT NULL DEFAULT '1', `spam_summary` int(1) NOT NULL DEFAULT '0', PRIMARY KEY (`spam_id`), UNIQUE KEY `spam_text` (`spam_text`), KEY `spam_timestamp` (`spam_timestamp`), KEY `spam_user` (`spam_user`), KEY `spam_reges_idx` (`spam_summary`))
CREATE INDEX cul_user ON cu_log (cul_user);
SELECT page_id FROM page_wikia_props GROUP BY page_id HAVING count(*) > 1
CREATE TABLE `city_tag_map` (//	 `city_id` int(9) NOT NULL,//	 `tag_id` int(8) unsigned NOT NULL,//	 PRIMARY KEY (`city_id`,`tag_id`),//	 KEY `tag_id` (`tag_id`),//	 CONSTRAINT FOREIGN KEY (`city_id`) REFERENCES `city_list` (`city_id`) ON DELETE CASCADE ON UPDATE CASCADE,//	 CONSTRAINT FOREIGN KEY (`tag_id`) REFERENCES `city_tag` (`id`) ON DELETE CASCADE ON UPDATE CASCADE//	)
CREATE index sanitized_title on dataware.video_migration_sanitization (sanitized_title);
SELECT bl_from, bl_to FROM $brokenlinks
SELECT ct_page_id FROM city_used_tags WHERE ct_kind = 'youtube' AND ct_wikia_id = $wgCityId
CREATE TABLE `webmaster_user_accounts` ( `user_id` SMALLINT unsigned NOT NULL DEFAULT '0', `user_name` varchar(100) DEFAULT NULL, `user_password` varchar(100) DEFAULT NULL, `wikis_number` SMALLINT unsigned NOT NULL DEFAULT '0' PRIMARY KEY (user_id))
CREATE TABLE `redirect` ( `rd_from` int(8) unsigned NOT NULL DEFAULT '0', `rd_namespace` int(11) NOT NULL DEFAULT '0', `rd_title` varchar(255) CHARACTER SET latin1 COLLATE latin1_bin NOT NULL DEFAULT '', `rd_interwiki` varchar(32) DEFAULT NULL, `rd_fragment` varchar(255) CHARACTER SET latin1 COLLATE latin1_bin DEFAULT NULL, PRIMARY KEY (`rd_from`), KEY `rd_ns_title` (`rd_namespace`,`rd_title`,`rd_from`))
CREATE TABLE `notify_log` ( `nl_id` int(11) NOT NULL AUTO_INCREMENT, `nl_city` int(11) NOT NULL, `nl_type` char(32) NOT NULL, `nl_editor` int(6) NOT NULL, `nl_watcher` int(6) NOT NULL, `nl_title` varchar(255) NOT NULL, `nl_namespace` int(11) NOT NULL, `nl_timestamp` char(14) DEFAULT NULL, PRIMARY KEY (`nl_id`), KEY `nl_watcher` (`nl_watcher`), KEY `nl_editor` (`nl_editor`), KEY `nl_title` (`nl_title`,`nl_namespace`), KEY `nl_type` (`nl_type`,`nl_timestamp`), KEY `nl_city` (`nl_city`))
CREATE TABLE upp_interview_question (	uiqu_id INT(11) NOT NULL AUTO_INCREMENT PRIMARY KEY,	uiqu_wiki_id INT(11) NOT NULL,	uiqu_body VARCHAR(255),	uiqu_order TINYINT DEFAULT 1,	uiqu_answers_count INT(11) DEFAULT 0,	KEY wiki_id (uiqu_wiki_id))
CREATE TABLE `wall_related_pages` ( `comment_id` int(10) unsigned NOT NULL, `page_id` int(10) unsigned NOT NULL, `order_index` int(10) unsigned NOT NULL, `add_at` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP, `last_update` timestamp, KEY `comment_id_idx` (`comment_id`), KEY `page_id_idx` (`page_id`, `last_update`), unique key unique_key (`comment_id`, `page_id`))
SELECT sql FROM sqlite_master WHERE tbl_name=" . $this->addQuotes( $oldName ) . " AND type='table'
CREATE TABLE `user_login_history_summary` ( `user_id` int(8) unsigned NOT NULL, `ulh_timestamp` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP, PRIMARY KEY (`user_id`))
CREATE TABLE video_imagetable_backup (	id INT(11) NOT NULL AUTO_INCREMENT,	wiki_id INT(11) NOT NULL,	img_name varchar(255),	img_metadata mediumblob,	img_user int(5) unsigned,	img_user_text varchar(255),	img_timestamp char(14),	KEY `vitb_wiki` (wiki_id),	PRIMARY KEY (id))
CREATE TABLE /*$wgDBprefix*/transcache (	tc_url		varbinary(255) NOT NULL,	tc_contents	TEXT,	tc_time		binary(14) NOT NULL,	UNIQUE INDEX tc_url_idx(tc_url))
CREATE TABLE hitcounter ( hc_id BIGINT NOT NULL)
CREATE TABLE `categorylinks` ( `cl_from` int(8) unsigned NOT NULL DEFAULT '0', `cl_to` varchar(255) CHARACTER SET latin1 COLLATE latin1_bin NOT NULL DEFAULT '', `cl_sortkey` varbinary(230) NOT NULL DEFAULT '', `cl_timestamp` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP, `cl_sortkey_prefix` varchar(255) CHARACTER SET latin1 COLLATE latin1_bin NOT NULL DEFAULT '', `cl_collation` varbinary(32) NOT NULL DEFAULT '', `cl_type` enum('page','subcat','file') NOT NULL DEFAULT 'page', UNIQUE KEY `cl_from` (`cl_from`,`cl_to`), KEY `cl_timestamp` (`cl_to`,`cl_timestamp`), KEY `cl_collation` (`cl_collation`), KEY `cl_sortkey` (`cl_to`,`cl_type`,`cl_sortkey`,`cl_from`))
CREATE TABLE IF NOT EXISTS `$table` (							`request` varchar(128) NOT NULL,							`response` mediumtext NOT NULL,							`expiration` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP,							UNIQUE KEY `request` (`request`)						)
CREATE TABLE /*_*/user_groups_tmp ( ug_user int unsigned NOT NULL default 0, ug_group varbinary(32) NOT NULL default '')
CREATE TABLE querycachetwo ( qcc_type VARCHAR(255) NOT NULL, qcc_value BIGINT NOT NULL DEFAULT 0, qcc_namespace INTEGER NOT NULL DEFAULT 0, qcc_title VARCHAR(255) NOT NULL DEFAULT '', qcc_namespacetwo INTEGER NOT NULL DEFAULT 0, qcc_titletwo VARCHAR(255) NOT NULL DEFAULT '')
CREATE TABLE &mw_prefix.interwiki ( iw_prefix VARCHAR2(32) NOT NULL, iw_url VARCHAR2(127) NOT NULL, iw_api 	BLOB NOT NULL, iw_wikiid VARCHAR2(64), iw_local CHAR(1) NOT NULL, iw_trans CHAR(1) DEFAULT '0' NOT NULL)
SELECT * from city_variables_pool
CREATE TABLE pp_payments ( ppp_id int unsigned NOT NULL AUTO_INCREMENT PRIMARY KEY, ppp_baid char(19) NOT NULL, ppp_amount decimal(5,2) NOT NULL, ppp_requested timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP, ppp_result smallint signed DEFAULT NULL, ppp_respmsg varchar(255) DEFAULT NULL, ppp_correlationid char(13) DEFAULT NULL, ppp_responded timestamp NULL DEFAULT NULL, ppp_pnref char(12) DEFAULT NULL, ppp_ppref char(17) DEFAULT NULL, ppp_feeamt decimal(5,2) DEFAULT NULL, ppp_paymenttype varchar(11) DEFAULT NULL, ppp_pendingreason varchar(255) DEFAULT NULL)
CREATE TABLE IF NOT EXISTS /*_*/maps_layers (	layer_page_id int REFERENCES /*_*/page(page_id) ON DELETE CASCADE,	layer_name varchar(64) binary default NULL,	layer_type varchar(32) binary NOT NULL,	layer_data text NOT NULL)
CREATE TABLE /*$wgDBprefix*/user_groups ( ug_user INT NOT NULL REFERENCES /*$wgDBprefix*/[user](user_id) ON DELETE CASCADE, ug_group NVARCHAR(16) NOT NULL DEFAULT '',)
CREATE TABLE &mw_prefix.redirect ( rd_from NUMBER NOT NULL, rd_namespace NUMBER DEFAULT 0 NOT NULL, rd_title VARCHAR2(255) NOT NULL, rd_interwiki VARCHAR2(32), rd_fragment VARCHAR2(255))
CREATE TABLE &mw_prefix.uploadstash (	us_id NUMBER NOT NULL, us_user NUMBER DEFAULT 0 NOT NULL,	us_key								VARCHAR2(255) NOT NULL,	us_orig_path 					VARCHAR2(255) NOT NULL,	us_path								VARCHAR2(255) NOT NULL,	us_source_type				VARCHAR2(50), us_timestamp TIMESTAMP(6) WITH TIME ZONE,	us_status							VARCHAR2(50) NOT NULL,	us_size								NUMBER NOT NULL,	us_sha1								VARCHAR2(32) NOT NULL,	us_mime								VARCHAR2(255), us_media_type VARCHAR2(32) DEFAULT NULL,	us_image_width				NUMBER,	us_image_height				NUMBER,	us_image_bits					NUMBER)
CREATE TABLE `t_city_ads` ( `r` int(11) NOT NULL AUTO_INCREMENT, `city_id` mediumint(9) NOT NULL, `ad_skin` varchar(15) NOT NULL DEFAULT 'monaco', `ad_lang` char(2) NOT NULL DEFAULT '', `ad_cat` char(4) NOT NULL DEFAULT '', `ad_pos` varchar(15) CHARACTER SET utf8 COLLATE utf8_unicode_ci NOT NULL, `ad_zone` mediumint(9) NOT NULL, `ad_server` char(1) NOT NULL DEFAULT 'L', `comment` varchar(255) NOT NULL DEFAULT '', `dbname` varchar(255) NOT NULL DEFAULT '', `ad_keywords` varchar(255) NOT NULL DEFAULT '', `domain` varchar(255) NOT NULL DEFAULT '', PRIMARY KEY (`r`), UNIQUE KEY `mainidx` (`city_id`,`ad_skin`,`ad_lang`,`ad_cat`,`ad_pos`) USING BTREE, KEY `lookupidx` (`city_id`,`ad_skin`), KEY `cityidx` (`city_id`), KEY `zoneidx` (`ad_zone`), KEY `posidx` (`ad_pos`), KEY `langidx` (`ad_lang`), KEY `skinidx` (`ad_skin`))
CREATE TABLE `tv_series_wikis` ( `wiki_id` int(11) NOT NULL, `series_lookup` varchar(255) NOT NULL, `wiki_name` varchar(255) NOT NULL, `wiki_lang` varchar(5) NOT NULL, PRIMARY KEY (`wiki_id`,`series_lookup`), KEY `series_lookup` (`series_lookup`))
SELECT rev_id,rev_len FROM $revision 
CREATE TABLE /*_*/querycache_info ( qci_type varbinary(32) NOT NULL default '', qci_timestamp binary(14) NOT NULL default '19700101000000')
CREATE TABLE &mw_prefix.user_former_groups ( ufg_user NUMBER DEFAULT 0 NOT NULL, ufg_group VARCHAR2(16) NOT NULL)
CREATE TABLE category ( cat_id INTEGER NOT NULL PRIMARY KEY DEFAULT nextval('category_cat_id_seq'), cat_title TEXT NOT NULL, cat_pages INTEGER NOT NULL DEFAULT 0, cat_subcats INTEGER NOT NULL DEFAULT 0, cat_files INTEGER NOT NULL DEFAULT 0, cat_hidden SMALLINT NOT NULL DEFAULT 0)
SELECT * FROM "+this.tableName);d.isValidRow();){b=this.unfreezeFeature(d);if(this.evaluateFilter(b,a.filter)){if(!a.noFeatureStateReset)b.state=null;c.push(b)}d.next()}d.close();b=new OpenLayers.Protocol.Response({code:OpenLayers.Protocol.Response.SUCCESS,requestType:"read",features:c});a&&a.callback&&a.callback.call(a.scope,b);return b},unfreezeFeature:function(a){var b;b=a.fieldByName("geometry
SELECT page_id FROM page WHERE page_namespace = ' . NS_MEDIAWIKI . ' )';
SELECT * FROM /*_*/ipblocks;
CREATE TABLE /*$wgDBprefix*/city_cats ( `cat_id` int(9) NOT NULL, `cat_name` varchar(255) default NULL, `cat_url` text, `cat_short` varchar(255) default NULL, `cat_deprecated` boolean default 0, `cat_active` boolean default 0, PRIMARY KEY (`cat_id`), KEY `cat_name_idx` (`cat_name`))
SELECT MAX(smw_id) FROM $smwIDs WHERE smw_title = '$property_value' AND smw_namespace = $prop_ns) AND ";
CREATE TABLE `objectcache` ( `keyname` varchar(255) CHARACTER SET latin1 COLLATE latin1_bin NOT NULL DEFAULT '', `value` mediumblob, `exptime` datetime DEFAULT NULL, UNIQUE KEY `keyname` (`keyname`), KEY `exptime` (`exptime`))
CREATE TABLE page_props ( pp_page INTEGER NOT NULL REFERENCES page (page_id) ON DELETE CASCADE, pp_propname TEXT NOT NULL, pp_value TEXT NOT NULL)
CREATE TABLE `events_log` ( `el_type` char(32) NOT NULL, `el_wiki` int(5) DEFAULT '0', `el_language` int(5) DEFAULT '0', `el_category` int(5) DEFAULT '0', `el_catlang` int(5) DEFAULT '0', `el_summary` int(5) DEFAULT '0', `el_start` timestamp NOT NULL DEFAULT '0000-00-00 00:00:00', `el_end` timestamp NOT NULL DEFAULT '0000-00-00 00:00:00', PRIMARY KEY (`el_type`), KEY `el_start_end` (`el_type`,`el_start`,`el_end`))
CREATE TABLE &mw_prefix.category ( cat_id NUMBER NOT NULL, cat_title VARCHAR2(255) NOT NULL, cat_pages NUMBER DEFAULT 0 NOT NULL, cat_subcats NUMBER DEFAULT 0 NOT NULL, cat_files NUMBER DEFAULT 0 NOT NULL, cat_hidden NUMBER DEFAULT 0 NOT NULL)
CREATE TABLE `ignored_users` ( `user_id` int(5) unsigned NOT NULL, PRIMARY KEY (`user_id`))
select * from achievements_badges
SELECT cur_title, cur_namespace, cur_id, cur_timestamp FROM $cur WHERE 
CREATE TABLE IF NOT EXISTS /*_*/categoryintersections ( `ci_page` int(10) unsigned NOT NULL, `ci_hash` int(10) unsigned NOT NULL, PRIMARY KEY (`ci_hash`,`ci_page`))
SELECT * FROM interwiki
CREATE TABLE &mw_prefix.l10n_cache ( lc_lang varchar2(32) NOT NULL, lc_key varchar2(255) NOT NULL, lc_value clob NOT NULL)
SELECT * FROM $table LIMIT 1
SELECT * FROM /*_*/math;
CREATE TABLE scavenger_hunt_games (	`game_id` int(10) NOT NULL auto_increment,	`wiki_id` int(10) NOT NULL,	`game_name` varchar(255) NOT NULL,	`game_is_enabled` tinyint(1) DEFAULT 0,	`game_data` blob, PRIMARY KEY ( `game_id` ))
CREATE TABLE `poll_vote` ( `poll_id` varchar(32) NOT NULL DEFAULT '', `poll_user` varchar(255) NOT NULL DEFAULT '', `poll_ip` varchar(255) DEFAULT NULL, `poll_answer` int(3) DEFAULT NULL, `poll_date` datetime DEFAULT NULL, PRIMARY KEY (`poll_id`,`poll_user`))
CREATE TABLE /*$wgDBprefix*/ach_user_badges (	`user_id` int(5) unsigned NOT NULL,	`badge_type_id` int(10) signed NOT NULL,	`badge_lap` int DEFAULT NULL,	`badge_level` tinyint(3) unsigned NOT NULL,	`date` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP,	`notified` tinyint(1) NOT NULL DEFAULT '0',	KEY `id` (`user_id`),	KEY `badge_count` (`badge_type_id`,`badge_lap`),	KEY `level_date2` (`badge_level`,`date`,`badge_lap`),	KEY `user_badge` (`user_id`,`badge_type_id`,`badge_lap`),	KEY `user_date_lap` (`user_id`,`date`,`badge_lap`),	KEY `notified_id` (`user_id`,`notified`))
CREATE TABLE IF NOT EXISTS `ach_custom_badges` (	`id` int(10) signed NOT NULL AUTO_INCREMENT PRIMARY KEY,	`cat` varchar(255),	`enabled` tinyint(1) NOT NULL DEFAULT 0,	`type` tinyint(1) NOT NULL,	`sponsored` TINYINT(1) NOT NULL DEFAULT 0,	`badge_tracking_url` VARCHAR(255) DEFAULT NULL,	`hover_tracking_url` VARCHAR(255) DEFAULT NULL,	`click_tracking_url` VARCHAR(255) DEFAULT NULL,	KEY `id` (`id`),	KEY `type` (`type`))
CREATE TABLE image ( img_name TEXT NOT NULL PRIMARY KEY, img_size INTEGER NOT NULL, img_width INTEGER NOT NULL, img_height INTEGER NOT NULL, img_metadata BYTEA NOT NULL DEFAULT '', img_bits SMALLINT, img_media_type TEXT, img_major_mime TEXT DEFAULT 'unknown', img_minor_mime TEXT DEFAULT 'unknown', img_description TEXT NOT NULL, img_user INTEGER NULL REFERENCES mwuser(user_id) ON DELETE SET NULL DEFERRABLE INITIALLY DEFERRED, img_user_text TEXT NOT NULL, img_timestamp TIMESTAMPTZ, img_sha1 TEXT NOT NULL DEFAULT '')
CREATE TABLE items (	feed_id TEXT NOT NULL,	id TEXT NOT NULL,	data TEXT NOT NULL,	posted INTEGER UNSIGNED NOT NULL)
CREATE TABLE `treatment_groups` ( `id` int(11) NOT NULL, `experiment_id` int(11) NOT NULL, `experiment_version` int(11) NOT NULL, `name` varchar(255) DEFAULT NULL, `is_control` tinyint(1) DEFAULT NULL, `percentage` tinyint(3) unsigned DEFAULT NULL, `ranges` varchar(255) DEFAULT NULL, PRIMARY KEY (`experiment_id`,`experiment_version`,`id`))
CREATE TABLE `founder_progress_bar_tasks` ( `wiki_id` int(10) NOT NULL, `task_id` int(10) NOT NULL, `task_count` int(10) DEFAULT '0', `task_completed` tinyint(1) NOT NULL DEFAULT '0', `task_skipped` tinyint(1) NOT NULL DEFAULT '0', `task_timestamp` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP, PRIMARY KEY (`wiki_id`,`task_id`))
SELECT * FROM /*_*/protected_titles;
SELECT page_title FROM $page p LEFT OUTER JOIN $categorylinks cl ON p.page_id = cl.cl_from WHERE p.page_namespace = $cat_ns AND cl.cl_to IS NULL
CREATE TABLE pp_profiles ( pppr_id int unsigned NOT NULL AUTO_INCREMENT PRIMARY KEY, pppr_baid char(19) NOT NULL, pppr_amount decimal(5,2) NOT NULL, pppr_retrynumdays smallint signed DEFAULT 0, pppr_startdate date, pppr_requested timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP, pppr_result smallint signed DEFAULT NULL, pppr_respmsg varchar(255) DEFAULT NULL, pppr_profileid char(13) DEFAULT NULL, pppr_responded timestamp NULL DEFAULT NULL, pppr_rpref char(12) DEFAULT NULL, pppr_trxpnref char(12) DEFAULT NULL, pppr_trxresult smallint signed DEFAULT NULL, pppr_trxrespmsg varchar(255) DEFAULT NULL)
CREATE TABLE math ( math_inputhash VARCHAR(16) FOR BIT DATA NOT NULL UNIQUE, math_outputhash VARCHAR(16) FOR BIT DATA NOT NULL, math_html_conservativeness SMALLINT NOT NULL, math_html CLOB(64K) INLINE LENGTH 4096, math_mathml CLOB(64K) INLINE LENGTH 4096)
CREATE TABLE `user_interview_questions` ( `id` int(11) NOT NULL AUTO_INCREMENT, `wiki_id` int(11) DEFAULT NULL, `question` mediumblob, `date_set` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP, PRIMARY KEY (`id`))
CREATE TABLE langlinks ( ll_from INTEGER NOT NULL REFERENCES page (page_id) ON DELETE CASCADE DEFERRABLE INITIALLY DEFERRED, ll_lang TEXT, ll_title TEXT)
CREATE TABLE `share_feature` ( `sf_user_id` int(5) unsigned NOT NULL, `sf_provider_id` int(2) unsigned NOT NULL, `sf_clickcount` int(11) DEFAULT '0', PRIMARY KEY (`sf_user_id`,`sf_provider_id`))
SELECT * FROM /*_*/page_props;
CREATE TABLE wall_notification (	id INT(11) NOT NULL AUTO_INCREMENT,	user_id INT(11) NOT NULL,	wiki_id INT(11),	is_read INT(11) NOT NULL,	is_reply INT(11) NOT NULL,	is_hidden INT(11) NOT NULL DEFAULT 0,	author_id INT(11) NOT NULL,	unique_id INT(11) NOT NULL,	entity_key CHAR(30) NOT NULL,	notif_type INT(11) DEFAULT 0,	KEY `user` (user_id,wiki_id),	KEY `user_wiki_unique` (user_id,wiki_id,unique_id),	PRIMARY KEY (id))
CREATE TABLE `mw_langlinks` ( `ll_from` int(10) unsigned NOT NULL DEFAULT '0', `ll_lang` varbinary(20) NOT NULL DEFAULT '', `ll_title` varchar(255) CHARACTER SET latin1 COLLATE latin1_bin NOT NULL DEFAULT '', UNIQUE KEY `ll_from` (`ll_from`,`ll_lang`), KEY `ll_lang` (`ll_lang`,`ll_title`))
CREATE TABLE `city_variables_pool` ( `cv_id` smallint(5) unsigned NOT NULL AUTO_INCREMENT, `cv_name` varchar(255) NOT NULL, `cv_description` text NOT NULL, `cv_variable_type` enum('integer','long','string','float','array','boolean','text','struct','hash') NOT NULL DEFAULT 'integer', `cv_variable_group` tinyint(3) unsigned NOT NULL DEFAULT '1', `cv_access_level` tinyint(3) unsigned NOT NULL DEFAULT '1' COMMENT '1 - read only\n2 - admin writable\n3 - user writable\n', `cv_is_unique` int(1) DEFAULT '0', PRIMARY KEY (`cv_id`), UNIQUE KEY `idx_name_unique` (`cv_name`))
CREATE TABLE `user_email_log` (	`user_id` int unsigned NOT NULL,	`old_email` tinytext NOT NULL,	`new_email` tinytext NOT NULL,	`changed_by_id` int unsigned NOT NULL,	`changed_by_ip` char(40) NOT NULL,	`changed_at` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP,	KEY (`user_id`, `old_email`(40)),	KEY (`user_id`, `new_email`(40)))
CREATE TABLE text_regex_stats (	trs_id int(5) NOT NULL AUTO_INCREMENT,	trs_tr_id int(8) NOT NULL,	trs_timestamp char(14) NOT NULL,	trs_user varchar(255) NOT NULL,	trs_text text NOT NULL,	trs_comment text NOT NULL,	PRIMARY KEY ( trs_id ),	KEY trs_tr_id ( trs_tr_id ),	KEY trs_timestamp ( trs_timestamp ),	KEY trs_user ( trs_user ))
CREATE TABLE `wikia_page_backlinks` ( `source_page_id` int(11) NOT NULL, `target_page_id` int(11) NOT NULL, `backlink_text` varchar(255) COLLATE utf8_bin NOT NULL DEFAULT '', `count` int(11) DEFAULT NULL, PRIMARY KEY (`source_page_id`,`target_page_id`,`backlink_text`), KEY `wikia_page_backlinks_source_page_id` (`source_page_id`), KEY `wikia_page_backlinks_target_page_id` (`target_page_id`))
CREATE TABLE /*$wgDBprefix*/protected_titles ( pt_namespace int NOT NULL, pt_title NVARCHAR(255) NOT NULL, pt_user int NOT NULL, pt_reason NVARCHAR(3555), pt_timestamp DATETIME NOT NULL, pt_expiry DATETIME NOT NULL default '', pt_create_perm NVARCHAR(60) NOT NULL, PRIMARY KEY (pt_namespace,pt_title),)
SELECT PAGESIZE FROM SYSCAT.TABLESPACES FOR READ ONLY' );
SELECT indexname FROM pg_indexes WHERE tablename='$table'
CREATE TABLE /*$wgDBprefix*/math ( math_inputhash varbinary(16) NOT NULL PRIMARY KEY, math_outputhash varbinary(16) NOT NULL, math_html_conservativeness tinyint NOT NULL, math_html NVARCHAR(MAX), math_mathml NVARCHAR(MAX),)
CREATE TABLE `mw_protected_titles` ( `pt_namespace` int(11) NOT NULL, `pt_title` varchar(255) CHARACTER SET latin1 COLLATE latin1_bin NOT NULL, `pt_user` int(10) unsigned NOT NULL, `pt_reason` tinyblob, `pt_timestamp` binary(14) NOT NULL, `pt_expiry` varbinary(14) NOT NULL DEFAULT '', `pt_create_perm` varbinary(60) NOT NULL, UNIQUE KEY `pt_namespace_title` (`pt_namespace`,`pt_title`), KEY `pt_timestamp` (`pt_timestamp`))
CREATE TABLE `ad_slot` ( `as_id` smallint(5) unsigned NOT NULL AUTO_INCREMENT, `slot` varchar(50) NOT NULL, `skin` varchar(25) NOT NULL, `size` varchar(25) DEFAULT NULL, `load_priority` tinyint(3) unsigned DEFAULT NULL, `default_provider_id` tinyint(3) unsigned NOT NULL, `default_enabled` enum('Yes','No') DEFAULT 'Yes', PRIMARY KEY (`as_id`), UNIQUE KEY `slot` (`slot`,`skin`))
CREATE TABLE `mw_external_user` ( `eu_local_id` int(10) unsigned NOT NULL, `eu_external_id` varchar(255) CHARACTER SET latin1 COLLATE latin1_bin NOT NULL, PRIMARY KEY (`eu_local_id`), UNIQUE KEY `eu_external_id` (`eu_external_id`))
CREATE TABLE `mw_templatelinks` ( `tl_from` int(10) unsigned NOT NULL DEFAULT '0', `tl_namespace` int(11) NOT NULL DEFAULT '0', `tl_title` varchar(255) CHARACTER SET latin1 COLLATE latin1_bin NOT NULL DEFAULT '', UNIQUE KEY `tl_from` (`tl_from`,`tl_namespace`,`tl_title`), UNIQUE KEY `tl_namespace` (`tl_namespace`,`tl_title`,`tl_from`))
CREATE TABLE pp_tokens ( ppt_id int unsigned NOT NULL AUTO_INCREMENT PRIMARY KEY, ppt_requested timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP, ppt_result smallint signed, ppt_respmsg varchar(255) DEFAULT NULL, ppt_correlationid char(13) DEFAULT NULL, ppt_responded timestamp NULL DEFAULT NULL, ppt_token char(20) DEFAULT NULL)
CREATE TABLE `image_review_stats` ( `id` int(11) NOT NULL AUTO_INCREMENT, `reviewer_id` int(11) NOT NULL, `wiki_id` int(11) NOT NULL, `page_id` int(11) NOT NULL, `review_state` int(11) NOT NULL DEFAULT '0', `review_end` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP, PRIMARY KEY (`id`), KEY `image_idx` (`wiki_id`,`page_id`), KEY `state_date_idx` (`reviewer_id`,`review_state`,`review_end`))
CREATE TABLE `system_events_users` ( `eu_id` int(7) unsigned NOT NULL AUTO_INCREMENT, `eu_city_id` int(7) unsigned NOT NULL, `eu_ev_id` int(7) unsigned NOT NULL DEFAULT '0', `eu_et_id` int(7) unsigned NOT NULL DEFAULT '0', `eu_user_id` int(9) unsigned NOT NULL DEFAULT '0', `eu_user_ip` varchar(20) NOT NULL DEFAULT '', `eu_visible_count` int(5) DEFAULT '0', `eu_active` int(5) DEFAULT '1', `eu_timestamp` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP, PRIMARY KEY (`eu_id`), KEY `eu_city_id` (`eu_city_id`), KEY `eu_ev_id` (`eu_ev_id`,`eu_et_id`), KEY `eu_user_id` (`eu_user_id`))
CREATE TABLE `mw_objectcache` ( `keyname` varbinary(255) NOT NULL DEFAULT '', `value` mediumblob, `exptime` datetime DEFAULT NULL, PRIMARY KEY (`keyname`), KEY `exptime` (`exptime`))
CREATE INDEX globalimagelinks_wiki ON globalimagelinks(gil_wiki, gil_page);
SELECT * FROM test_table WHERE test_column IN ( ?, ?, ? )';
SELECT * FROM /*_*/templatelinks;
CREATE TABLE `mw_trackbacks` ( `tb_id` int(11) NOT NULL AUTO_INCREMENT, `tb_page` int(11) DEFAULT NULL, `tb_title` varchar(255) NOT NULL, `tb_url` blob NOT NULL, `tb_ex` text, `tb_name` varchar(255) DEFAULT NULL, PRIMARY KEY (`tb_id`), KEY `tb_page` (`tb_page`))
CREATE TABLE &mw_prefix.searchindex ( si_page	NUMBER NOT NULL, si_title	VARCHAR2(255), si_text	CLOB NOT NULL)
CREATE TABLE `iwlinks` ( `iwl_from` int(10) unsigned NOT NULL DEFAULT '0', `iwl_prefix` varbinary(20) NOT NULL DEFAULT '', `iwl_title` varchar(255) CHARACTER SET latin1 COLLATE latin1_bin NOT NULL DEFAULT '', UNIQUE KEY `iwl_from` (`iwl_from`,`iwl_prefix`,`iwl_title`), UNIQUE KEY `iwl_prefix_title_from` (`iwl_prefix`,`iwl_title`,`iwl_from`))
CREATE TABLE `category_edits` ( `ce_cat_id` int(10) unsigned NOT NULL, `ce_page_id` int(8) unsigned NOT NULL, `ce_page_ns` int(6) unsigned NOT NULL, `ce_user_id` int(10) unsigned NOT NULL, `ce_date` date NOT NULL, `ce_count` int(10) unsigned NOT NULL, PRIMARY KEY (`ce_cat_id`,`ce_page_id`,`ce_page_ns`,`ce_user_id`,`ce_date`), KEY `cat_date` (`ce_cat_id`,`ce_date`), KEY `cat_user_date` (`ce_cat_id`,`ce_date`,`ce_user_id`), KEY `cat_page_date` (`ce_cat_id`,`ce_page_id`,`ce_count`,`ce_date`), KEY `cat_user` (`ce_cat_id`,`ce_user_id`), KEY `user_pages` (`ce_page_id`,`ce_user_id`))
CREATE TABLE `rovi_programs_credits` ( `program_id` bigint(20) NOT NULL, `credit_id` bigint(20) DEFAULT NULL, `org_id` bigint(20) DEFAULT NULL, `credit_type` varchar(30) DEFAULT NULL, `first_name` varchar(120) DEFAULT NULL, `last_name_single_name_org_name` varchar(256) DEFAULT NULL, `full_credit_name` varchar(256) DEFAULT NULL, `part_name` varchar(60) DEFAULT NULL, `sequence_number` int(11) DEFAULT NULL, `delta` char(3) NOT NULL, `program_credit_id` bigint(20) NOT NULL, `credit_type_id` bigint(20) DEFAULT NULL, PRIMARY KEY (`program_credit_id`))
CREATE TABLE "?(\w+)
CREATE TABLE `page` ( `page_id` int(8) unsigned NOT NULL AUTO_INCREMENT, `page_namespace` int(11) NOT NULL, `page_title` varchar(255) CHARACTER SET latin1 COLLATE latin1_bin NOT NULL, `page_restrictions` tinyblob NOT NULL, `page_counter` bigint(20) unsigned NOT NULL DEFAULT '0', `page_is_redirect` tinyint(1) unsigned NOT NULL DEFAULT '0', `page_is_new` tinyint(1) unsigned NOT NULL DEFAULT '0', `page_random` double unsigned NOT NULL, `page_touched` char(14) CHARACTER SET latin1 COLLATE latin1_bin NOT NULL DEFAULT '', `page_latest` int(8) unsigned NOT NULL, `page_len` int(8) unsigned NOT NULL, PRIMARY KEY (`page_id`), UNIQUE KEY `name_title` (`page_namespace`,`page_title`), KEY `page_random` (`page_random`), KEY `page_len` (`page_len`), KEY `page_random_2` (`page_random`), KEY `page_redirect_namespace_len` (`page_is_redirect`,`page_namespace`,`page_len`))
SELECT page_id FROM page
CREATE TABLE `page_vote` ( `article_id` int(8) unsigned NOT NULL, `user_id` int(5) unsigned NOT NULL, `vote` int(2) NOT NULL, `ip` varchar(32) NOT NULL, `time` datetime NOT NULL, `unique_id` varchar(32) default NULL, KEY `user_id` (`user_id`,`article_id`), KEY `article_id` (`article_id`))
CREATE TABLE /*$wgDBprefix*/abuse_filter_history (	afh_id BIGINT unsigned NOT NULL AUTO_INCREMENT,	afh_filter BIGINT unsigned NOT NULL,	afh_user BIGINT unsigned NOT NULL,	afh_user_text varchar(255) binary NOT NULL,	afh_timestamp binary(14) NOT NULL,	afh_pattern BLOB NOT NULL,	afh_comments BLOB NOT NULL,	afh_flags TINYBLOB NOT NULL,	afh_public_comments TINYBLOB,	afh_actions BLOB,	afh_deleted tinyint(1) NOT NULL DEFAULT 0,	afh_changed_fields varchar(255) NOT NULL DEFAULT '',		PRIMARY KEY (afh_id),	KEY (afh_filter),	KEY (afh_user),	KEY (afh_user_text),	KEY (afh_timestamp))
CREATE TABLE `uploadstash` ( `us_id` int(10) unsigned NOT NULL AUTO_INCREMENT, `us_user` int(10) unsigned NOT NULL, `us_key` varchar(255) NOT NULL, `us_orig_path` varchar(255) NOT NULL, `us_path` varchar(255) NOT NULL, `us_source_type` varchar(50) DEFAULT NULL, `us_timestamp` varbinary(14) NOT NULL, `us_status` varchar(50) NOT NULL, `us_size` int(10) unsigned NOT NULL, `us_sha1` varchar(31) NOT NULL, `us_mime` varchar(255) DEFAULT NULL, `us_media_type` enum('UNKNOWN','BITMAP','DRAWING','AUDIO','VIDEO','MULTIMEDIA','OFFICE','TEXT','EXECUTABLE','ARCHIVE') DEFAULT NULL, `us_image_width` int(10) unsigned DEFAULT NULL, `us_image_height` int(10) unsigned DEFAULT NULL, `us_image_bits` smallint(5) unsigned DEFAULT NULL, `us_chunk_inx` int(10) unsigned DEFAULT NULL, PRIMARY KEY (`us_id`), UNIQUE KEY `us_key` (`us_key`), KEY `us_user` (`us_user`), KEY `us_timestamp` (`us_timestamp`))
CREATE TABLE IF NOT EXISTS `ach_user_badges` (	`wiki_id` int(9) signed NOT NULL,	`user_id` int(5) unsigned NOT NULL,	`badge_type_id` int(10) signed NOT NULL,	`badge_lap` int(11) DEFAULT NULL,	`badge_level` tinyint(3) unsigned NOT NULL,	`date` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP,	`notified` tinyint(1) NOT NULL DEFAULT '0',	KEY `id` (`wiki_id`,`user_id`),	KEY `badge_count` (`wiki_id`,`badge_type_id`,`badge_lap`),	KEY `level_date` (`wiki_id`,`badge_level`,`date`,`badge_lap`),	KEY `user_wiki_badge` (`wiki_id`,`user_id`,`badge_type_id`,`badge_lap`),	KEY `user_wiki_date_lap` (`user_id`,`wiki_id`,`date`,`badge_lap`))
CREATE INDEX externallinks_from_to ON externallinks (el_from,el_to);
CREATE TABLE &mw_prefix.protected_titles ( pt_namespace NUMBER DEFAULT 0 NOT NULL, pt_title VARCHAR2(255) NOT NULL, pt_user NUMBER	 NOT NULL, pt_reason VARCHAR2(255), pt_timestamp TIMESTAMP(6) WITH TIME ZONE NOT NULL, pt_expiry VARCHAR2(14) NOT NULL, pt_create_perm VARCHAR2(60) NOT NULL)
CREATE TABLE IF NOT EXISTS `ach_user_score` (	`user_id` int(5) unsigned NOT NULL,	`score` int(10) unsigned NOT NULL,	UNIQUE KEY `user_id` (`user_id`))
CREATE TABLE &mw_prefix.job ( job_id NUMBER NOT NULL, job_cmd VARCHAR2(60) NOT NULL, job_namespace NUMBER DEFAULT 0 NOT NULL, job_title VARCHAR2(255) NOT NULL, job_timestamp	 TIMESTAMP(6) WITH TIME ZONE NULL, job_params CLOB NOT NULL)
CREATE TABLE `city_verticals` ( `vertical_id` int(9) NOT NULL, `vertical_name` varchar(255) DEFAULT NULL, `vertical_url` text, `vertical_short` varchar(255) DEFAULT NULL, PRIMARY KEY (`vertical_id`), KEY `vertical_name_idx` (`vertical_name`))
SELECT city_id, img_action, img_src, img_dest, img_added, img_sync, %s FROM %s WHERE id = %d 
CREATE TABLE sotdnoms (	sn_id int NOT NULL PRIMARY KEY AUTO_INCREMENT,	sn_userid int NOT NULL default 0,	sn_username varchar(255) NOT NULL,	sn_artist varchar(255) NOT NULL,	sn_song varchar(255) NOT NULL,	sn_reason mediumtext NOT NULL,	sn_video char(11) NOT NULL default '',	sn_audio char(7) NOT NULL default '',	sn_prefdate int default NULL,	sn_occasion varchar(255) NOT NULL default '',	sn_nomdate int NOT NULL,	sn_token char(32) NOT NULL,	sn_status tinyint NOT NULL default 0)
CREATE INDEX flags_on_pages_wiki_id_idx ON flags_to_pages (wiki_id);
CREATE TABLE `page_props` ( `pp_page` int(11) NOT NULL, `pp_propname` varbinary(60) NOT NULL, `pp_value` blob NOT NULL, PRIMARY KEY (`pp_page`,`pp_propname`))
CREATE TABLE text_regex (	tr_id int(8) NOT NULL AUTO_INCREMENT,	tr_text varchar(255) NOT NULL,	tr_timestamp char(14) NOT NULL,	tr_user int(8) NOT NULL,	tr_subpage varchar(255) NOT NULL,	PRIMARY KEY ( tr_id ),	UNIQUE KEY tr_text_subpage ( tr_text, tr_subpage ),	KEY tr_subpage (tr_subpage),	KEY tr_timestamp ( tr_timestamp ),	KEY tr_user ( tr_user ))
CREATE TABLE /\*_\*/(\w+)
CREATE TABLE uploadstash ( us_id INTEGER PRIMARY KEY NOT NULL DEFAULT nextval('uploadstash_us_id_seq'), us_user INTEGER, us_key		 TEXT, us_orig_path TEXT, us_path		 TEXT, us_source_type TEXT, us_timestamp	 TIMESTAMPTZ, us_status		 TEXT, us_size		 INTEGER, us_sha1		 TEXT, us_mime		 TEXT, us_media_type	 media_type DEFAULT NULL, us_image_width INTEGER, us_image_height INTEGER, us_image_bits INTEGER)
CREATE TABLE /*$wgDBprefix*/abuse_filter_history (	afh_id BIGINT unsigned NOT NULL AUTO_INCREMENT,	afh_filter BIGINT unsigned NOT NULL,	afh_user BIGINT unsigned NOT NULL,	afh_user_text varchar(255) binary NOT NULL,	afh_timestamp binary(14) NOT NULL,	afh_pattern BLOB NOT NULL,	afh_comments BLOB NOT NULL,	afh_flags TINYBLOB NOT NULL,	afh_public_comments TINYBLOB,	afh_actions BLOB)
CREATE TABLE category ( cat_id INTEGER NOT NULL PRIMARY KEY DEFAULT nextval('category_id_seq'), cat_title TEXT NOT NULL, cat_pages INTEGER NOT NULL DEFAULT 0, cat_subcats INTEGER NOT NULL DEFAULT 0, cat_files INTEGER NOT NULL DEFAULT 0, cat_hidden SMALLINT NOT NULL DEFAULT 0)
SELECT * FROM `$wikiaDB`.`interwiki` $from;
CREATE TABLE /*_*/revision_tmp ( rev_id int unsigned NOT NULL PRIMARY KEY AUTO_INCREMENT, rev_page int unsigned NOT NULL, rev_text_id int unsigned NOT NULL, rev_comment tinyblob NOT NULL, rev_user int unsigned NOT NULL default 0, rev_user_text varchar(255) binary NOT NULL default '', rev_timestamp binary(14) NOT NULL default '', rev_minor_edit tinyint unsigned NOT NULL default 0, rev_deleted tinyint unsigned NOT NULL default 0, rev_len int unsigned, rev_parent_id int unsigned default NULL)
CREATE TABLE scavenger_hunt_entries (	`entry_id` int(10) NOT NULL auto_increment,	`game_id` int(10) NOT NULL,	`user_id` int(10),	`entry_name` varchar(255),	`entry_email` varchar(255),	`entry_answer` varchar(255), PRIMARY KEY ( `entry_id` ))
CREATE TABLE `mw_archive` ( `ar_namespace` int(11) NOT NULL DEFAULT '0', `ar_title` varchar(255) CHARACTER SET latin1 COLLATE latin1_bin NOT NULL DEFAULT '', `ar_text` mediumblob NOT NULL, `ar_comment` tinyblob NOT NULL, `ar_user` int(10) unsigned NOT NULL DEFAULT '0', `ar_user_text` varchar(255) CHARACTER SET latin1 COLLATE latin1_bin NOT NULL, `ar_timestamp` binary(14) NOT NULL DEFAULT '\0\0\0\0\0\0\0\0\0\0\0\0\0\0', `ar_minor_edit` tinyint(4) NOT NULL DEFAULT '0', `ar_flags` tinyblob NOT NULL, `ar_rev_id` int(10) unsigned DEFAULT NULL, `ar_text_id` int(10) unsigned DEFAULT NULL, `ar_deleted` tinyint(3) unsigned NOT NULL DEFAULT '0', `ar_len` int(10) unsigned DEFAULT NULL, `ar_page_id` int(10) unsigned DEFAULT NULL, `ar_parent_id` int(10) unsigned DEFAULT NULL, KEY `name_title_timestamp` (`ar_namespace`,`ar_title`,`ar_timestamp`), KEY `usertext_timestamp` (`ar_user_text`,`ar_timestamp`), KEY `ar_page_revid` (`ar_namespace`,`ar_title`,`ar_rev_id`))
CREATE TABLE /*$wgDBprefix*/querycachetwo ( qcc_type NCHAR(32) NOT NULL, qcc_value INT NOT NULL DEFAULT 0, qcc_namespace INT NOT NULL DEFAULT 0, qcc_title NCHAR(255) NOT NULL DEFAULT '', qcc_namespacetwo INT NOT NULL DEFAULT 0, qcc_titletwo NCHAR(255) NOT NULL DEFAULT '', CONSTRAINT /*$wgDBprefix*/qcc_type PRIMARY KEY(qcc_type,qcc_value),)
CREATE TABLE `namespace_monthly_stats` ( `wiki_id` int(8) unsigned NOT NULL, `page_ns` int(6) unsigned NOT NULL, `wiki_cat_id` int(8) unsigned NOT NULL, `wiki_lang_id` int(8) unsigned NOT NULL, `stats_date` mediumint(6) unsigned NOT NULL DEFAULT '0', `pages_all` int(8) unsigned NOT NULL DEFAULT '0', `pages_daily` int(8) unsigned NOT NULL DEFAULT '0', `pages_edits` int(8) unsigned NOT NULL DEFAULT '0', `ts` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP, PRIMARY KEY (`wiki_id`,`stats_date`,`page_ns`), KEY `stats_date` (`stats_date`,`page_ns`), KEY `lang_stats` (`stats_date`,`wiki_lang_id`,`page_ns`), KEY `cat_stats` (`stats_date`,`wiki_cat_id`,`page_ns`), KEY `lang_cat_stats` (`stats_date`,`wiki_lang_id`,`wiki_cat_id`,`page_ns`))
CREATE TABLE `garbage_collector` ( `gc_id` int(11) NOT NULL AUTO_INCREMENT, `gc_filename` varchar(285) CHARACTER SET latin1 COLLATE latin1_bin NOT NULL DEFAULT '', `gc_timestamp` varchar(14) CHARACTER SET latin1 COLLATE latin1_bin NOT NULL DEFAULT '', `gc_wiki_id` int(9) DEFAULT NULL, PRIMARY KEY (`gc_id`), KEY `gc_timestamp` (`gc_timestamp`))
CREATE TABLE msg_resource ( mr_resource TEXT NOT NULL, mr_lang TEXT NOT NULL, mr_blob TEXT NOT NULL, mr_timestamp TIMESTAMPTZ NOT NULL)
CREATE TABLE `apiGate_keys` ( `id` int(10) unsigned NOT NULL AUTO_INCREMENT, `user_id` int(11) NOT NULL, `apiKey` varchar(255) NOT NULL, `email` tinytext NOT NULL, `firstName` varchar(255) NOT NULL, `lastName` varchar(255) NOT NULL, `nickName` varchar(255) DEFAULT NULL, `enabled` tinyint(1) DEFAULT '1', PRIMARY KEY (`id`))
CREATE TABLE `city_ads` ( `r` int(11) NOT NULL AUTO_INCREMENT, `city_id` int(9) NOT NULL, `ad_skin` varchar(15) NOT NULL DEFAULT 'monaco', `ad_lang` char(2) NOT NULL DEFAULT '', `ad_cat` char(4) NOT NULL DEFAULT '', `ad_pos` varchar(15) CHARACTER SET utf8 COLLATE utf8_unicode_ci NOT NULL, `ad_zone` mediumint(9) NOT NULL, `ad_server` char(1) NOT NULL DEFAULT 'L', `comment` varchar(255) NOT NULL DEFAULT '', `dbname` varchar(255) NOT NULL DEFAULT '', `ad_keywords` varchar(255) NOT NULL DEFAULT '', `domain` varchar(255) NOT NULL DEFAULT '', PRIMARY KEY (`r`), UNIQUE KEY `mainidx` (`city_id`,`ad_skin`,`ad_lang`,`ad_cat`,`ad_pos`) USING BTREE, KEY `lookupidx` (`city_id`,`ad_skin`), KEY `cityidx` (`city_id`), KEY `zoneidx` (`ad_zone`), KEY `posidx` (`ad_pos`), KEY `langidx` (`ad_lang`), KEY `skinidx` (`ad_skin`))
CREATE INDEX event_date ON wall_notification_queue (event_date);
update recentchanges set rc_title = %s  where rc_id = %d
CREATE TABLE /*_*/updatelog ( ul_key varchar(255) NOT NULL PRIMARY KEY, ul_value blob)
CREATE TABLE `scavenger_hunt_entries` ( `entry_id` int(10) NOT NULL AUTO_INCREMENT, `game_id` int(10) NOT NULL, `user_id` int(10) DEFAULT NULL, `entry_name` varchar(255) DEFAULT NULL, `entry_email` varchar(255) DEFAULT NULL, `entry_answer` varchar(255) DEFAULT NULL, PRIMARY KEY (`entry_id`), KEY `scavenger_hunt_entries_by_game` (`game_id`,`entry_id`))
CREATE TABLE change_tag ( ct_rc_id INTEGER NULL, ct_log_id INTEGER NULL, ct_rev_id INTEGER NULL, ct_tag TEXT NOT NULL, ct_params TEXT NULL)
CREATE TABLE maps_layers ( layer_page_id INTEGER NOT NULL REFERENCES page(page_id) ON DELETE CASCADE, layer_name VARCHAR(64) DEFAULT NULL, layer_type VARCHAR(32) NOT NULL, layer_data TEXT NOT NULL)
CREATE TABLE `mw_l10n_cache` ( `lc_lang` varbinary(32) NOT NULL, `lc_key` varchar(255) NOT NULL, `lc_value` mediumblob NOT NULL, KEY `lc_lang_key` (`lc_lang`,`lc_key`))
CREATE TABLE /*$wgDBprefix*/categorylinks ( cl_from INT NOT NULL DEFAULT 0, cl_to NVARCHAR(255) NOT NULL DEFAULT '', cl_sortkey NVARCHAR(150) NOT NULL DEFAULT '', cl_timestamp DATETIME NOT NULL DEFAULT GETDATE(), CONSTRAINT /*$wgDBprefix*/cl_from PRIMARY KEY(cl_from, cl_to),)
CREATE TABLE `photo_gallery_feeds` ( `url` varchar(255) NOT NULL, `timestamp` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP, `data` blob NOT NULL, PRIMARY KEY (`url`), KEY `timestamp` (`timestamp`))
CREATE TABLE &mw_prefix.testrun ( tr_id NUMBER NOT NULL, tr_date DATE, tr_mw_version BLOB, tr_php_version BLOB, tr_db_version BLOB, tr_uname BLOB,)
CREATE TABLE `image_sync` ( `id` int(8) unsigned NOT NULL AUTO_INCREMENT, `city_id` int(8) unsigned NOT NULL, `img_action` varchar(32) NOT NULL, `img_src` blob, `img_dest` blob, `img_added` datetime DEFAULT NULL, `img_sync` datetime DEFAULT NULL, PRIMARY KEY (`id`), KEY `city_id` (`city_id`,`img_added`))
CREATE TABLE /*_*/langlinks_tmp ( ll_from int unsigned NOT NULL default 0, ll_lang varbinary(20) NOT NULL default '', ll_title varchar(255) binary NOT NULL default '')
select pl_from FROM '.$sPageLinksTable.' WHERE ('.$sPageLinksTable.'.pl_from=page_id AND (';
SELECT rev_id FROM $tbl_rev WHERE rev_id NOT IN ( $set ){$revPageClause}
CREATE TABLE /*$wgDBprefix*/hitcounter ( hc_id BIGINT NOT NULL)
CREATE TABLE `video_postmigrate_undo` ( `id` int(11) NOT NULL AUTO_INCREMENT, `wiki_id` int(11) NOT NULL, `entry_table` varchar(255) NOT NULL, `entry_id` varchar(255) NOT NULL, `entry_id_field` varchar(255) NOT NULL, `entry_ns_field` varchar(255) NOT NULL, PRIMARY KEY (`id`), KEY `vpu_wiki_id` (`wiki_id`))
SELECT * FROM /*_*/page_restrictions;
CREATE TABLE wall_history (	wall_user_id INT(11),	wall_user_ip INT UNSIGNED,	wiki_id INT(11),	post_user_id INT(11),	post_user_ip INT UNSIGNED,	is_reply INT(1),	action SMALLINT(3),	metatitle varchar(201),	reason varchar(101),	page_id INT(11),	reason varchar(100),	parent_page_id INT(11),	revision_id INT(11),	event_date timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,	KEY `w_wip_pid_ed` (wiki_id, wall_user_ip, page_id, event_date),	KEY `w_wid_pid_ed` (wiki_id, wall_user_id, page_id, event_date),	KEY `w_wip_ppid_ed` (wiki_id, wall_user_ip, parent_page_id, event_date),	KEY `w_wid_ppid_ed` (wiki_id, wall_user_id, parent_page_id, event_date))
CREATE TABLE `rank_entry` ( `ren_id` int(11) NOT NULL AUTO_INCREMENT, `ren_city_id` int(11) DEFAULT NULL, `ren_page_name` varchar(255) DEFAULT NULL, `ren_page_url` varchar(255) DEFAULT NULL, `ren_is_main_page` enum('0','1') DEFAULT '0', `ren_phrase` varchar(255) DEFAULT NULL, `ren_created` datetime DEFAULT NULL, PRIMARY KEY (`ren_id`), KEY `city_id` (`ren_city_id`))
CREATE TABLE `phalanx` ( `p_id` int(6) unsigned NOT NULL AUTO_INCREMENT, `p_author_id` int(6) NOT NULL, `p_text` blob NOT NULL, `p_ip_hex` varchar(35) DEFAULT NULL, `p_type` smallint(1) unsigned NOT NULL, `p_timestamp` binary(14) NOT NULL DEFAULT '\0\0\0\0\0\0\0\0\0\0\0\0\0\0', `p_expire` binary(14) DEFAULT NULL, `p_exact` tinyint(1) NOT NULL DEFAULT '0', `p_regex` tinyint(1) NOT NULL DEFAULT '0', `p_case` tinyint(1) NOT NULL DEFAULT '0', `p_reason` tinyblob NOT NULL, `p_lang` varchar(10) DEFAULT NULL, `p_comment` tinyblob NOT NULL, PRIMARY KEY (`p_id`), KEY `p_ip_hex` (`p_ip_hex`), KEY `p_lang` (`p_lang`,`p_type`))
CREATE TABLE tag_summary ( ts_rc_id INTEGER, ts_log_id INTEGER, ts_rev_id INTEGER, ts_tags CLOB(64K) INLINE LENGTH 4096 NOT NULL)
CREATE TABLE `rollup_api_events` ( `period_id` smallint(5) unsigned NOT NULL, `time_id` datetime NOT NULL, `api_key` binary(16) NOT NULL, `api_type` varchar(255) NOT NULL DEFAULT '', `api_function` varchar(255) NOT NULL DEFAULT '', `ip` int(10) unsigned NOT NULL, `wiki_id` int(10) unsigned NOT NULL, `events` int(10) unsigned DEFAULT NULL, PRIMARY KEY (`period_id`,`time_id`,`api_key`,`api_type`,`api_function`,`ip`,`wiki_id`))
CREATE TABLE `module_deps` ( `md_module` varbinary(255) NOT NULL, `md_skin` varbinary(32) NOT NULL, `md_deps` mediumblob NOT NULL, UNIQUE KEY `md_module_skin` (`md_module`,`md_skin`))
CREATE INDEX logging_type_name ON logging (log_type, log_timestamp);
CREATE TABLE `mw_transcache` ( `tc_url` varbinary(255) NOT NULL, `tc_contents` text, `tc_time` binary(14) DEFAULT NULL, UNIQUE KEY `tc_url_idx` (`tc_url`))
CREATE TABLE `video_premigrate` ( `id` int(11) NOT NULL AUTO_INCREMENT, `img_name` varchar(255) NOT NULL, `wiki_id` int(11) NOT NULL, `provider` varchar(255) NOT NULL, `new_metadata` blob, `is_name_taken` int(11) NOT NULL, `api_url` blob, `video_id` tinyblob, `status` int(11) NOT NULL, `status_msg` blob, `full_response` blob, `thumbnail_url` varchar(255) DEFAULT NULL, `backlinks` int(11) NOT NULL DEFAULT '0', PRIMARY KEY (`id`), KEY `vp_wiki_img` (`wiki_id`,`img_name`), KEY `vp_prov` (`provider`), KEY `vp_nametaken` (`is_name_taken`))
SELECT * FROM /*_*/revision;
CREATE TABLE `ad_provider` ( `provider_id` tinyint(3) unsigned NOT NULL AUTO_INCREMENT, `provider_name` varchar(25) DEFAULT NULL, PRIMARY KEY (`provider_id`))
CREATE TABLE IF NOT EXISTS `crosslink` ( `id` int(11) unsigned NOT NULL AUTO_INCREMENT, `source_wiki` int(8) unsigned NOT NULL, `source_page` int(8) unsigned NOT NULL, `target_wiki` int(8) unsigned NOT NULL, `target_page` int(8) unsigned NOT NULL, PRIMARY KEY (`id`), KEY `source` (`source_wiki`,`source_page`))
CREATE TABLE &mw_prefix.msg_resource ( mr_resource VARCHAR2(255) NOT NULL, mr_lang varchar2(32) NOT NULL, mr_blob BLOB NOT NULL, mr_timestamp TIMESTAMP(6) WITH TIME ZONE NOT NULL)
CREATE TABLE `city_cats` ( `cat_id` int(9) NOT NULL AUTO_INCREMENT, `cat_name` varchar(255) DEFAULT NULL, `cat_url` text, `cat_short` varchar(255) DEFAULT NULL, `cat_deprecated` tinyint(1) DEFAULT '0', `cat_active` tinyint(1) DEFAULT '0', PRIMARY KEY (`cat_id`), KEY `cat_name_idx` (`cat_name`))
CREATE TABLE querycache_info ( qci_type VARCHAR(255) UNIQUE NOT NULL, qci_timestamp TIMESTAMP(3))
CREATE TABLE `events_local_users` ( `wiki_id` int(8) unsigned NOT NULL, `user_id` int(10) unsigned NOT NULL, `user_name` varchar(255) NOT NULL DEFAULT '', `last_ip` int(10) unsigned NOT NULL DEFAULT '0', `edits` int(11) unsigned NOT NULL DEFAULT '0', `editdate` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP, `last_revision` int(11) NOT NULL DEFAULT '0', `cnt_groups` smallint(4) NOT NULL DEFAULT '0', `single_group` char(25) NOT NULL DEFAULT '', `all_groups` mediumtext NOT NULL, `user_is_blocked` tinyint(1) DEFAULT '0', `user_is_closed` tinyint(1) DEFAULT '0', PRIMARY KEY (`wiki_id`,`user_id`,`user_name`), KEY `user_edits` (`user_id`,`edits`,`wiki_id`), KEY `user_id` (`user_id`), KEY `edits` (`edits`), KEY `wiki_id` (`wiki_id`))
SELECT user_id,user_rights FROM /*$wgDBprefix*/user;
CREATE TABLE &mw_prefix.user_properties ( up_user NUMBER NOT NULL, up_property VARCHAR2(255) NOT NULL, up_value CLOB)
CREATE TABLE &mw_prefix.filearchive ( fa_id NUMBER NOT NULL, fa_name VARCHAR2(255) NOT NULL, fa_archive_name VARCHAR2(255), fa_storage_group VARCHAR2(16), fa_storage_key VARCHAR2(64), fa_deleted_user NUMBER DEFAULT 0 NOT NULL, fa_deleted_timestamp TIMESTAMP(6) WITH TIME ZONE NOT NULL, fa_deleted_reason CLOB, fa_size NUMBER DEFAULT 0 NOT NULL, fa_width NUMBER DEFAULT 0 NOT NULL, fa_height NUMBER DEFAULT 0 NOT NULL, fa_metadata CLOB, fa_bits NUMBER DEFAULT 0 NOT NULL, fa_media_type VARCHAR2(32) DEFAULT NULL, fa_major_mime VARCHAR2(32) DEFAULT 'unknown', fa_minor_mime VARCHAR2(100) DEFAULT 'unknown', fa_description VARCHAR2(255), fa_user NUMBER DEFAULT 0 NOT NULL, fa_user_text VARCHAR2(255) NOT NULL, fa_timestamp TIMESTAMP(6) WITH TIME ZONE, fa_deleted NUMBER DEFAULT 0 NOT NULL)
CREATE TABLE /*$wgDBprefix*/category ( cat_id int NOT NULL IDENTITY(1,1), cat_title nvarchar(255) NOT NULL, cat_pages int NOT NULL default 0, cat_subcats int NOT NULL default 0, cat_files int NOT NULL default 0, cat_hidden tinyint NOT NULL default 0,)
CREATE TABLE /*$wgDBprefix*/validate ( `val_user` int(11) NOT NULL default '0', `val_page` int(11) unsigned NOT NULL default '0', `val_revision` int(11) unsigned NOT NULL default '0', `val_type` int(11) unsigned NOT NULL default '0', `val_value` int(11) default '0', `val_comment` varchar(255) NOT NULL default '', `val_ip` varchar(20) NOT NULL default '', KEY `val_user` (`val_user`,`val_revision`))
CREATE TABLE /*_*/pagelinks_tmp ( pl_from int unsigned NOT NULL default 0, pl_namespace int NOT NULL default 0, pl_title varchar(255) binary NOT NULL default '')
CREATE TABLE `mw_log_search` ( `ls_field` varbinary(32) NOT NULL, `ls_value` varchar(255) NOT NULL, `ls_log_id` int(10) unsigned NOT NULL DEFAULT '0', UNIQUE KEY `ls_field_val` (`ls_field`,`ls_value`,`ls_log_id`), KEY `ls_log_id` (`ls_log_id`))
CREATE TABLE IF NOT EXISTS `messages_status`(	`msg_wiki_id` int (9) unsigned NOT NULL default 0,	`msg_recipient_id` int (10) unsigned NOT NULL default 0,	`msg_id` int (7) unsigned NOT NULL,	`msg_status` tinyint NOT NULL,	`msg_date` timestamp NOT NULL default CURRENT_TIMESTAMP on update CURRENT_TIMESTAMP,	PRIMARY KEY (`msg_wiki_id`, `msg_recipient_id`, `msg_id`),	KEY `msg_id` (`msg_id`),	KEY `msg_wiki_id_idx` (`msg_wiki_id`))
CREATE TABLE `abuse_filter` ( `af_id` bigint(20) unsigned NOT NULL AUTO_INCREMENT, `af_pattern` blob NOT NULL, `af_user` bigint(20) unsigned NOT NULL, `af_user_text` varchar(255) CHARACTER SET latin1 COLLATE latin1_bin NOT NULL, `af_timestamp` binary(14) NOT NULL, `af_enabled` tinyint(1) NOT NULL DEFAULT '1', `af_comments` blob, `af_public_comments` tinyblob, `af_hidden` tinyint(1) NOT NULL DEFAULT '0', `af_hit_count` bigint(20) NOT NULL DEFAULT '0', `af_throttled` tinyint(1) NOT NULL DEFAULT '0', `af_deleted` tinyint(1) NOT NULL DEFAULT '0', `af_actions` varchar(255) NOT NULL DEFAULT '', `af_global` tinyint(1) NOT NULL DEFAULT '0', PRIMARY KEY (`af_id`), KEY `af_user` (`af_user`))
CREATE TABLE `lang_monthly_stats` ( `wiki_lang_id` int(8) unsigned NOT NULL, `stats_date` mediumint(6) unsigned NOT NULL DEFAULT '0', `users_all` int(8) unsigned NOT NULL DEFAULT '0', `users_content_ns` int(8) unsigned NOT NULL DEFAULT '0', `users_user_ns` int(8) unsigned NOT NULL DEFAULT '0', `users_5times` int(8) unsigned NOT NULL DEFAULT '0', `users_100times` int(8) unsigned NOT NULL DEFAULT '0', `articles` int(8) unsigned NOT NULL DEFAULT '0', `articles_daily` int(8) unsigned NOT NULL DEFAULT '0', `articles_edits` int(8) unsigned NOT NULL DEFAULT '0', `images_links` int(8) unsigned NOT NULL DEFAULT '0', `images_uploaded` int(8) unsigned NOT NULL DEFAULT '0', `video_links` int(8) unsigned NOT NULL DEFAULT '0', `video_uploaded` int(8) unsigned NOT NULL DEFAULT '0', `ts` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP, PRIMARY KEY (`wiki_lang_id`,`stats_date`), KEY `stats_date` (`stats_date`), KEY `ts` (`wiki_lang_id`,`ts`))
CREATE TABLE `discussion_reporting` ( `id` int(11) NOT NULL AUTO_INCREMENT, `dr_query` varchar(255) COLLATE utf8_unicode_ci NOT NULL, `dr_title` varchar(255) COLLATE utf8_unicode_ci NOT NULL, PRIMARY KEY (`id`), KEY `discussion_dr_title_query_idx` (`dr_title`,`dr_query`))
CREATE TABLE querycache ( qc_type VARCHAR(255) NOT NULL, qc_value BIGINT NOT NULL, qc_namespace INTEGER NOT NULL, qc_title VARCHAR(255) NOT NULL)
CREATE INDEX flags_on_pages_flag_id_idx ON flags_params (flag_id);
CREATE TABLE pp_agreements ( ppa_id int unsigned NOT NULL AUTO_INCREMENT PRIMARY KEY, ppa_token char(20) NOT NULL, ppa_requested timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP, ppa_result smallint signed DEFAULT NULL, ppa_respmsg varchar(255) DEFAULT NULL, ppa_correlationid char(13) DEFAULT NULL, ppa_responded timestamp NULL DEFAULT NULL, ppa_pnref char(12) DEFAULT NULL, ppa_baid char(19) DEFAULT NULL, ppa_canceled timestamp NULL DEFAULT NULL)
CREATE TABLE iwlinks ( iwl_from INTEGER NOT NULL DEFAULT 0, iwl_prefix TEXT NOT NULL DEFAULT '', iwl_title TEXT NOT NULL DEFAULT '')
CREATE TABLE `emails_storage` ( `entry_id` int(10) NOT NULL AUTO_INCREMENT, `source_id` int(10) NOT NULL, `page_id` int(10) NOT NULL, `city_id` int(9) NOT NULL, `email` tinytext, `user_id` int(10) unsigned DEFAULT NULL, `beacon_id` char(10) DEFAULT NULL, `feedback` varchar(255) DEFAULT NULL, `timestamp` char(14) DEFAULT NULL, PRIMARY KEY (`entry_id`), KEY `emails_storage_entry_source` (`source_id`), KEY `emails_storage_entry_timestamp` (`city_id`))
SELECT cl_from FROM $tableName WHERE cl_to='".addslashes($categoryTitle->getDBkey())."' )");
CREATE TABLE `' . $this->options['prefix'][0] . 'items` (`feed_id` TEXT CHARACTER SET utf8 NOT NULL, `id` TEXT CHARACTER SET utf8 NOT NULL, `data` TEXT CHARACTER SET utf8 NOT NULL, `posted` INT UNSIGNED NOT NULL, INDEX `feed_id` (`feed_id`(125)))
CREATE TABLE /*$wgDBprefix*/page_restrictions ( pr_page INT NOT NULL REFERENCES /*$wgDBprefix*/page(page_id) ON DELETE CASCADE, pr_type NVARCHAR(200) NOT NULL, pr_level NVARCHAR(200) NOT NULL, pr_cascade SMALLINT NOT NULL, pr_user INT NULL, pr_expiry DATETIME NULL, pr_id INT UNIQUE IDENTITY, CONSTRAINT /*$wgDBprefix*/pr_pagetype PRIMARY KEY(pr_page,pr_type),)
CREATE TABLE /*$wgDBprefix*/watchlist ( wl_user INT NOT NULL, wl_namespace SMALLINT NOT NULL DEFAULT 0, wl_title NVARCHAR(255) NOT NULL DEFAULT '', wl_notificationtimestamp NVARCHAR(14) DEFAULT NULL,)
CREATE TABLE /*$wgDBprefix*/abuse_filter_history (	afh_id BIGINT unsigned NOT NULL AUTO_INCREMENT,	afh_filter BIGINT unsigned NOT NULL,	afh_user BIGINT unsigned NOT NULL,	afh_user_text varchar(255) binary NOT NULL,	afh_timestamp binary(14) NOT NULL,	afh_pattern BLOB NOT NULL,	afh_comments BLOB NOT NULL,	afh_flags TINYBLOB NOT NULL,	afh_public_comments TINYBLOB,	afh_actions BLOB,	afh_deleted tinyint(1) NOT NULL DEFAULT 0,	afh_changed_fields varchar(255) NOT NULL DEFAULT '')
CREATE TABLE /*$wgDBprefix*/abuse_filter_action (	afa_filter BIGINT unsigned NOT NULL,	afa_consequence varchar(255) NOT NULL,	afa_parameters TINYBLOB NOT NULL,		PRIMARY KEY (afa_filter,afa_consequence),	KEY (afa_consequence))
CREATE TABLE &mw_prefix.querycache ( qc_type VARCHAR2(32) NOT NULL, qc_value NUMBER DEFAULT 0 NOT NULL, qc_namespace NUMBER DEFAULT 0 NOT NULL, qc_title VARCHAR2(255) NOT NULL)
CREATE INDEX pppr_baid ON pp_profiles (pppr_baid);
select * from Comments join page on Comment_Page_ID = page_id where page_namespace = 500' );
CREATE TABLE `mw_user_groups` ( `ug_user` int(10) unsigned NOT NULL DEFAULT '0', `ug_group` varbinary(16) NOT NULL DEFAULT '', UNIQUE KEY `ug_user_group` (`ug_user`,`ug_group`), KEY `ug_group` (`ug_group`))
CREATE TABLE /*$wgDBprefix*/page_visited (	`article_id` int(9) not null,	`count` int(8) NOT NULL,	`prev_diff` int(8) NOT NULL DEFAULT 0,	PRIMARY KEY (`article_id`),	KEY `page_visited_cnt_inx` (`count`),	KEY `pv_changes` (`prev_diff`,`article_id`))
CREATE TABLE &mw_prefix.valid_tag ( vt_tag VARCHAR2(255) NOT NULL)
CREATE TABLE /*$wgDBprefix*/ipblocks (	ipb_id INT NOT NULL PRIMARY KEY,	ipb_address NVARCHAR(255) NOT NULL,	ipb_user INT NOT NULL DEFAULT 0,	ipb_by INT NOT NULL DEFAULT 0,	ipb_by_text NVARCHAR(255) NOT NULL DEFAULT '',	ipb_reason NVARCHAR(255) NOT NULL,	ipb_timestamp DATETIME NOT NULL DEFAULT GETDATE(),	ipb_auto BIT NOT NULL DEFAULT 0,	ipb_anon_only BIT NOT NULL DEFAULT 0,	ipb_create_account BIT NOT NULL DEFAULT 1,	ipb_enable_autoblock BIT NOT NULL DEFAULT 1,	ipb_expiry DATETIME NOT NULL DEFAULT GETDATE(),	ipb_range_start NVARCHAR(32) NOT NULL DEFAULT '',	ipb_range_end NVARCHAR(32) NOT NULL DEFAULT '',	ipb_deleted BIT NOT NULL DEFAULT 0,	ipb_block_email BIT NOT NULL DEFAULT 0,	ipb_allow_usertalk BIT NOT NULL DEFAULT 0,)
CREATE TABLE `chat_ban_users` ( `cbu_wiki_id` int(10) NOT NULL DEFAULT '0', `cbu_user_id` int(10) NOT NULL DEFAULT '0', `cbu_admin_user_id` int(10) NOT NULL DEFAULT '0', `reason` varbinary(255) DEFAULT NULL, `start_date` varbinary(14) DEFAULT NULL, `end_date` varbinary(14) DEFAULT NULL, UNIQUE KEY `cbu_user_id` (`cbu_wiki_id`,`cbu_user_id`), KEY `wiki_start_date` (`cbu_wiki_id`,`start_date`))
CREATE TABLE `templatelinks` ( `tl_from` int(8) unsigned NOT NULL DEFAULT '0', `tl_namespace` int(11) NOT NULL DEFAULT '0', `tl_title` varchar(255) CHARACTER SET latin1 COLLATE latin1_bin NOT NULL DEFAULT '', UNIQUE KEY `tl_from` (`tl_from`,`tl_namespace`,`tl_title`), UNIQUE KEY `tl_namespace` (`tl_namespace`,`tl_title`,`tl_from`))
CREATE INDEX l10n_cache_lc_lang_key ON l10n_cache (lc_lang, lc_key);
SELECT * FROM /*_*/categorylinks;
CREATE TABLE &mw_prefix.revision ( rev_id NUMBER NOT NULL, rev_page NUMBER NOT NULL, rev_text_id NUMBER NULL, rev_comment VARCHAR2(255), rev_user NUMBER DEFAULT 0 NOT NULL, rev_user_text VARCHAR2(255) NOT NULL, rev_timestamp TIMESTAMP(6) WITH TIME ZONE NOT NULL, rev_minor_edit CHAR(1) DEFAULT '0' NOT NULL, rev_deleted CHAR(1) DEFAULT '0' NOT NULL, rev_len NUMBER NULL, rev_parent_id NUMBER 	 DEFAULT NULL, rev_sha1		 VARCHAR2(32) NULL)
CREATE TABLE &mw_prefix.user_former_groups ( ufg_user NUMBER DEFAULT 0 NOT NULL, ufg_group VARCHAR2(32) NOT NULL)
CREATE TABLE /*$wgDBprefix*/ach_user_badges_notified (	`user_id` int(5) unsigned NOT NULL,	`lastseen` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP,	PRIMARY KEY (`user_id`),	KEY `user_id_lastseen` (`user_id`,`lastseen`))
CREATE TABLE updatelog ( ul_key TEXT NOT NULL PRIMARY KEY)
CREATE TABLE dataware.video_migration_sanitization ( id INT unsigned NOT NULL AUTO_INCREMENT, city_id INT NOT NULL, old_title VARCHAR(255) NOT NULL, sanitized_title VARCHAR(255) NOT NULL, operation_status CHAR(14) NOT NULL default 'UNKNOWN', operation_time CHAR(14) NOT NULL, article_title VARCHAR(255) NOT NULL, primary key (id))
CREATE INDEX afh_timestamp ON /*$wgDBprefix*/abuse_filter_history (afh_timestamp);
CREATE TABLE `oaiuser` ( `ou_id` int(11) NOT NULL AUTO_INCREMENT, `ou_name` varchar(255) DEFAULT NULL, `ou_password_hash` tinyblob, PRIMARY KEY (`ou_id`), UNIQUE KEY `ou_name` (`ou_name`))
CREATE TABLE `ad_slot_o` ( `as_id` smallint(5) unsigned NOT NULL, `city_id` int(10) unsigned NOT NULL, `provider_id` tinyint(3) unsigned DEFAULT NULL, `enabled` enum('Yes','No') DEFAULT NULL, `comment` text, PRIMARY KEY (`as_id`,`city_id`), KEY `city_id` (`city_id`))
CREATE TABLE `rovi_programs_genres` ( `program_id` bigint(20) NOT NULL, `genre` varchar(60) DEFAULT NULL, `genre_sequence` bigint(20) NOT NULL, `delta` char(3) NOT NULL, `genre_id` bigint(20) NOT NULL, PRIMARY KEY (`program_id`,`genre_id`))
CREATE INDEX user_properties_property on user_properties (up_property);
CREATE TABLE log_search ( ls_field TEXT NOT NULL, ls_value TEXT NOT NULL, ls_log_id INTEGER NOT NULL DEFAULT 0)
CREATE TABLE IF NOT EXISTS %s(%s TEXT PRIMARY KEY NOT NULL, %s BLOB, %s INTEGER)
CREATE TABLE profiling ( pf_count INTEGER NOT NULL DEFAULT 0, pf_time NUMERIC(18,10) NOT NULL DEFAULT 0, pf_memory NUMERIC(18,10) NOT NULL DEFAULT 0, pf_name VARCHAR(255) NOT NULL, pf_server VARCHAR(255))
CREATE TABLE profiling ( pf_count INTEGER NOT NULL DEFAULT 0, pf_time NUMERIC(18,10) NOT NULL DEFAULT 0, pf_name NVARCHAR(200) NOT NULL, pf_server NVARCHAR(200) NULL)
CREATE TABLE `upload_log` ( `up_page_id` int(8) unsigned NOT NULL DEFAULT '0', `up_title` varchar(255) NOT NULL, `up_path` varchar(255) NOT NULL, `up_created` char(14) DEFAULT '', `up_sent` char(14) DEFAULT '', `up_flags` int(8) DEFAULT '0', `up_city_id` int(10) NOT NULL DEFAULT '0', `up_imgpath` varchar(255) NOT NULL DEFAULT '', `up_old_path` mediumblob, `up_id` int(11) unsigned NOT NULL AUTO_INCREMENT, `up_action` char(1) DEFAULT 'u', `up_datacenter` char(1) DEFAULT 's', `up_repl_lock` datetime DEFAULT NULL, `up_repl_pid` int(11) DEFAULT NULL, PRIMARY KEY (`up_id`), KEY `up_id` (`up_page_id`), KEY `up_title` (`up_title`), KEY `up_city_id` (`up_city_id`), KEY `up_flags_idx` (`up_flags`), KEY `up_datacenter_idx` (`up_datacenter`), KEY `up_repl_lock_idx` (`up_repl_lock`), KEY `up_repl_pid_idx` (`up_repl_pid`), KEY `up_created` (`up_created`))
CREATE TABLE `blog_listing_relation` ( `blr_relation` varbinary(255) NOT NULL DEFAULT '', `blr_title` varbinary(255) NOT NULL DEFAULT '', `blr_type` enum('cat','user') DEFAULT NULL, UNIQUE KEY `wl_user` (`blr_relation`,`blr_title`,`blr_type`), KEY `type_relation` (`blr_relation`,`blr_type`))
CREATE TABLE `user_flags` ( `city_id` int(9) NOT NULL, `user_id` int(10) NOT NULL, `type` tinyint(3) unsigned NOT NULL DEFAULT '0', `data` varchar(255) NOT NULL, PRIMARY KEY (`city_id`,`user_id`,`type`))
CREATE TABLE `withcity_log` ( `name` varbinary(30) NOT NULL, `city_id` int(10) unsigned NOT NULL, `records` int(6) unsigned NOT NULL, `pos` int(6) unsigned NOT NULL, `start` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP, `end` timestamp NOT NULL DEFAULT '0000-00-00 00:00:00', PRIMARY KEY (`name`,`city_id`), KEY `name` (`name`))
CREATE TABLE `mw_msg_resource_links` ( `mrl_resource` varbinary(255) NOT NULL, `mrl_message` varbinary(255) NOT NULL, UNIQUE KEY `mrl_message_resource` (`mrl_message`,`mrl_resource`))
CREATE INDEX flags_types_wiki_id_idx ON flags_types (wiki_id);
CREATE TABLE `tag_summary` ( `id` int(10) unsigned NOT NULL AUTO_INCREMENT, `ts_rc_id` int(11) DEFAULT NULL, `ts_log_id` int(11) DEFAULT NULL, `ts_rev_id` int(11) DEFAULT NULL, `ts_tags` blob NOT NULL, PRIMARY KEY (`id`), UNIQUE KEY `tag_summary_rc_id` (`ts_rc_id`), UNIQUE KEY `tag_summary_log_id` (`ts_log_id`), UNIQUE KEY `tag_summary_rev_id` (`ts_rev_id`))
CREATE TABLE profiling ( pf_count INTEGER NOT NULL DEFAULT 0, pf_time NUMERIC(18,10) NOT NULL DEFAULT 0, pf_name TEXT NOT NULL, pf_server TEXT NULL)
CREATE TABLE `mw_pagelinks` ( `pl_from` int(10) unsigned NOT NULL DEFAULT '0', `pl_namespace` int(11) NOT NULL DEFAULT '0', `pl_title` varchar(255) CHARACTER SET latin1 COLLATE latin1_bin NOT NULL DEFAULT '', UNIQUE KEY `pl_from` (`pl_from`,`pl_namespace`,`pl_title`), UNIQUE KEY `pl_namespace` (`pl_namespace`,`pl_title`,`pl_from`))
CREATE TABLE `city_list_log` ( `id` int(11) NOT NULL AUTO_INCREMENT, `cl_city_id` int(9) NOT NULL, `cl_timestamp` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP, `cl_user_id` int(5) unsigned DEFAULT NULL, `cl_type` int(5) NOT NULL, `cl_text` mediumtext NOT NULL, `cl_var_id` int(5) unsigned DEFAULT NULL, PRIMARY KEY (`id`), KEY `cl_city_id_idx` (`cl_city_id`), KEY `cl_type_idx` (`cl_type`), KEY `cl_timestamp_idx` (`cl_timestamp`), KEY `var_city` (`cl_var_id`,`cl_city_id`), CONSTRAINT `city_list_log_ibfk_1` FOREIGN KEY (`cl_city_id`) REFERENCES `city_list` (`city_id`) ON DELETE CASCADE ON UPDATE CASCADE)
CREATE TABLE `global_registry` ( `item_id` int(10) NOT NULL, `item_type` int(10) NOT NULL, `item_value` blob NOT NULL, `item_updated` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP, PRIMARY KEY (`item_id`,`item_type`))
CREATE TABLE /*$wgDBprefix*/ach_user_score (	`user_id` int(5) unsigned NOT NULL,	`score` int(10) unsigned NOT NULL,	UNIQUE KEY `user_id` (`user_id`))
CREATE TABLE module_deps ( md_module TEXT NOT NULL, md_skin TEXT NOT NULL, md_deps TEXT NOT NULL)
CREATE TABLE page_restrictions ( pr_page INTEGER NULL REFERENCES page (page_id) ON DELETE CASCADE, pr_type TEXT NOT NULL, pr_level TEXT NOT NULL, pr_cascade SMALLINT NOT NULL, pr_user INTEGER NULL, pr_expiry TIMESTAMPTZ NULL)
CREATE TABLE protected_titles ( pt_namespace SMALLINT NOT NULL, pt_title TEXT NOT NULL, pt_user INTEGER NULL REFERENCES mwuser(user_id) ON DELETE SET NULL DEFERRABLE INITIALLY DEFERRED, pt_reason TEXT NULL, pt_timestamp TIMESTAMPTZ NOT NULL, pt_expiry TIMESTAMPTZ NULL, pt_create_perm TEXT NOT NULL DEFAULT '')
CREATE TABLE hidden ( hidden_page INTEGER NOT NULL DEFAULT 0, hidden_namespace INTEGER NOT NULL DEFAULT 0, hidden_title TEXT NOT NULL DEFAULT '', hidden_comment TEXT NOT NULL, hidden_user INTEGER NOT NULL DEFAULT 0, hidden_user_text TEXT NOT NULL, hidden_timestamp TIMESTAMPTZ NOT NULL DEFAULT NOW(), hidden_minor_edit SMALLINT NOT NULL DEFAULT 0, hidden_deleted SMALLINT NOT NULL DEFAULT 0, hidden_rev_id INTEGER, hidden_text_id INTEGER, hidden_by_user INTEGER, hidden_on_timestamp TIMESTAMPTZ, hidden_reason TEXT)
select count(*) from user_fbconnect where user_fb_app_id != 0 and user_fb_biz_token = '';
CREATE TABLE /*$wgDBprefix*/querycache_info ( qci_type NVARCHAR(32) NOT NULL DEFAULT '' PRIMARY KEY, qci_timestamp NVARCHAR(14) NOT NULL DEFAULT '19700101000000',)
CREATE INDEX afl_filter_timestamp ON /*$wgDBprefix*/abuse_filter_log (afl_filter,afl_timestamp);
CREATE TABLE `user_history` ( `id` int(11) NOT NULL AUTO_INCREMENT, `user_id` int(5) unsigned NOT NULL, `user_name` varchar(255) CHARACTER SET latin1 COLLATE latin1_bin NOT NULL DEFAULT '', `user_real_name` varchar(255) CHARACTER SET latin1 COLLATE latin1_bin NOT NULL DEFAULT '', `user_password` tinyblob NOT NULL, `user_newpassword` tinyblob NOT NULL, `user_email` tinytext NOT NULL, `user_options` blob NOT NULL, `user_touched` varchar(14) CHARACTER SET latin1 COLLATE latin1_bin NOT NULL DEFAULT '', `user_token` varchar(32) CHARACTER SET latin1 COLLATE latin1_bin NOT NULL DEFAULT '', `uh_timestamp` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP, PRIMARY KEY (`id`))
CREATE TABLE `city_verticals` ( `vertical_id` int(9) NOT NULL auto_increment, `vertical_name` varchar(255) default NULL, `vertical_url` text, `vertical_short` varchar(255) DEFAULT NULL, PRIMARY KEY (`vertical_id`), KEY `vertical_name_idx` (`vertical_name`))
CREATE TABLE `cache_data` (	`id` TEXT CHARACTER SET utf8 NOT NULL,	`items` SMALLINT NOT NULL DEFAULT 0,	`data` BLOB NOT NULL,	`mtime` INT UNSIGNED NOT NULL,	UNIQUE (		`id`(125)	))
CREATE TABLE `querycache` ( `qc_type` char(32) NOT NULL DEFAULT '', `qc_value` int(5) unsigned NOT NULL DEFAULT '0', `qc_namespace` int(11) NOT NULL, `qc_title` char(255) CHARACTER SET latin1 COLLATE latin1_bin NOT NULL DEFAULT '', KEY `qc_type` (`qc_type`,`qc_value`))
CREATE TABLE filearchive ( fa_id INTEGER NOT NULL PRIMARY KEY DEFAULT nextval('filearchive_fa_id_seq'), fa_name TEXT NOT NULL, fa_archive_name TEXT, fa_storage_group TEXT, fa_storage_key TEXT, fa_deleted_user INTEGER NULL REFERENCES mwuser(user_id) ON DELETE SET NULL DEFERRABLE INITIALLY DEFERRED, fa_deleted_timestamp TIMESTAMPTZ NOT NULL, fa_deleted_reason TEXT, fa_size INTEGER NOT NULL, fa_width INTEGER NOT NULL, fa_height INTEGER NOT NULL, fa_metadata BYTEA NOT NULL DEFAULT '', fa_bits SMALLINT, fa_media_type TEXT, fa_major_mime TEXT DEFAULT 'unknown', fa_minor_mime TEXT DEFAULT 'unknown', fa_description TEXT NOT NULL, fa_user INTEGER NULL REFERENCES mwuser(user_id) ON DELETE SET NULL DEFERRABLE INITIALLY DEFERRED, fa_user_text TEXT NOT NULL, fa_timestamp TIMESTAMPTZ, fa_deleted SMALLINT NOT NULL DEFAULT 0)
CREATE TABLE /*$wgDBprefix*/transcache ( tc_url NVARCHAR(255) NOT NULL PRIMARY KEY, tc_contents NVARCHAR(MAX), tc_time INT NOT NULL,)
CREATE INDEX cl_collation ON /*_*/categorylinks (cl_collation);
SELECT page_title FROM wiki_page WHERE page_title LIKE '%:%:%'
CREATE INDEX querycachetwo_type_value ON querycachetwo (qcc_type, qcc_value);
SELECT ci_page FROM {$table_categoryintersections} WHERE ci_hash = \"{$hash}\
CREATE TABLE /*$wgDBprefix*/spam_regex (	spam_id int(5) NOT NULL AUTO_INCREMENT,	spam_text varchar(255) NOT NULL,	spam_timestamp char(14) NOT NULL,	spam_user varchar(255) NOT NULL,	spam_textbox int(1) NOT NULL DEFAULT 1,	spam_summary int(1) NOT NULL DEFAULT 0,	PRIMARY KEY( spam_id ),	UNIQUE KEY spam_text( spam_text ),	KEY spam_timestamp ( spam_timestamp ),	KEY spam_user ( spam_user ))
CREATE TABLE /*_*/page_tmp ( page_id int unsigned NOT NULL PRIMARY KEY AUTO_INCREMENT, page_namespace int NOT NULL, page_title varchar(255) binary NOT NULL, page_restrictions tinyblob NOT NULL, page_counter bigint unsigned NOT NULL default 0, page_is_redirect tinyint unsigned NOT NULL default 0, page_is_new tinyint unsigned NOT NULL default 0, page_random real unsigned NOT NULL, page_touched binary(14) NOT NULL default '', page_latest int unsigned NOT NULL, page_len int unsigned NOT NULL)
CREATE TABLE /*$wgDBprefix*/searchindex ( si_page INT NOT NULL unique REFERENCES /*$wgDBprefix*/page(page_id) ON DELETE CASCADE, si_title varbinary(max) NOT NULL, si_text varbinary(max) NOT NULL, si_ext CHAR(4) NOT NULL DEFAULT '.txt',)
CREATE TABLE globalimagelinks (	gil_wiki TEXT NOT NULL,	gil_page INTEGER NOT NULL,	gil_page_namespace_id INTEGER NOT NULL,	gil_page_namespace TEXT NOT NULL,	gil_page_title TEXT NOT NULL,	gil_to TEXT NOT NULL,	PRIMARY KEY (gil_to, gil_wiki, gil_page))
CREATE TABLE /*$wgDBprefix*/logging ( log_id INT PRIMARY KEY IDENTITY, log_type NCHAR(10) NOT NULL DEFAULT '', log_action NCHAR(10) NOT NULL DEFAULT '', log_timestamp DATETIME NOT NULL DEFAULT GETDATE(), log_user INT NOT NULL DEFAULT 0, log_user_text NVARCHAR(255) NOT NULL DEFAULT '', log_namespace INT NOT NULL DEFAULT 0, log_title NVARCHAR(255) NOT NULL DEFAULT '', log_page INT NULL DEFAULT NULL, log_comment NVARCHAR(255) NOT NULL DEFAULT '', log_params NVARCHAR(MAX) NOT NULL, log_deleted BIT NOT NULL DEFAULT 0,)
CREATE TABLE &mw_prefix.objectcache ( keyname VARCHAR2(255) , value BLOB, exptime TIMESTAMP(6) WITH TIME ZONE NOT NULL)
SELECT * FROM /*_*/page;
CREATE TABLE `mw_hitcounter` ( `hc_id` int(10) unsigned NOT NULL)
CREATE TABLE &mw_prefix.watchlist ( wl_user NUMBER NOT NULL, wl_namespace NUMBER DEFAULT 0 NOT NULL, wl_title VARCHAR2(255) NOT NULL, wl_notificationtimestamp TIMESTAMP(6) WITH TIME ZONE)
CREATE TABLE `category` ( `cat_id` int(10) unsigned NOT NULL AUTO_INCREMENT, `cat_title` varchar(255) CHARACTER SET latin1 COLLATE latin1_bin NOT NULL, `cat_pages` int(11) NOT NULL DEFAULT '0', `cat_subcats` int(11) NOT NULL DEFAULT '0', `cat_files` int(11) NOT NULL DEFAULT '0', `cat_hidden` tinyint(1) unsigned NOT NULL DEFAULT '0', PRIMARY KEY (`cat_id`), UNIQUE KEY `cat_title` (`cat_title`), KEY `cat_pages` (`cat_pages`))
CREATE TABLE iwlinks( iwl_from INTEGER NOT NULL, iwl_prefix VARCHAR(20) FOR BIT DATA NOT NULL, iwl_title VARCHAR(255) FOR BIT DATA NOT NULL)
CREATE TABLE `user_former_groups` ( `ufg_user` int(10) unsigned NOT NULL DEFAULT '0', `ufg_group` varbinary(32) NOT NULL DEFAULT '', UNIQUE KEY `ufg_user_group` (`ufg_user`,`ufg_group`))
SELECT * from city_variables_pool where cv_id in (select cv_variable_id from city_variables where cv_city_id = $city_id)
CREATE TABLE `city_verticals` ( `vertical_id` int(9) NOT NULL, `vertical_name` varchar(255) default NULL, `vertical_url` text, `vertical_short` varchar(255) DEFAULT NULL, PRIMARY KEY (`vertical_id`), KEY `vertical_name_idx` (`vertical_name`))
select count(*) from pagelinks join page on (pl_title = page_title and pl_namespace = page_namespace) where page_id=50;
CREATE TABLE `city_tag` ( `id` int(8) unsigned NOT NULL auto_increment, `name` varchar(255) default NULL, PRIMARY KEY (`id`), UNIQUE KEY `city_tag_name_uniq` (`name`))
CREATE TABLE `image_sync` (	 `id` int(8) unsigned NOT NULL AUTO_INCREMENT,	 `city_id` int(8) unsigned NOT NULL,	 `img_action` varchar(32) NOT NULL,	 `img_src` blob,	 `img_dest` blob,	 `img_added` datetime DEFAULT NULL,	 `img_sync` datetime DEFAULT NULL,	 PRIMARY KEY (`id`),	 KEY `city_id` (`city_id`,`img_added`))
SELECT cur_id,cur_ind_title,cur_ind_text FROM /*$wgDBprefix*/cur;
CREATE TABLE `user_temp` ( `user_id` int(5) unsigned NOT NULL DEFAULT 0, `user_wiki_id` int(11) NOT NULL DEFAULT 0, `user_name` varchar(255) CHARACTER SET latin1 COLLATE latin1_bin NOT NULL DEFAULT '', `user_password` tinyblob NOT NULL, `user_email` tinytext NOT NULL, `user_registration` varchar(16) DEFAULT NULL, `user_birthdate` date DEFAULT NULL, `user_source` varchar(255) DEFAULT NULL, PRIMARY KEY (`user_id`, `user_wiki_id`), UNIQUE KEY `user_name` (`user_name`), KEY `user_email` (`user_email`(40)), KEY `user_registration` (`user_registration`))
CREATE TABLE abuse_filter ( af_id INTEGER NOT NULL PRIMARY KEY DEFAULT nextval('abuse_filter_af_id_seq'), af_pattern TEXT NOT NULL, af_user INTEGER NOT NULL, af_user_text TEXT NOT NULL, af_timestamp TIMESTAMPTZ NOT NULL, af_enabled SMALLINT NOT NULL DEFAULT 1, af_comments TEXT, af_public_comments TEXT, af_hidden SMALLINT NOT NULL DEFAULT 0, af_hit_count INTEGER NOT NULL DEFAULT 0, af_throttled SMALLINT NOT NULL DEFAULT 0, af_deleted SMALLINT NOT NULL DEFAULT 0, af_actions TEXT NOT NULL DEFAULT '', af_global SMALLINT NOT NULL DEFAULT 0)
CREATE TABLE /*$wgDBprefix*/tag_summary ( ts_rc_id INT NOT NULL default 0, ts_log_id INT NOT NULL default 0, ts_rev_id INT NOT NULL default 0, ts_tags varchar(255) NOT NULL)
CREATE TABLE `mw_user` ( `user_id` int(10) unsigned NOT NULL AUTO_INCREMENT, `user_name` varchar(255) CHARACTER SET latin1 COLLATE latin1_bin NOT NULL DEFAULT '', `user_real_name` varchar(255) CHARACTER SET latin1 COLLATE latin1_bin NOT NULL DEFAULT '', `user_password` tinyblob NOT NULL, `user_newpassword` tinyblob NOT NULL, `user_newpass_time` binary(14) DEFAULT NULL, `user_email` tinytext NOT NULL, `user_touched` binary(14) NOT NULL DEFAULT '\0\0\0\0\0\0\0\0\0\0\0\0\0\0', `user_token` binary(32) NOT NULL DEFAULT '\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0', `user_email_authenticated` binary(14) DEFAULT NULL, `user_email_token` binary(32) DEFAULT NULL, `user_email_token_expires` binary(14) DEFAULT NULL, `user_registration` binary(14) DEFAULT NULL, `user_editcount` int(11) DEFAULT NULL, PRIMARY KEY (`user_id`), UNIQUE KEY `user_name` (`user_name`), KEY `user_email_token` (`user_email_token`))
CREATE TABLE `dead_wiki_stats` ( `id` int(11) NOT NULL DEFAULT '0', `name` varchar(255) DEFAULT NULL, `created` varchar(15) DEFAULT NULL, `last_edited` varchar(15) DEFAULT NULL, `edits` int(11) DEFAULT NULL, `content_pages` int(11) DEFAULT NULL, `pv_last_month` int(11) DEFAULT NULL, `status` varchar(32) DEFAULT NULL, PRIMARY KEY (`id`))
CREATE INDEX titlekey_name_key ON titlekey(tk_namespace, tk_key);
CREATE TABLE cu_changes ( cuc_id INTEGER NOT NULL DEFAULT nextval('cu_changes_cu_id_seq'), cuc_namespace SMALLINT NOT NULL DEFAULT 0, cuc_title TEXT NOT NULL DEFAULT '', cuc_user INTEGER NULL REFERENCES mwuser(user_id) ON DELETE SET NULL, cuc_user_text TEXT NOT NULL, cuc_actiontext TEXT NOT NULL DEFAULT '', cuc_comment TEXT NOT NULL DEFAULT '', cuc_minor CHAR NOT NULL DEFAULT 0, cuc_page_id INTEGER NULL REFERENCES page(page_id) ON DELETE SET NULL, cuc_this_oldid INTEGER NOT NULL DEFAULT 0, cuc_last_oldid INTEGER NOT NULL DEFAULT 0, cuc_type SMALLINT NOT NULL DEFAULT 0, cuc_timestamp TIMESTAMPTZ, cuc_ip CIDR, cuc_ip_hex TEXT, cuc_xff TEXT, cuc_xff_hex TEXT, cuc_agent TEXT)
CREATE TABLE `rovi_series` ( `series_id` int(10) unsigned NOT NULL, `full_title` varbinary(512) NOT NULL, `synopsis` varbinary(2048) DEFAULT NULL, PRIMARY KEY (`series_id`))
SELECT response FROM " . $this->cache_table . " WHERE request = '" . $reqhash . "' AND CURRENT_TIMESTAMP < expiration
CREATE TABLE `city_variables_groups` ( `cv_group_id` int(11) NOT NULL auto_increment, `cv_group_name` varchar(255) NOT NULL default '', PRIMARY KEY (`cv_group_id`))
CREATE TABLE `link` ( `link_id` int(11) NOT NULL AUTO_INCREMENT, `link_name` varchar(255) NOT NULL, `link_description` text NOT NULL, `link_page_id` int(11) NOT NULL DEFAULT '0', `link_url` text, `link_type` int(5) NOT NULL DEFAULT '0', `link_status` int(5) NOT NULL DEFAULT '0', `link_submitter_user_id` int(11) NOT NULL DEFAULT '0', `link_submitter_user_name` varchar(255) NOT NULL, `link_submit_date` datetime DEFAULT NULL, `link_approved_date` datetime DEFAULT NULL, PRIMARY KEY (`link_id`), KEY `link_approved_date` (`link_approved_date`))
CREATE TABLE external_user ( eu_local_id INTEGER NOT NULL PRIMARY KEY, eu_external_id TEXT)
select user_id from user HAVING(select count(*) from widgets WHERE wt_user=user_id) < 5 limit 25;
CREATE TABLE `abuse_filter_history` ( `afh_id` bigint(20) unsigned NOT NULL AUTO_INCREMENT, `afh_filter` bigint(20) unsigned NOT NULL, `afh_user` bigint(20) unsigned NOT NULL, `afh_user_text` varchar(255) CHARACTER SET latin1 COLLATE latin1_bin NOT NULL, `afh_timestamp` binary(14) NOT NULL, `afh_pattern` blob NOT NULL, `afh_comments` blob NOT NULL, `afh_flags` tinyblob NOT NULL, `afh_public_comments` tinyblob, `afh_actions` blob, `afh_deleted` tinyint(1) NOT NULL DEFAULT '0', `afh_changed_fields` varchar(255) NOT NULL DEFAULT '', PRIMARY KEY (`afh_id`), KEY `afh_filter` (`afh_filter`), KEY `afh_user` (`afh_user`), KEY `afh_user_text` (`afh_user_text`), KEY `afh_timestamp` (`afh_timestamp`))
CREATE INDEX cl_sortkey ON categorylinks ( cl_to, cl_type, cl_sortkey, cl_from );
SELECT rev_id, rev_timestamp FROM $revisionTable 
CREATE TABLE /*$wgDBprefix*/templatelinks ( tl_from INT NOT NULL DEFAULT 0 REFERENCES /*$wgDBprefix*/page(page_id) ON DELETE CASCADE, tl_namespace SMALLINT NOT NULL DEFAULT 0, tl_title NVARCHAR(255) NOT NULL DEFAULT '',)
CREATE TABLE `cu_log` ( `cul_id` int(10) unsigned NOT NULL AUTO_INCREMENT, `cul_timestamp` binary(14) NOT NULL, `cul_user` int(10) unsigned NOT NULL, `cul_user_text` varchar(255) CHARACTER SET latin1 COLLATE latin1_bin NOT NULL, `cul_reason` varchar(255) CHARACTER SET latin1 COLLATE latin1_bin NOT NULL, `cul_type` varbinary(30) NOT NULL, `cul_target_id` int(10) unsigned NOT NULL DEFAULT '0', `cul_target_text` blob NOT NULL, `cul_target_hex` varbinary(255) NOT NULL DEFAULT '', `cul_range_start` varbinary(255) NOT NULL DEFAULT '', `cul_range_end` varbinary(255) NOT NULL DEFAULT '', PRIMARY KEY (`cul_id`), KEY `cul_timestamp` (`cul_timestamp`), KEY `cul_user` (`cul_user`,`cul_timestamp`), KEY `cul_type_target` (`cul_type`,`cul_target_id`,`cul_timestamp`), KEY `cul_target_hex` (`cul_target_hex`,`cul_timestamp`), KEY `cul_range_start` (`cul_range_start`,`cul_timestamp`))
CREATE TABLE `ab_experiment_group_ranges` ( `group_id` int(11) NOT NULL, `version_id` int(11) NOT NULL, `ranges` varchar(255) DEFAULT NULL, `styles` blob, `scripts` blob, PRIMARY KEY (`version_id`,`group_id`), KEY `group_id` (`group_id`), KEY `version_id` (`version_id`), CONSTRAINT `fk_range_group` FOREIGN KEY (`group_id`) REFERENCES `ab_experiment_groups` (`id`) ON DELETE CASCADE ON UPDATE CASCADE, CONSTRAINT `fk_range_version` FOREIGN KEY (`version_id`) REFERENCES `ab_experiment_versions` (`id`) ON DELETE CASCADE ON UPDATE CASCADE)
SELECT cl_from FROM categorylinks USE INDEX (cl_from), page_visited USE INDEX (page_visited_cnt_inx) WHERE article_id = cl_from AND cl_to = " . $dbr->addQuotes( $name ) . " ORDER BY COUNT DESC LIMIT $limit
INSERT INTO phalanx VALUES (NULL, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)
CREATE TABLE `info_schema_map` ( `info_key` tinytext, `template` tinytext, `type` tinytext)
CREATE TABLE querycache ( qc_type TEXT NOT NULL, qc_value INTEGER NOT NULL, qc_namespace SMALLINT NOT NULL, qc_title TEXT NOT NULL)
CREATE TABLE IF NOT EXISTS `ach_user_badges` (	`user_id` int(5) unsigned NOT NULL,	`badge_type_id` int(10) signed NOT NULL,	`badge_lap` int(11) DEFAULT NULL,	`badge_level` tinyint(3) unsigned NOT NULL,	`date` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP,	`notified` tinyint(1) NOT NULL DEFAULT '0',	KEY `id` (`user_id`),	KEY `badge_count` (`badge_type_id`,`badge_lap`),	KEY `level_date2` (`badge_level`,`date`,`badge_lap`),	KEY `user_badge` (`user_id`,`badge_type_id`,`badge_lap`),	KEY `user_date_lap` (`user_id`,`date`,`badge_lap`),	KEY `notified_id` (`user_id`,`notified`))
CREATE TABLE `city_lang` ( `lang_id` int(8) NOT NULL auto_increment, `lang_code` char(8) NOT NULL, `lang_name` varchar(255) NOT NULL, PRIMARY KEY (`lang_id`), KEY `lang_code_idx` (`lang_code`))
SELECT rc_cur_id,rc_this_oldid,rc_timestamp FROM $recentchanges 
CREATE TABLE &mw_prefix.iwlinks ( iwl_from NUMBER DEFAULT 0 NOT NULL, iwl_prefix VARCHAR2(20) DEFAULT '' NOT NULL, iwl_title VARCHAR2(255) DEFAULT '' NOT NULL)
CREATE table city_image_migrate (	city_id int UNSIGNED NOT NULL PRIMARY KEY,	lock tinyint(1) UNSIGNED DEFAULT NULL,	migration_date timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP)
CREATE TABLE msg_resource_links ( mrl_resource TEXT NOT NULL, mrl_message TEXT NOT NULL)
CREATE TABLE `page_restrictions` ( `pr_page` int(8) NOT NULL, `pr_type` varchar(255) NOT NULL, `pr_level` varchar(255) NOT NULL, `pr_cascade` tinyint(4) NOT NULL, `pr_user` int(8) DEFAULT NULL, `pr_expiry` char(14) CHARACTER SET latin1 COLLATE latin1_bin DEFAULT NULL, `pr_id` int(10) unsigned NOT NULL AUTO_INCREMENT, PRIMARY KEY (`pr_page`,`pr_type`), UNIQUE KEY `pr_id` (`pr_id`), KEY `pr_page` (`pr_page`), KEY `pr_typelevel` (`pr_type`,`pr_level`), KEY `pr_level` (`pr_level`), KEY `pr_cascade` (`pr_cascade`))
SELECT * from city_list where city_id = $city_id
CREATE TABLE &mw_prefix.archive ( ar_namespace NUMBER DEFAULT 0 NOT NULL, ar_title VARCHAR2(255) NOT NULL, ar_text CLOB, ar_comment VARCHAR2(255), ar_user NUMBER DEFAULT 0 NOT NULL, ar_user_text VARCHAR2(255) NOT NULL, ar_timestamp TIMESTAMP(6) WITH TIME ZONE NOT NULL, ar_minor_edit CHAR(1) DEFAULT '0' NOT NULL, ar_flags VARCHAR2(255), ar_rev_id NUMBER, ar_text_id NUMBER, ar_deleted CHAR(1) DEFAULT '0' NOT NULL, ar_len NUMBER, ar_page_id NUMBER, ar_parent_id NUMBER, ar_sha1		 VARCHAR2(32) NULL)
CREATE TABLE l10n_cache ( lc_lang TEXT NOT NULL, lc_key TEXT NOT NULL, lc_value TEXT NOT NULL)
CREATE TABLE map (keyName VARCHAR(255), value VARCHAR(255), PRIMARY KEY(keyName))
create table			if ($mode == 1)
CREATE TABLE /*$wgDBprefix*/page ( page_id int unsigned NOT NULL auto_increment, page_namespace tinyint NOT NULL, page_title varchar(255) binary NOT NULL, page_restrictions tinyblob NOT NULL, page_counter bigint unsigned NOT NULL default '0', page_is_redirect tinyint unsigned NOT NULL default '0', page_is_new tinyint unsigned NOT NULL default '0', page_random real unsigned NOT NULL, page_touched binary(14) NOT NULL default '', page_latest int unsigned NOT NULL, page_len int unsigned NOT NULL, PRIMARY KEY page_id (page_id), UNIQUE INDEX name_title (page_namespace,page_title), INDEX (page_random), INDEX (page_len))
select comment_id from wall_related_pages where page_id = {$this->mRelatedPageId})";
SELECT page_latest FROM $tbl_pag{$pageIdClause}
CREATE INDEX user_properties_property ON user_properties (up_property);
INSERT INTO page VALUES (0,-1,'Dummy Page','',0,0,0,default,now(),0,10)
CREATE TABLE `t_city_cats` ( `cat_id` int(9) NOT NULL AUTO_INCREMENT, `cat_name` varchar(255) DEFAULT NULL, `cat_url` text, PRIMARY KEY (`cat_id`), KEY `cat_name_idx` (`cat_name`))
CREATE TABLE $1 ( ipb_id int(8) NOT NULL auto_increment, ipb_address varchar(40) binary NOT NULL default '', ipb_user int(8) unsigned NOT NULL default '0', ipb_by int(8) unsigned NOT NULL default '0', ipb_reason tinyblob NOT NULL default '', ipb_timestamp char(14) binary NOT NULL default '', ipb_auto tinyint(1) NOT NULL default '0', ipb_expiry char(14) binary NOT NULL default '', PRIMARY KEY ipb_id (ipb_id), INDEX ipb_address (ipb_address), INDEX ipb_user (ipb_user))
CREATE INDEX flags_on_pages_flag_type_id_idx ON flags_params (flag_type_id);
CREATE TABLE `oaiaudit` ( `oa_client` int(11) DEFAULT NULL, `oa_timestamp` varchar(14) DEFAULT NULL, `oa_dbname` varchar(32) DEFAULT NULL, `oa_response_size` int(11) DEFAULT NULL, `oa_ip` varchar(32) DEFAULT NULL, `oa_agent` text, `oa_request` text, KEY `oa_client` (`oa_client`,`oa_timestamp`), KEY `oa_timestamp` (`oa_timestamp`,`oa_client`))
CREATE TABLE &mw_prefix.page_props ( pp_page NUMBER NOT NULL, pp_propname VARCHAR2(60) NOT NULL, pp_value BLOB NOT NULL)
CREATE TABLE `shared_user_groups` ( `sug_user` int(5) unsigned NOT NULL DEFAULT '0', `sug_group` char(16) NOT NULL DEFAULT '', PRIMARY KEY (`sug_user`,`sug_group`), KEY `sug_group` (`sug_group`))
CREATE TABLE &mw_prefix.imagelinks ( il_from NUMBER NOT NULL, il_to VARCHAR2(255) NOT NULL)
CREATE TABLE $1 ( user_id int(5) unsigned NOT NULL auto_increment, user_name varchar(255) binary NOT NULL default '', user_real_name varchar(255) binary NOT NULL default '', user_password tinyblob NOT NULL default '', user_newpassword tinyblob NOT NULL default '', user_email tinytext NOT NULL default '', user_options blob NOT NULL default '', user_touched char(14) binary NOT NULL default '', user_token char(32) binary NOT NULL default '', user_email_authenticated CHAR(14) BINARY, user_email_token CHAR(32) BINARY, user_email_token_expires CHAR(14) BINARY, PRIMARY KEY user_id (user_id), UNIQUE INDEX user_name (user_name), INDEX (user_email_token))
create table /*$wgDBprefix*/testitem ( ti_run int not null, ti_name varchar(255), ti_success bool, unique key (ti_run, ti_name), key (ti_run, ti_success), foreign key (ti_run) references /*$wgDBprefix*/testrun(tr_id) on delete cascade)
CREATE TABLE &mw_prefix.pagelinks ( pl_from NUMBER NOT NULL, pl_namespace NUMBER DEFAULT 0 NOT NULL, pl_title VARCHAR2(255) NOT NULL)
CREATE TABLE /*$wgDBprefix*/linkscc ( lcc_pageid INT UNSIGNED NOT NULL UNIQUE KEY, lcc_cacheobj MEDIUMBLOB NOT NULL)
CREATE INDEX new_name_timestamp ON recentchanges (rc_new, rc_namespace, rc_timestamp);
CREATE INDEX user_newtalk_id_idx ON user_newtalk (user_id);
SELECT name FROM sqlite_master WHERE type='table'
SELECT page_title FROM page WHERE page_title LIKE '{$dbKey}%' AND page_namespace = 66 LIMIT 1
CREATE TABLE &mw_prefix.math ( math_inputhash VARCHAR2(32) NOT NULL, math_outputhash VARCHAR2(32) NOT NULL, math_html_conservativeness NUMBER NOT NULL, math_html CLOB, math_mathml CLOB)
SELECT page_title, page_namespace FROM page WHERE page_namespace IN (".implode(',', $namespaces).")ORDER by page_id DESC LIMIT 5
CREATE TABLE &mw_prefix.config ( cf_name VARCHAR2(255) NOT NULL, cf_value blob NOT NULL)
CREATE TABLE transcache ( tc_url TEXT NOT NULL UNIQUE, tc_contents TEXT NOT NULL, tc_time TIMESTAMPTZ NOT NULL)
CREATE INDEX change_tag_tag_id ON change_tag(ct_tag,ct_rc_id,ct_rev_id,ct_log_id);
CREATE TABLE site_stats ( ss_row_id BIGINT	 NOT NULL UNIQUE, ss_total_views BIGINT DEFAULT 0, ss_total_edits BIGINT DEFAULT 0, ss_good_articles BIGINT DEFAULT 0, ss_total_pages INTEGER DEFAULT -1, ss_users INTEGER DEFAULT -1, ss_active_users INTEGER DEFAULT -1, ss_admins INTEGER DEFAULT -1, ss_images INTEGER DEFAULT 0)
SELECT img_name FROM image WHERE img_major_mime = "image" AND img_minor_mime = "svg";
select log_user from logging where log_user not in ( select user_id from `wikicities_{$wgDBcluster}`.`user` )
CREATE TABLE tag_summary ( ts_rc_id INTEGER NULL, ts_log_id INTEGER NULL, ts_rev_id INTEGER NULL, ts_tags TEXT NOT NULL)
CREATE TABLE msg_resource_links (	mrl_resource TEXT NOT NULL,	mrl_message TEXT NOT NULL)
CREATE TABLE $revision (			rev_id int(8) unsigned NOT NULL auto_increment,			rev_page int(8) unsigned NOT NULL,			rev_text_id int(8) unsigned NOT NULL,			rev_comment tinyblob NOT NULL default '',			rev_user int(5) unsigned NOT NULL default '0',			rev_user_text varchar(255) binary NOT NULL default '',			rev_timestamp char(14) binary NOT NULL default '',			rev_minor_edit tinyint(1) unsigned NOT NULL default '0',			rev_deleted tinyint(1) unsigned NOT NULL default '0',			PRIMARY KEY rev_page_id (rev_page, rev_id),			UNIQUE INDEX rev_id (rev_id),			INDEX rev_timestamp (rev_timestamp),			INDEX page_timestamp (rev_page,rev_timestamp),			INDEX user_timestamp (rev_user,rev_timestamp),			INDEX usertext_timestamp (rev_user_text,rev_timestamp)			)
CREATE TABLE `wall_notification_queue` ( `wiki_id` int(10) unsigned NOT NULL, `entity_key` varbinary(30) NOT NULL, `page_id` int(10) unsigned NOT NULL DEFAULT '0', `event_date` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP, PRIMARY KEY (`wiki_id`,`page_id`), KEY `event_date` (`event_date`))
CREATE TABLE /*_*/user_tmp ( user_id int unsigned NOT NULL PRIMARY KEY AUTO_INCREMENT, user_name varchar(255) binary NOT NULL default '', user_real_name varchar(255) binary NOT NULL default '', user_password tinyblob NOT NULL, user_newpassword tinyblob NOT NULL, user_newpass_time binary(14), user_email tinytext NOT NULL, user_touched binary(14) NOT NULL default '', user_token binary(32) NOT NULL default '', user_email_authenticated binary(14), user_email_token binary(32), user_email_token_expires binary(14), user_registration binary(14), user_editcount int)
CREATE TABLE iwlinks (	iwl_from INTEGER NOT NULL DEFAULT 0,	iwl_prefix TEXT NOT NULL DEFAULT '',	iwl_title TEXT NOT NULL DEFAULT '')
CREATE TABLE `city_variables_groups` ( `cv_group_id` int(11) NOT NULL AUTO_INCREMENT, `cv_group_name` varchar(255) NOT NULL DEFAULT '', PRIMARY KEY (`cv_group_id`))
CREATE TABLE `dmca_request` ( `dmca_id` int(10) unsigned NOT NULL AUTO_INCREMENT, `dmca_date` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP, `dmca_requestor_type` tinyint(3) unsigned NOT NULL, `dmca_fullname` varchar(255) NOT NULL, `dmca_email` varchar(255) NOT NULL, `dmca_address` varchar(1000) NOT NULL, `dmca_telephone` varchar(20) NOT NULL DEFAULT '', `dmca_original_urls` text NOT NULL, `dmca_infringing_urls` text NOT NULL, `dmca_comments` text NOT NULL, `dmca_signature` varchar(255) NOT NULL, `dmca_action_taken` varchar(7) DEFAULT NULL, `dmca_ce_id` int(10) unsigned DEFAULT NULL, PRIMARY KEY (`dmca_id`), KEY `dmca_date` (`dmca_date`), KEY `dmca_email` (`dmca_email`))
CREATE TABLE module_deps (	md_module 	TEXT NOT NULL,	md_skin		TEXT NOT NULL,	md_deps		TEXT NOT NULL)
CREATE TABLE `wikia_homepage_collections_city_visualization` ( `collection_id` int(10) unsigned NOT NULL, `city_id` int(10) unsigned NOT NULL, PRIMARY KEY (`city_id`,`collection_id`), KEY `fk_wikia_homepage_collections` (`collection_id`), CONSTRAINT `fk_wikia_homepage_collections` FOREIGN KEY (`collection_id`) REFERENCES `wikia_homepage_collections` (`id`) ON DELETE CASCADE)
CREATE TABLE `global_watchlist` ( `gwa_user_id` int(11) DEFAULT NULL, `gwa_city_id` int(11) DEFAULT NULL, `gwa_namespace` int(11) DEFAULT NULL, `gwa_title` varchar(255) DEFAULT NULL, `gwa_rev_id` int(11) DEFAULT NULL, `gwa_timestamp` varchar(14) DEFAULT NULL, `gwa_rev_timestamp` varchar(14) DEFAULT NULL, UNIQUE KEY `wikia_user` (`gwa_city_id`,`gwa_user_id`,`gwa_namespace`,`gwa_title`), KEY `user_id` (`gwa_user_id`), KEY `user_city_id` (`gwa_user_id`,`gwa_city_id`))
SELECT cv_id, city_url, city_description FROM `city_list`';
select pages from	protected $isRedir = false;
SELECT * FROM /*_*/pagelinks;
SELECT * from city_variables where cv_city_id = $city_id
CREATE TABLE /*$wgDBprefix*/recentchanges ( rc_id INT NOT NULL, rc_timestamp DATETIME DEFAULT GETDATE(), rc_cur_time DATETIME DEFAULT GETDATE(), rc_user INT DEFAULT 0, rc_user_text NVARCHAR(255) DEFAULT '', rc_namespace SMALLINT DEFAULT 0, rc_title NVARCHAR(255) DEFAULT '', rc_comment NVARCHAR(255) DEFAULT '', rc_minor BIT DEFAULT 0, rc_bot BIT DEFAULT 0, rc_new BIT DEFAULT 0, rc_cur_id INT DEFAULT 0, rc_this_oldid INT DEFAULT 0, rc_last_oldid INT DEFAULT 0, rc_type tinyint DEFAULT 0, rc_moved_to_ns BIT DEFAULT 0, rc_moved_to_title NVARCHAR(255) DEFAULT '', rc_patrolled BIT DEFAULT 0, rc_ip NCHAR(40) DEFAULT '', rc_old_len INT DEFAULT 0, rc_new_len INT DEFAULT 0, rc_deleted BIT DEFAULT 0, rc_logid INT DEFAULT 0, rc_log_type NVARCHAR(255) NULL DEFAULT NULL, rc_log_action NVARCHAR(255) NULL DEFAULT NULL, rc_params NVARCHAR(MAX) DEFAULT '',)
CREATE TABLE `page_wikia_props` ( `page_id` int(10) NOT NULL, `propname` int(10) NOT NULL, `props` blob NOT NULL, PRIMARY KEY (`page_id`,`propname`))
CREATE TABLE `chat_blocked_users` ( `cbu_user_id` int(11) NOT NULL DEFAULT '0', `cbu_blocked_user_id` int(11) NOT NULL DEFAULT '0', UNIQUE KEY `cbu_user_id` (`cbu_user_id`,`cbu_blocked_user_id`))
SELECT 1 FROM all_indexes WHERE owner='$owner' AND index_name='{$table}_{$index}'
CREATE TABLE IF NOT EXISTS `ach_user_counters_refs` (	`wiki_id` int(9) signed NOT NULL,	`user_id` int(5) unsigned NOT NULL,	UNIQUE KEY `wiki_id` (`wiki_id`,`user_id`))
SELECT MIN(page_id) from page'));
CREATE TABLE /*_*/page_props_tmp ( pp_page int NOT NULL, pp_propname varbinary(60) NOT NULL, pp_value blob NOT NULL)
SELECT cur_namespace,cur_title,cur_id FROM $cur
CREATE TABLE `wikia_tasks_log` ( `id` int(10) unsigned NOT NULL AUTO_INCREMENT, `task_id` int(11) NOT NULL, `log_timestamp` char(14) NOT NULL, `log_line` text NOT NULL, PRIMARY KEY (`id`), KEY `new_fk_constraint` (`task_id`), CONSTRAINT `new_fk_constraint` FOREIGN KEY (`task_id`) REFERENCES `wikia_tasks` (`task_id`) ON DELETE CASCADE ON UPDATE CASCADE)
CREATE TABLE querycache_info ( qci_type TEXT UNIQUE, qci_timestamp TIMESTAMPTZ NULL)
CREATE TABLE /*_*/user_tmp ( user_id int unsigned NOT NULL PRIMARY KEY AUTO_INCREMENT, user_name varchar(255) binary NOT NULL default '', user_real_name varchar(255) binary NOT NULL default '', user_password tinyblob NOT NULL, user_newpassword tinyblob NOT NULL, user_newpass_time binary(14), user_email tinytext NOT NULL, user_options blob NOT NULL, user_touched binary(14) NOT NULL default '', user_token binary(32) NOT NULL default '', user_email_authenticated binary(14), user_email_token binary(32), user_email_token_expires binary(14), user_registration binary(14), user_editcount int)
CREATE TABLE `log_search` ( `ls_field` varbinary(32) NOT NULL, `ls_value` varchar(255) NOT NULL, `ls_log_id` int(10) unsigned NOT NULL DEFAULT '0', UNIQUE KEY `ls_field_val` (`ls_field`,`ls_value`,`ls_log_id`), KEY `ls_log_id` (`ls_log_id`))
CREATE TABLE watchlist ( wl_user INTEGER NOT NULL REFERENCES mwuser(user_id) ON DELETE CASCADE DEFERRABLE INITIALLY DEFERRED, wl_namespace SMALLINT NOT NULL DEFAULT 0, wl_title TEXT NOT NULL, wl_notificationtimestamp TIMESTAMPTZ)
CREATE TABLE objectcache ( keyname TEXT UNIQUE, value BYTEA NOT NULL DEFAULT '', exptime TIMESTAMPTZ NOT NULL)
create table if not existsif ( ( $removeVideos || $addVideos ) && !$tableExists )
CREATE TABLE /*_*/watchlist_tmp ( wl_user int unsigned NOT NULL, wl_namespace int NOT NULL default 0, wl_title varchar(255) binary NOT NULL default '', wl_notificationtimestamp varbinary(14))
CREATE TABLE `image_sync_done` (	 `id` int(8) NOT NULL AUTO_INCREMENT	 `city_id` int(8) unsigned NOT NULL,	 `img_action` varchar(32) NOT NULL,	 `img_src` blob,	 `img_dest` blob,	 `img_added` datetime DEFAULT NULL,	 `img_sync` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP,	 `img_error` smallint(4) unsigned NOT NULL DEFAULT '0',	 PRIMARY KEY (`id`),	 KEY `city_id` (`city_id`,`img_sync`))
CREATE TABLE /*_*/profiling ( pf_count int NOT NULL default 0, pf_time float NOT NULL default 0, pf_memory float NOT NULL default 0, pf_name varchar(255) NOT NULL default '', pf_server varchar(30) NOT NULL default '')
CREATE TABLE `messages_text` ( `msg_id` int(7) unsigned NOT NULL AUTO_INCREMENT, `msg_sender_id` int(10) unsigned NOT NULL, `msg_text` mediumtext NOT NULL, `msg_mode` tinyint(4) NOT NULL DEFAULT '0', `msg_removed` tinyint(4) NOT NULL DEFAULT '0', `msg_expire` datetime DEFAULT NULL, `msg_date` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP, `msg_recipient_name` varchar(255) DEFAULT NULL, `msg_group_name` varchar(255) DEFAULT NULL, `msg_wiki_name` varchar(255) DEFAULT NULL, `msg_hub_id` int(9) DEFAULT NULL, `msg_cluster_id` int(9) DEFAULT NULL, `msg_lang` varchar(255) DEFAULT NULL, PRIMARY KEY (`msg_id`), KEY `removed_mode_expire_date` (`msg_removed`,`msg_mode`,`msg_expire`,`msg_date`))
CREATE INDEX page_props_propname ON page_props (pp_propname);
CREATE TABLE updatelog ( ul_key VARCHAR(255) NOT NULL PRIMARY KEY)
CREATE TABLE /*$wgDBprefix*/page ( page_id INT NOT NULL PRIMARY KEY clustered IDENTITY, page_namespace INT NOT NULL, page_title NVARCHAR(255) NOT NULL, page_restrictions NVARCHAR(255) NULL, page_counter BIGINT NOT NULL DEFAULT 0, page_is_redirect BIT NOT NULL DEFAULT 0, page_is_new BIT NOT NULL DEFAULT 0, page_random NUMERIC(15,14) NOT NULL DEFAULT RAND(), page_touched DATETIME NOT NULL DEFAULT GETDATE(), page_latest INT NOT NULL, page_len INT NOT NULL,)
select * from achievements_counters
CREATE TABLE `mw_iwlinks` ( `iwl_from` int(10) unsigned NOT NULL DEFAULT '0', `iwl_prefix` varbinary(20) NOT NULL DEFAULT '', `iwl_title` varchar(255) CHARACTER SET latin1 COLLATE latin1_bin NOT NULL DEFAULT '', UNIQUE KEY `iwl_from` (`iwl_from`,`iwl_prefix`,`iwl_title`), UNIQUE KEY `iwl_prefix_title_from` (`iwl_prefix`,`iwl_title`,`iwl_from`))
CREATE TABLE /*_*/interwiki_tmp ( iw_prefix TEXT NOT NULL, iw_url BLOB NOT NULL, iw_api BLOB NOT NULL, iw_wikiid TEXT NOT NULL, iw_local INTEGER NOT NULL, iw_trans INTEGER NOT NULL default 0)
CREATE TABLE /*$wgDBprefix*/pagelinks ( pl_from INT NOT NULL DEFAULT 0 REFERENCES /*$wgDBprefix*/page(page_id) ON DELETE CASCADE, pl_namespace SMALLINT NOT NULL DEFAULT 0, pl_title NVARCHAR(255) NOT NULL DEFAULT '',)
SELECT COUNT(*) FROM $revision WHERE rev_user=user_id)";
CREATE TABLE IF NOT EXISTS `ach_user_score` (	`wiki_id` int(9) signed NOT NULL,	`user_id` int(5) unsigned NOT NULL,	`score` int(10) unsigned NOT NULL,	UNIQUE KEY `wiki_id` (`wiki_id`,`user_id`),	KEY `user_id` (`user_id`))
CREATE INDEX logging_page_time ON logging (log_namespace, log_title, log_timestamp);
CREATE TABLE `updatelog` ( `ul_key` varchar(255) NOT NULL, `ul_value` blob, PRIMARY KEY (`ul_key`))
CREATE TABLE `mw_site_stats` ( `ss_row_id` int(10) unsigned NOT NULL, `ss_total_views` bigint(20) unsigned DEFAULT '0', `ss_total_edits` bigint(20) unsigned DEFAULT '0', `ss_good_articles` bigint(20) unsigned DEFAULT '0', `ss_total_pages` bigint(20) DEFAULT '-1', `ss_users` bigint(20) DEFAULT '-1', `ss_active_users` bigint(20) DEFAULT '-1', `ss_admins` int(11) DEFAULT '-1', `ss_images` int(11) DEFAULT '0', UNIQUE KEY `ss_row_id` (`ss_row_id`))
CREATE TABLE page ( page_id INTEGER NOT NULL PRIMARY KEY DEFAULT nextval('page_page_id_seq'), page_namespace SMALLINT NOT NULL, page_title TEXT NOT NULL, page_restrictions TEXT, page_counter BIGINT NOT NULL DEFAULT 0, page_is_redirect SMALLINT NOT NULL DEFAULT 0, page_is_new SMALLINT NOT NULL DEFAULT 0, page_random NUMERIC(15,14) NOT NULL DEFAULT RANDOM(), page_touched TIMESTAMPTZ, page_latest INTEGER NOT NULL, page_len INTEGER NOT NULL)
CREATE index removed_mode_expire_date ON messages_text (msg_removed,msg_mode,msg_expire,msg_date);
select page_latest from page);
CREATE TABLE `mw_job` ( `job_id` int(10) unsigned NOT NULL AUTO_INCREMENT, `job_cmd` varbinary(60) NOT NULL DEFAULT '', `job_namespace` int(11) NOT NULL, `job_title` varchar(255) CHARACTER SET latin1 COLLATE latin1_bin NOT NULL, `job_params` blob NOT NULL, PRIMARY KEY (`job_id`), KEY `job_cmd` (`job_cmd`,`job_namespace`,`job_title`,`job_params`(128)))
CREATE TABLE /*$wgDBprefix*/blob_orphans (	bo_cluster varbinary(255),	bo_blob_id integer not null,	PRIMARY KEY (bo_cluster, bo_blob_id))
CREATE TABLE `video_interwiki` ( `city_id` int(11) NOT NULL, `article_id` int(8) unsigned NOT NULL, `video_title` varchar(255) NOT NULL, `last_accessed` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP, UNIQUE KEY `viw_idx` (`city_id`,`article_id`,`video_title`,`last_accessed`))
CREATE TABLE /*_*/transcache ( tc_url varbinary(255) NOT NULL, tc_contents text, tc_time binary(14) NOT NULL)
SELECT * FROM pages WHERE page_title_lower = 'tomyvilu' AND page_namespace = 2;
CREATE TABLE oldimage ( oi_name TEXT NOT NULL, oi_archive_name TEXT NOT NULL, oi_size INTEGER NOT NULL, oi_width INTEGER NOT NULL, oi_height INTEGER NOT NULL, oi_bits SMALLINT NULL, oi_description TEXT, oi_user INTEGER NULL REFERENCES mwuser(user_id) ON DELETE SET NULL DEFERRABLE INITIALLY DEFERRED, oi_user_text TEXT NOT NULL, oi_timestamp TIMESTAMPTZ NULL, oi_metadata BYTEA NOT NULL DEFAULT '', oi_media_type TEXT NULL, oi_major_mime TEXT NULL DEFAULT 'unknown', oi_minor_mime TEXT NULL DEFAULT 'unknown', oi_deleted SMALLINT NOT NULL DEFAULT 0, oi_sha1 TEXT NOT NULL DEFAULT '')
CREATE TABLE `global_registry` ( `item_id` int(10) NOT NULL, `item_type` int(10) NOT NULL, `item_value` blob NOT NULL, `item_updated` timestamp DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP, PRIMARY KEY (`item_id`,`item_type`))
CREATE TABLE /*$wgDBprefix*/page_wikia_props ( `page_id` int(10) NOT NULL, `propname` int(10) NOT NULL, `props` blob NOT NULL, KEY `page_id` (`page_id`), KEY `propname` (`propname`))
CREATE TABLE [sequence_$seqName] (id INT NOT NULL IDENTITY PRIMARY KEY, junk varchar(10) NULL)
CREATE TABLE IF NOT EXISTS `searchdigest` (	`sd_wiki` int(9) unsigned NOT NULL,	`sd_query` varchar(255) NOT NULL,	`sd_misses` int(9) unsigned NOT NULL,	`sd_lastseen` DATE,	PRIMARY KEY `sd_wikiquery` (`sd_wiki`, `sd_query`),	KEY `sd_wikimisses` (`sd_wiki`, `sd_misses`))
CREATE TABLE `mw_change_tag` ( `ct_rc_id` int(11) DEFAULT NULL, `ct_log_id` int(11) DEFAULT NULL, `ct_rev_id` int(11) DEFAULT NULL, `ct_tag` varchar(255) NOT NULL, `ct_params` blob, UNIQUE KEY `change_tag_rc_tag` (`ct_rc_id`,`ct_tag`), UNIQUE KEY `change_tag_log_tag` (`ct_log_id`,`ct_tag`), UNIQUE KEY `change_tag_rev_tag` (`ct_rev_id`,`ct_tag`), KEY `change_tag_tag_id` (`ct_tag`,`ct_rc_id`,`ct_rev_id`,`ct_log_id`))
CREATE TABLE valid_tag ( vt_tag varchar(255) NOT NULL PRIMARY KEY)
CREATE TABLE /*_*/filelocks_exclusive (	fle_key binary(31) NOT NULL PRIMARY KEY)
CREATE TABLE /*$wgDBprefix*/valid_tag ( vt_tag varchar(255) NOT NULL PRIMARY KEY)
CREATE TABLE /*$wgDBprefix*/archive ( ar_namespace SMALLINT NOT NULL DEFAULT 0, ar_title NVARCHAR(255) NOT NULL DEFAULT '', ar_text NVARCHAR(MAX) NOT NULL, ar_comment NVARCHAR(255) NOT NULL, ar_user INT NULL REFERENCES /*$wgDBprefix*/[user](user_id) ON DELETE SET NULL, ar_user_text NVARCHAR(255) NOT NULL, ar_timestamp DATETIME NOT NULL DEFAULT GETDATE(), ar_minor_edit BIT NOT NULL DEFAULT 0, ar_flags NVARCHAR(255) NOT NULL, ar_rev_id INT, ar_text_id INT, ar_deleted BIT NOT NULL DEFAULT 0, ar_len INT DEFAULT NULL, ar_page_id INT NULL, ar_parent_id INT NULL,)
CREATE TABLE `ab_experiment_groups` ( `id` int(11) NOT NULL AUTO_INCREMENT, `name` varchar(255) NOT NULL, `description` tinyblob, `experiment_id` int(11) NOT NULL, PRIMARY KEY (`id`), KEY `experiment_id` (`experiment_id`), CONSTRAINT `fk_group_experiment` FOREIGN KEY (`experiment_id`) REFERENCES `ab_experiments` (`id`) ON DELETE CASCADE ON UPDATE CASCADE)
CREATE TABLE /*_*/category_tmp ( cat_id int unsigned NOT NULL PRIMARY KEY AUTO_INCREMENT, cat_title varchar(255) binary NOT NULL, cat_pages int signed NOT NULL default 0, cat_subcats int signed NOT NULL default 0, cat_files int signed NOT NULL default 0, cat_hidden tinyint unsigned NOT NULL default 0)
SELECT 1 FROM all_constraints WHERE owner = \''.strtoupper($this->db->getDBname()).'\' AND constraint_name = \''.$this->db->tablePrefix().'RECENTCHANGES_FK2\' AND delete_rule = \'CASCADE\'' );
CREATE TABLE `city_image_migrate_v1` ( `city_id` int(10) unsigned NOT NULL, `migration_date` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP, `locked` tinyint(1) unsigned DEFAULT NULL, PRIMARY KEY (`city_id`), KEY `locked` (`locked`))
CREATE TABLE /*$wgDBprefix*/oaiuser ( ou_id INTEGER NOT NULL AUTO_INCREMENT, ou_name VARCHAR(255), ou_password_hash TINYBLOB, PRIMARY KEY (ou_id), UNIQUE KEY (ou_name))
select distinct(cl_from) from `categorylinks` where cl_to IN ('". implode("','", $encodedCats) . "'))" );
CREATE TABLE `math` ( `math_inputhash` varchar(16) NOT NULL DEFAULT '', `math_outputhash` varchar(16) NOT NULL DEFAULT '', `math_html_conservativeness` tinyint(1) NOT NULL DEFAULT '0', `math_html` text, `math_mathml` text, UNIQUE KEY `math_inputhash` (`math_inputhash`))
CREATE TABLE `image_review_stats` ( `reviewer_id` int(11) NOT NULL, `wiki_id` int(11) NOT NULL, `page_id` int(11) NOT NULL, `review_state` int(11) NOT NULL DEFAULT '0', `review_end` timestamp NOT NULL DEFAULT '0000-00-00 00:00:00', KEY `reviewer_idx` (`reviewer_id`), KEY `state_idx` (`reviewer_id`,`review_state`), KEY `image_idx` (`wiki_id`,`page_id`))
SELECT * FROM widgets WHERE wt_level = 2 LIMIT 5
CREATE TABLE user_newtalk ( user_id INTEGER NOT NULL REFERENCES mwuser(user_id) ON DELETE CASCADE DEFERRABLE INITIALLY DEFERRED, user_ip TEXT NULL, user_last_timestamp TIMESTAMPTZ)
SELECT * FROM /*_*/imagelinks;
CREATE TABLE `external_user` ( `eu_local_id` int(10) unsigned NOT NULL, `eu_external_id` varchar(255) CHARACTER SET latin1 COLLATE latin1_bin NOT NULL, PRIMARY KEY (`eu_local_id`), UNIQUE KEY `eu_external_id` (`eu_external_id`))
CREATE TABLE `mw_msg_resource` ( `mr_resource` varbinary(255) NOT NULL, `mr_lang` varbinary(32) NOT NULL, `mr_blob` mediumblob NOT NULL, `mr_timestamp` binary(14) NOT NULL, UNIQUE KEY `mr_resource_lang` (`mr_resource`,`mr_lang`))
CREATE TABLE interwiki ( iw_prefix VARCHAR(32) NOT NULL UNIQUE, iw_url CLOB(64K) INLINE LENGTH 4096 NOT NULL, iw_api CLOB(64K) INLINE LENGTH 4096 NOT NULL, iw_wikiid varchar(64) NOT NULL, iw_local SMALLINT NOT NULL, iw_trans SMALLINT NOT NULL DEFAULT 0)
CREATE TABLE /*$wgDBprefix*/page_props ( pp_page int NOT NULL, pp_propname varbinary(60) NOT NULL, pp_value blob NOT NULL, PRIMARY KEY (pp_page,pp_propname))
CREATE TABLE change_tag ( ct_rc_id INTEGER, ct_log_id INTEGER, ct_rev_id INTEGER, ct_tag varchar(255) NOT NULL, ct_params CLOB(64K) INLINE LENGTH 4096)
CREATE TABLE `mw_querycache_info` ( `qci_type` varbinary(32) NOT NULL DEFAULT '', `qci_timestamp` binary(14) NOT NULL DEFAULT '19700101000000', UNIQUE KEY `qci_type` (`qci_type`))
CREATE TABLE `mw_page_props` ( `pp_page` int(11) NOT NULL, `pp_propname` varbinary(60) NOT NULL, `pp_value` blob NOT NULL, UNIQUE KEY `pp_page_propname` (`pp_page`,`pp_propname`))
CREATE TABLE `wall_notification_queue` ( `wiki_id` int(10) unsigned NOT NULL, `entity_key` varbinary(30) NOT NULL, `page_id` int(10) unsigned DEFAULT NULL, `event_date` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP, PRIMARY KEY (`wiki_id`, `page_id`))
CREATE TABLE /*$wgDBprefix*/page_props ( pp_page int NOT NULL, pp_propname NVARCHAR(60) NOT NULL, pp_value NVARCHAR(MAX) NOT NULL, PRIMARY KEY (pp_page,pp_propname))
CREATE TABLE `scavenger_hunt_games` ( `game_id` int(10) NOT NULL AUTO_INCREMENT, `wiki_id` int(10) NOT NULL, `game_name` varchar(255) NOT NULL, `game_is_enabled` tinyint(1) DEFAULT '0', `game_data` blob, PRIMARY KEY (`game_id`), KEY `scavenger_hunt_games_for_list` (`wiki_id`))
CREATE TABLE `user_groups` ( `ug_user` int(5) unsigned NOT NULL DEFAULT '0', `ug_group` varbinary(32) NOT NULL DEFAULT '', PRIMARY KEY (`ug_user`,`ug_group`), KEY `ug_group` (`ug_group`))
CREATE TABLE /*$wgDBprefix*/ach_user_counters (	`user_id` int(5) unsigned NOT NULL,	`data` text NOT NULL,	PRIMARY KEY (`user_id`))
CREATE TABLE /*_*/math_tmp ( math_inputhash varbinary(16) NOT NULL, math_outputhash varbinary(16) NOT NULL, math_html_conservativeness tinyint NOT NULL, math_html text, math_mathml text)
CREATE TABLE video_notmigrated (	id INT(11) NOT NULL AUTO_INCREMENT,	wiki_id INT(11) NOT NULL,	wiki_name VARCHAR(255) NOT NULL,	wiki_dbname VARCHAR(255),	video_count INT(11) NOT NULL,	KEY `vnm_wikiid` (wiki_id),	KEY `vnm_wikiname` (wiki_name),	PRIMARY KEY (id))
CREATE INDEX cul_range_start ON cu_log (cul_range_start);
CREATE TABLE /*$wgDBprefix*/blog_listing_relation ( `blr_relation` VARBINARY(255) NOT NULL DEFAULT '', `blr_title` VARBINARY(255) NOT NULL DEFAULT '', `blr_type` ENUM('cat','user'), UNIQUE KEY `wl_user` (`blr_relation`,`blr_title`,`blr_type`), KEY `type_relation` (`blr_relation`,`blr_type`))
SELECT * FROM /*_*/site_stats;
CREATE TABLE `summary_monthly_stats` ( `stats_date` mediumint(6) unsigned NOT NULL DEFAULT '0', `users_all` int(8) unsigned NOT NULL DEFAULT '0', `users_content_ns` int(8) unsigned NOT NULL DEFAULT '0', `users_user_ns` int(8) unsigned NOT NULL DEFAULT '0', `users_5times` int(8) unsigned NOT NULL DEFAULT '0', `users_100times` int(8) unsigned NOT NULL DEFAULT '0', `articles` int(8) unsigned NOT NULL DEFAULT '0', `articles_daily` int(8) unsigned NOT NULL DEFAULT '0', `articles_edits` int(8) unsigned NOT NULL DEFAULT '0', `images_links` int(8) unsigned NOT NULL DEFAULT '0', `images_uploaded` int(8) unsigned NOT NULL DEFAULT '0', `video_links` int(8) unsigned NOT NULL DEFAULT '0', `video_uploaded` int(8) unsigned NOT NULL DEFAULT '0', `ts` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP, PRIMARY KEY (`stats_date`), KEY `ts` (`stats_date`,`ts`))
SELECT 1 FROM pg_catalog.pg_constraint c, pg_catalog.pg_namespace n WHERE c.connamespace = n.oid AND conname = '
CREATE TABLE /*$wgDBprefix*/poll_vote ( `poll_id` varchar(32) NOT NULL default '', `poll_user` varchar(255) NOT NULL default '', `poll_ip` varchar(255) default NULL, `poll_answer` int(3) default NULL, `poll_date` datetime default NULL, PRIMARY KEY (`poll_id`,`poll_user`))
CREATE TABLE `mw_tag_summary` ( `ts_rc_id` int(11) DEFAULT NULL, `ts_log_id` int(11) DEFAULT NULL, `ts_rev_id` int(11) DEFAULT NULL, `ts_tags` blob NOT NULL, UNIQUE KEY `tag_summary_rc_id` (`ts_rc_id`), UNIQUE KEY `tag_summary_log_id` (`ts_log_id`), UNIQUE KEY `tag_summary_rev_id` (`ts_rev_id`))
CREATE TABLE `mw_text` ( `old_id` int(10) unsigned NOT NULL AUTO_INCREMENT, `old_text` mediumblob NOT NULL, `old_flags` tinyblob NOT NULL, PRIMARY KEY (`old_id`))
CREATE TABLE IF NOT EXISTS /*_*/$test ( test_id int unsigned NOT NULL PRIMARY KEY AUTO_INCREMENT, text varbinary(255) NOT NULL)
CREATE TABLE `advert_pmts` ( `pay_id` int(10) unsigned NOT NULL AUTO_INCREMENT, `ad_id` int(10) unsigned NOT NULL, `payer_email` varchar(255) NOT NULL, `pay_date` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP, `pay_amt` int(11) NOT NULL, `pay_type` varchar(50) NOT NULL COMMENT 'paypal payment type', `pay_status` varchar(50) NOT NULL, `pay_conf_msg` mediumtext NOT NULL, PRIMARY KEY (`pay_id`))
create table if not exists _dev_last_update (file varchar(255), ts timestamp default current_timestamp)
CREATE TABLE founder_progress_bar_tasks ( `wiki_id` int(10) NOT NULL, `task_id` int(10) NOT NULL, `task_count` int(10) DEFAULT '0',		`task_completed` tinyint(1) NOT NULL DEFAULT '0', `task_skipped` tinyint(1) NOT NULL DEFAULT '0',		`task_timestamp` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP, PRIMARY KEY ( `wiki_id`, `task_id` ))
CREATE TABLE `brokenlinks` ( `bl_from` int(8) unsigned NOT NULL DEFAULT '0', `bl_to` varchar(255) CHARACTER SET latin1 COLLATE latin1_bin NOT NULL DEFAULT '', UNIQUE KEY `bl_from` (`bl_from`,`bl_to`), KEY `bl_to` (`bl_to`))
CREATE TABLE redirect ( rd_from INTEGER NOT NULL REFERENCES page(page_id) ON DELETE CASCADE, rd_namespace SMALLINT NOT NULL, rd_title TEXT NOT NULL)
CREATE TABLE `mw_transcache` ( `tc_url` varbinary(255) NOT NULL, `tc_contents` text, `tc_time` binary(14) NOT NULL, UNIQUE KEY `tc_url_idx` (`tc_url`))
CREATE TABLE $revision (			rev_id int(8) unsigned NOT NULL auto_increment,			rev_page int(8) unsigned NOT NULL,			rev_comment tinyblob NOT NULL,			rev_user int(5) unsigned NOT NULL default '0',			rev_user_text varchar(255) binary NOT NULL default '',			rev_timestamp char(14) binary NOT NULL default '',			rev_minor_edit tinyint(1) unsigned NOT NULL default '0',			rev_deleted tinyint(1) unsigned NOT NULL default '0',			rev_len int(8) unsigned,			rev_parent_id int(8) unsigned default NULL,			PRIMARY KEY rev_page_id (rev_page, rev_id),			UNIQUE INDEX rev_id (rev_id),			INDEX rev_timestamp (rev_timestamp),			INDEX page_timestamp (rev_page,rev_timestamp),			INDEX user_timestamp (rev_user,rev_timestamp),			INDEX usertext_timestamp (rev_user_text,rev_timestamp)			)
CREATE TABLE /*_*/imagelinks ( il_from int unsigned NOT NULL default 0, il_to varchar(255) binary NOT NULL default '')
SELECT city_cluster from wikicities.city_list where city_dbname = '$dbname';
CREATE TABLE `ad_slot_20081018` ( `as_id` smallint(5) unsigned NOT NULL AUTO_INCREMENT, `slot` varchar(50) NOT NULL, `skin` varchar(25) NOT NULL, `size` varchar(25) DEFAULT NULL, `default_provider_id` tinyint(3) unsigned NOT NULL, `default_enabled` enum('Yes','No') DEFAULT 'Yes', PRIMARY KEY (`as_id`), UNIQUE KEY `slot` (`slot`,`skin`))
CREATE TABLE `jabstatus` ( `id` int(11) NOT NULL AUTO_INCREMENT, `wikia` varchar(200) NOT NULL, `user` int(11) NOT NULL DEFAULT '0', `jid` varchar(50) NOT NULL, `status` varchar(10) NOT NULL, `presence` char(1) NOT NULL DEFAULT 'A', PRIMARY KEY (`id`))
None
CREATE TABLE /*$wgDBprefix*/objectcache ( keyname varbinary(255) NOT NULL default '', value mediumblob, exptime datetime, UNIQUE KEY (keyname), KEY (exptime))
CREATE TABLE /*$wgDBprefix*/ach_ranking_snapshots (	`date` DATETIME NOT NULL ,	`data` TEXT NOT NULL)
CREATE TABLE `wikia_hub_modules` ( `city_id` int(11) NOT NULL DEFAULT '0', `lang_code` varchar(8) NOT NULL, `vertical_id` tinyint(4) NOT NULL, `hub_date` date NOT NULL, `module_id` tinyint(4) NOT NULL, `module_data` blob, `module_status` tinyint(4) NOT NULL DEFAULT '1', `last_editor_id` int(11) DEFAULT NULL, `last_edit_timestamp` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP, PRIMARY KEY (`lang_code`,`vertical_id`,`hub_date`,`module_id`,`city_id`), KEY `by_city_id` (`city_id`,`hub_date`,`module_id`))
CREATE TABLE `widgets_extra` ( `we_id` int(11) NOT NULL AUTO_INCREMENT, `we_widget_id` int(11) NOT NULL, `we_name` varchar(32) NOT NULL, `we_value` mediumtext NOT NULL, `we_blocked` int(11) NOT NULL, PRIMARY KEY (`we_id`), KEY `we_widget_id_idx` (`we_widget_id`), KEY `we_blocked_idx` (`we_blocked`))
SELECT * FROM test_table WHERE test_column NOT IN ( ?, ? )';
CREATE TABLE wiki_field_info_full (table_name VARCHAR2(35) NOT NULL,column_name VARCHAR2(35) NOT NULL,data_default VARCHAR2(4000),data_length NUMBER NOT NULL,data_type VARCHAR2(106),not_null CHAR(1) NOT NULL,prim NUMBER(1),uniq NUMBER(1),nonuniq NUMBER(1))
CREATE TABLE `city_image_migrate` ( `city_id` int(10) unsigned NOT NULL, `migration_date` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP, `locked` tinyint(1) unsigned DEFAULT NULL, PRIMARY KEY (`city_id`), KEY `locked` (`locked`))
CREATE TABLE updatelog ( ul_key VARCHAR(255) NOT NULL PRIMARY KEY)
CREATE TABLE `pagelinks` ( `pl_from` int(8) unsigned NOT NULL DEFAULT '0', `pl_namespace` int(11) NOT NULL DEFAULT '0', `pl_title` varchar(255) CHARACTER SET latin1 COLLATE latin1_bin NOT NULL DEFAULT '', UNIQUE KEY `pl_from` (`pl_from`,`pl_namespace`,`pl_title`), UNIQUE KEY `pl_namespace` (`pl_namespace`,`pl_title`,`pl_from`))
CREATE TABLE /*_*/site_stats_tmp ( ss_row_id int unsigned NOT NULL, ss_total_views bigint unsigned default 0, ss_total_edits bigint unsigned default 0, ss_good_articles bigint unsigned default 0, ss_total_pages bigint default '-1', ss_users bigint default '-1', ss_active_users bigint default '-1', ss_admins int default '-1', ss_images int default 0)
CREATE TABLE transcache ( tc_url VARCHAR(255) NOT NULL UNIQUE, tc_contents CLOB(64K) INLINE LENGTH 4096 NOT NULL, tc_time TIMESTAMP(3) NOT NULL)
create table			if ($mode == 0)
CREATE TABLE `msg_resource_links` ( `mrl_resource` varbinary(255) NOT NULL, `mrl_message` varbinary(255) NOT NULL, UNIQUE KEY `mrl_message_resource` (`mrl_message`,`mrl_resource`))
SELECT * FROM cur WHERE cur_title='This_\\&_that,_WTF\\?\\!'
CREATE TABLE `video_sanitization_failededit` ( `id` int(10) unsigned NOT NULL AUTO_INCREMENT, `city_id` int(11) NOT NULL, `city_name` varchar(255) NOT NULL, `article_id` int(11) NOT NULL, `article_title` varchar(255) NOT NULL, `article_namespace` int(11) NOT NULL, `rename_from` varchar(255) NOT NULL, `rename_to` varchar(255) NOT NULL, PRIMARY KEY (`id`), KEY `city_id` (`city_id`))
SELECT il_to FROM imagelinks JOIN page ON page_id=il_from WHERE page_title = '%s' and page_namespace = %s";
CREATE TABLE `user_email_log` ( `el_id` int(10) unsigned NOT NULL AUTO_INCREMENT, `user_id` int(10) unsigned NOT NULL, `old_email` tinytext NOT NULL, `new_email` tinytext NOT NULL, `changed_by_id` int(10) unsigned NOT NULL, `changed_by_ip` char(40) NOT NULL, `changed_at` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP, PRIMARY KEY (`el_id`), KEY `user_id` (`user_id`,`old_email`(40)), KEY `user_id_2` (`user_id`,`new_email`(40)))
CREATE TABLE `user_login_history` ( `id` int(11) NOT NULL AUTO_INCREMENT, `user_id` int(5) unsigned NOT NULL, `city_id` int(9) unsigned DEFAULT '0', `ulh_timestamp` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP, `ulh_from` tinyint(4) DEFAULT '0', `ulh_rememberme` tinyint(4) DEFAULT NULL, PRIMARY KEY (`id`), KEY `idx_user_login_history_wikia_timestamp` (`city_id`,`user_id`,`ulh_timestamp`))
CREATE TABLE cu_log ( cul_id INTEGER NOT NULL DEFAULT nextval('cu_log_cul_id_seq'), cul_timestamp TIMESTAMPTZ, cul_user INTEGER NULL REFERENCES mwuser(user_id) ON DELETE SET NULL, cul_user_text TEXT NOT NULL, cul_reason TEXT NOT NULL DEFAULT '', cul_type TEXT NOT NULL DEFAULT '', cul_target_id INTEGER NULL REFERENCES mwuser(user_id) ON DELETE SET NULL, cul_target_text TEXT NOT NULL DEFAULT '', cul_target_hex TEXT NOT NULL DEFAULT '', cul_range_start TEXT NOT NULL DEFAULT '', cul_range_end TEXT NOT NULL DEFAULT '')
CREATE TABLE `mw_archive` ( `ar_namespace` int(11) NOT NULL DEFAULT '0', `ar_title` varchar(255) CHARACTER SET latin1 COLLATE latin1_bin NOT NULL DEFAULT '', `ar_text` mediumblob NOT NULL, `ar_comment` tinyblob NOT NULL, `ar_user` int(10) unsigned NOT NULL DEFAULT '0', `ar_user_text` varchar(255) CHARACTER SET latin1 COLLATE latin1_bin NOT NULL, `ar_timestamp` binary(14) NOT NULL DEFAULT '\0\0\0\0\0\0\0\0\0\0\0\0\0\0', `ar_minor_edit` tinyint(4) NOT NULL DEFAULT '0', `ar_flags` tinyblob NOT NULL, `ar_rev_id` int(10) unsigned DEFAULT NULL, `ar_text_id` int(10) unsigned DEFAULT NULL, `ar_deleted` tinyint(3) unsigned NOT NULL DEFAULT '0', `ar_len` int(10) unsigned DEFAULT NULL, `ar_page_id` int(10) unsigned DEFAULT NULL, `ar_parent_id` int(10) unsigned DEFAULT NULL, KEY `name_title_timestamp` (`ar_namespace`,`ar_title`,`ar_timestamp`), KEY `usertext_timestamp` (`ar_user_text`,`ar_timestamp`), KEY `ar_revid` (`ar_rev_id`))
CREATE TABLE /*_*/transcache ( tc_url varbinary(255) NOT NULL, tc_contents text, tc_time int NOT NULL)
CREATE TABLE /*_*/l10n_cache ( lc_lang varbinary(32) NOT NULL, lc_key varchar(255) NOT NULL, lc_value mediumblob NOT NULL)
CREATE TABLE `mw_user_properties` ( `up_user` int(11) NOT NULL, `up_property` varbinary(32) NOT NULL, `up_value` blob, UNIQUE KEY `user_properties_user_property` (`up_user`,`up_property`), KEY `user_properties_property` (`up_property`))
CREATE TABLE /*$wgDBprefix*/parsercache ( pc_pageid INT(11) NOT NULL, pc_title VARCHAR(255) NOT NULL, pc_prefhash CHAR(32) NOT NULL, pc_expire DATETIME NOT NULL, pc_data MEDIUMBLOB NOT NULL, PRIMARY KEY (pc_pageid, pc_prefhash), KEY(pc_title), KEY(pc_expire))
CREATE INDEX flags_on_pages_page_id_idx ON flags_to_pages (page_id);
CREATE INDEX abuse_filter_log_timestamp ON abuse_filter_log(afl_timestamp);
SELECT * FROM ... LIMIT 0"				# would not create the indexes we need....				foreach ($tables as $tbl) {					$res = $db->query(
CREATE TABLE `chat_ban_users` ( `cbu_wiki_id` int(10) NOT NULL DEFAULT '0', `cbu_user_id` int(10) NOT NULL DEFAULT '0', `cbu_admin_user_id` int(10) NOT NULL DEFAULT '0', `reason` varbinary(255) DEFAULT NULL, `start_date` varbinary(14) DEFAULT NULL, `end_date` varbinary(14) DEFAULT NULL, UNIQUE KEY `cbu_user_id` (`cbu_wiki_id`,`cbu_user_id`), KEY `wiki_start_date` (`cbu_wiki_id`,`start_date`))
CREATE TABLE `wall_notification_queue_processed` ( `id` int(11) NOT NULL AUTO_INCREMENT, `user_id` int(10) unsigned NOT NULL, `entity_key` varbinary(30) NOT NULL, `event_date` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP, PRIMARY KEY (`id`), KEY `user_event_idx` (`user_id`,`entity_key`), KEY `event_date` (`event_date`))
CREATE TABLE IF NOT EXISTS `ach_user_badges_notified` (	`user_id` int(5) unsigned NOT NULL,	`lastseen` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP,	PRIMARY KEY (`user_id`),	KEY `user_id_lastseen` (`user_id`,`lastseen`))
CREATE TABLE `mw_querycache` ( `qc_type` varbinary(32) NOT NULL, `qc_value` int(10) unsigned NOT NULL DEFAULT '0', `qc_namespace` int(11) NOT NULL DEFAULT '0', `qc_title` varchar(255) CHARACTER SET latin1 COLLATE latin1_bin NOT NULL DEFAULT '', KEY `qc_type` (`qc_type`,`qc_value`))
CREATE TABLE /*$wgDBprefix*/site_stats ( ss_row_id INT NOT NULL DEFAULT 1 PRIMARY KEY, ss_total_views BIGINT DEFAULT 0, ss_total_edits BIGINT DEFAULT 0, ss_good_articles BIGINT DEFAULT 0, ss_total_pages BIGINT DEFAULT -1, ss_users BIGINT DEFAULT -1, ss_active_users BIGINT DEFAULT -1, ss_admins INT DEFAULT -1, ss_images INT DEFAULT 0,)
CREATE TABLE &mw_prefix.transcache ( tc_url VARCHAR2(255) NOT NULL, tc_contents CLOB NOT NULL, tc_time TIMESTAMP(6) WITH TIME ZONE NOT NULL)
CREATE TABLE /*$wgDBprefix*/category ( cat_id int unsigned NOT NULL auto_increment, cat_title varchar(255) binary NOT NULL, cat_pages int signed NOT NULL default 0, cat_subcats int signed NOT NULL default 0, cat_files int signed NOT NULL default 0, cat_hidden tinyint(1) unsigned NOT NULL default 0, PRIMARY KEY (cat_id), UNIQUE KEY (cat_title), KEY (cat_pages))
CREATE INDEX rc_namespace_title ON recentchanges (rc_namespace, rc_title);
CREATE TABLE `wall_notification_queue_processed` ( `id` int(11) NOT NULL AUTO_INCREMENT, `user_id` int(10) unsigned NOT NULL, `entity_key` varbinary(30) NOT NULL, `event_date` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP, PRIMARY KEY (`id`), KEY `user_event_idx` (`user_id`,`entity_key`), KEY `event_date` (`event_date`))
CREATE TABLE /*$wgDBprefix*/user_groups (	ug_user int unsigned NOT NULL default '0',	ug_group varbinary(16) NOT NULL default '0',	PRIMARY KEY (ug_user,ug_group) KEY (ug_group))
CREATE INDEX fa_name_time ON filearchive (fa_name, fa_timestamp);
CREATE TABLE /*_*/filelocks_shared (	fls_key binary(31) NOT NULL,	fls_session binary(31) NOT NULL,	PRIMARY KEY (fls_key,fls_session))
SELECT * FROM ($sql) WHERE rownum >= (1 + $offset) AND rownum < (1 + $limit + $offset)
CREATE INDEX cuc_xff_hex_time ON cu_changes( cuc_xff_hex, cuc_timestamp );
CREATE TABLE /*$wgDBprefix*/redirect (	rd_from INT NOT NULL DEFAULT 0 REFERENCES /*$wgDBprefix*/[page](page_id) ON DELETE CASCADE,	rd_namespace SMALLINT NOT NULL DEFAULT '0',	rd_title NVARCHAR(255) NOT NULL DEFAULT '',	rd_interwiki NVARCHAR(32) DEFAULT NULL,	rd_fragment NVARCHAR(255) DEFAULT NULL,)
CREATE TABLE `jobs_dirty` ( `timestamp` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP, `city_id` int(8) unsigned NOT NULL, `locked` timestamp NULL DEFAULT NULL, UNIQUE KEY `city_id_inx` (`city_id`), KEY `locked` (`locked`))
CREATE TABLE `video_notmigrated` ( `id` int(11) NOT NULL AUTO_INCREMENT, `wiki_id` int(11) NOT NULL, `wiki_name` varchar(255) NOT NULL, `video_count` int(11) NOT NULL, `wiki_dbname` varchar(255) DEFAULT NULL, PRIMARY KEY (`id`), KEY `vnm_wikiid` (`wiki_id`), KEY `vnm_wikiname` (`wiki_name`))
CREATE TABLE /*$wgDBprefix*/ach_custom_badges (	`id` int(10) signed NOT NULL AUTO_INCREMENT PRIMARY KEY,	`cat` varchar(255),	`enabled` tinyint(1) NOT NULL DEFAULT 0,	`type` tinyint(1) NOT NULL,	`sponsored` TINYINT(1) NOT NULL DEFAULT 0,	`badge_tracking_url` VARCHAR(255) DEFAULT NULL,	`hover_tracking_url` VARCHAR(255) DEFAULT NULL,	`click_tracking_url` VARCHAR(255) DEFAULT NULL,	KEY `id` (`id`),	KEY `type` (`type`))
CREATE TABLE /*_*/interwiki_tmp ( iw_prefix varchar(32) NOT NULL, iw_url blob NOT NULL, iw_local bool NOT NULL, iw_trans tinyint NOT NULL default 0)
CREATE TABLE change_tag ( ct_rc_id INTEGER, ct_log_id INTEGER, ct_rev_id INTEGER, ct_tag VARCHAR(255) NOT NULL, ct_params CLOB(64K) INLINE LENGTH 4096)
CREATE INDEX job_cmd_namespace_title ON job (job_cmd, job_namespace, job_title);
CREATE TABLE `wall_notification` ( `id` int(11) NOT NULL AUTO_INCREMENT, `user_id` int(11) NOT NULL, `wiki_id` int(11) NOT NULL, `is_read` int(11) NOT NULL, `is_reply` int(11) NOT NULL, `author_id` int(11) NOT NULL, `unique_id` int(11) NOT NULL, `entity_key` char(30) NOT NULL, `is_hidden` int(11) NOT NULL DEFAULT '0', `notifyeveryone` int(1) NOT NULL DEFAULT '0', PRIMARY KEY (`id`), KEY `unique_id` (`unique_id`), KEY `user` (`user_id`,`wiki_id`), KEY `user_wiki_unique` (`user_id`,`wiki_id`,`unique_id`))
CREATE INDEX ppa_baid ON pp_agreements (ppa_baid);
CREATE TABLE `page_visited` ( `article_id` int(9) NOT NULL, `count` int(8) NOT NULL, `prev_diff` int(8) NOT NULL DEFAULT '0', PRIMARY KEY (`article_id`), KEY `page_visited_cnt_inx` (`count`), KEY `pv_changes` (`prev_diff`,`article_id`))
CREATE TABLE `shared_newtalks` ( `id` int(11) NOT NULL AUTO_INCREMENT, `sn_user_id` int(5) unsigned DEFAULT NULL, `sn_user_ip` varchar(255) DEFAULT '', `sn_wiki` varchar(31) DEFAULT NULL, `sn_date` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP, PRIMARY KEY (`id`), KEY `sn_user_id_sn_user_ip_sn_wiki_idx` (`sn_user_id`,`sn_user_ip`,`sn_wiki`))
SELECT COUNT(*) FROM page;
CREATE TABLE categorylinks ( cl_from INTEGER NOT NULL REFERENCES page(page_id) ON DELETE CASCADE DEFERRABLE INITIALLY DEFERRED, cl_to TEXT NOT NULL, cl_sortkey TEXT NULL, cl_timestamp TIMESTAMPTZ NOT NULL, cl_sortkey_prefix TEXT NOT NULL DEFAULT '', cl_collation TEXT NOT NULL DEFAULT 0, cl_type TEXT NOT NULL DEFAULT 'page')
CREATE TABLE `wikia_images` ( `wiki_id` int(11) unsigned NOT NULL, `images` int(6) unsigned NOT NULL DEFAULT '0', `oldimage` int(6) unsigned NOT NULL DEFAULT '0', `filearchive` int(6) unsigned NOT NULL DEFAULT '0', `allimages` int(10) unsigned NOT NULL DEFAULT '0', PRIMARY KEY (`wiki_id`))
CREATE TABLE /*_*/valid_tag ( vt_tag varchar(255) NOT NULL PRIMARY KEY)
SELECT * FROM /*_*/user;
CREATE TABLE &mw_prefix.uploadstash (	us_id NUMBER NOT NULL, us_user NUMBER DEFAULT 0 NOT NULL,	us_key								VARCHAR2(255) NOT NULL,	us_orig_path 					VARCHAR2(255) NOT NULL,	us_path								VARCHAR2(255) NOT NULL,	us_source_type				VARCHAR2(50), us_timestamp TIMESTAMP(6) WITH TIME ZONE,	us_status							VARCHAR2(50) NOT NULL,	us_chunk_inx						NUMBER,	us_size								NUMBER NOT NULL,	us_sha1								VARCHAR2(32) NOT NULL,	us_mime								VARCHAR2(255), us_media_type VARCHAR2(32) DEFAULT NULL,	us_image_width				NUMBER,	us_image_height				NUMBER,	us_image_bits					NUMBER)
CREATE TABLE msg_resource( mr_resource VARCHAR(255) FOR BIT DATA NOT NULL, mr_lang VARCHAR(32) FOR BIT DATA NOT NULL, mr_blob CLOB(64K) INLINE LENGTH 4096 NOT NULL, mr_timestamp TIMESTAMP(3) NOT NULL)
CREATE TABLE page_restrictions ( pr_id INTEGER NOT NULL UNIQUE DEFAULT nextval('page_restrictions_pr_id_seq'), pr_page INTEGER NULL REFERENCES page (page_id) ON DELETE CASCADE DEFERRABLE INITIALLY DEFERRED, pr_type TEXT NOT NULL, pr_level TEXT NOT NULL, pr_cascade SMALLINT NOT NULL, pr_user INTEGER NULL, pr_expiry TIMESTAMPTZ NULL)
CREATE TABLE `mw_text` ( `old_id` int(10) unsigned NOT NULL AUTO_INCREMENT, `old_text` mediumblob NOT NULL, `old_flags` tinyblob NOT NULL, PRIMARY KEY (`old_id`))
select page_title from page where page_title like '%#%' LIMIT 10;
CREATE TABLE dataware.video_sanitization_failededit ( id INT unsigned NOT NULL AUTO_INCREMENT, city_id INT NOT NULL, city_name VARCHAR(255) NOT NULL, article_id INT NOT NULL, article_title VARCHAR(255) NOT NULL, article_namespace INT NOT NULL, rename_from VARCHAR(255) NOT NULL, rename_to VARCHAR(255) NOT NULL, primary key (id))
SELECT rev_id FROM $tbl_rev WHERE rev_page = $id
SELECT * FROM cur WHERE cur_namespace='4' AND cur_title='Snicker\'s_paradox'
CREATE TABLE user_former_groups ( ufg_user INTEGER NULL REFERENCES mwuser(user_id) ON DELETE CASCADE DEFERRABLE INITIALLY DEFERRED, ufg_group TEXT NOT NULL)
CREATE INDEX afh_user ON /*$wgDBprefix*/abuse_filter_history (afh_user);
CREATE TABLE &mw_prefix.querycachetwo ( qcc_type VARCHAR2(32) NOT NULL, qcc_value NUMBER DEFAULT 0 NOT NULL, qcc_namespace NUMBER DEFAULT 0 NOT NULL, qcc_title VARCHAR2(255), qcc_namespacetwo NUMBER DEFAULT 0 NOT NULL, qcc_titletwo VARCHAR2(255))
CREATE TABLE `langlinks` ( `ll_from` int(8) unsigned NOT NULL DEFAULT '0', `ll_lang` varchar(10) CHARACTER SET latin1 COLLATE latin1_bin NOT NULL DEFAULT '', `ll_title` varchar(255) CHARACTER SET latin1 COLLATE latin1_bin NOT NULL DEFAULT '', UNIQUE KEY `ll_from` (`ll_from`,`ll_lang`), KEY `ll_lang` (`ll_lang`,`ll_title`))
CREATE TABLE &mw_prefix.ipblocks ( ipb_id NUMBER NOT NULL, ipb_address VARCHAR2(255) NULL, ipb_user NUMBER DEFAULT 0 NOT NULL, ipb_by NUMBER DEFAULT 0 NOT NULL, ipb_by_text VARCHAR2(255) NULL, ipb_reason VARCHAR2(255) NOT NULL, ipb_timestamp TIMESTAMP(6) WITH TIME ZONE NOT NULL, ipb_auto CHAR(1) DEFAULT '0' NOT NULL, ipb_anon_only CHAR(1) DEFAULT '0' NOT NULL, ipb_create_account CHAR(1) DEFAULT '1' NOT NULL, ipb_enable_autoblock CHAR(1) DEFAULT '1' NOT NULL, ipb_expiry TIMESTAMP(6) WITH TIME ZONE NOT NULL, ipb_range_start VARCHAR2(255), ipb_range_end VARCHAR2(255), ipb_deleted CHAR(1) DEFAULT '0' NOT NULL, ipb_block_email CHAR(1) DEFAULT '0' NOT NULL, ipb_allow_usertalk CHAR(1) DEFAULT '0' NOT NULL)
CREATE INDEX oi_name_archive_name ON oldimage (oi_name,oi_archive_name);
CREATE TABLE `user_login_history` ( `id` int(11) NOT NULL AUTO_INCREMENT, `user_id` int(5) unsigned NOT NULL, `city_id` int(9) unsigned DEFAULT '0', `ulh_timestamp` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP, `ulh_from` tinyint(4) DEFAULT '0', `ulh_rememberme` tinyint(4) DEFAULT NULL, PRIMARY KEY (`id`), KEY `idx_user_login_history_wikia_timestamp` (`city_id`,`user_id`,`ulh_timestamp`))
CREATE TABLE module_deps ( md_module VARCHAR(255) FOR BIT DATA NOT NULL, md_skin VARCHAR(32) FOR BIT DATA NOT NULL, md_deps CLOB(16M) INLINE LENGTH 4096 NOT NULL)
SELECT * FROM $table WHERE $keys[0] = '$prival')";
CREATE TABLE `multilookup` ( `ml_city_id` int(9) unsigned NOT NULL, `ml_ip` int(10) unsigned NOT NULL, `ml_count` int(6) unsigned NOT NULL DEFAULT '0', `ml_ts` timestamp NOT NULL DEFAULT '0000-00-00 00:00:00', PRIMARY KEY (`ml_city_id`,`ml_ip`), KEY `multilookup_ts_inx` (`ml_ip`,`ml_ts`), KEY `multilookup_cnt_ts_inx` (`ml_ip`,`ml_count`,`ml_ts`))
CREATE TABLE `user_mailing_list` ( `um_id` int(11) NOT NULL AUTO_INCREMENT, `um_user_id` int(11) NOT NULL DEFAULT '0', `um_user_name` varchar(255) NOT NULL, `um_type` int(11) NOT NULL DEFAULT '0', `um_status` int(11) NOT NULL DEFAULT '0', `um_timestamp` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP, PRIMARY KEY (`um_id`), KEY `um_user_id` (`um_user_id`))
CREATE TABLE logging ( log_id INTEGER NOT NULL PRIMARY KEY DEFAULT nextval('logging_log_id_seq'), log_type TEXT NOT NULL, log_action TEXT NOT NULL, log_timestamp TIMESTAMPTZ NOT NULL, log_user INTEGER REFERENCES mwuser(user_id) ON DELETE SET NULL DEFERRABLE INITIALLY DEFERRED, log_namespace SMALLINT NOT NULL, log_title TEXT NOT NULL, log_comment TEXT, log_params TEXT, log_deleted SMALLINT NOT NULL DEFAULT 0, log_user_text TEXT NOT NULL DEFAULT '', log_page INTEGER)
CREATE TABLE `wikia_hub_modules` ( `city_id` int NOT NULL DEFAULT 0, `lang_code` varchar(8) NOT NULL, `vertical_id` tinyint NOT NULL, /* in sync with comscore id (2-gaming, 3-entertainment, 9-lifestyle) */ `hub_date` date NOT NULL, `module_id` tinyint NOT NULL, `module_data` blob, `module_status` tinyint NOT NULL DEFAULT 1, /* in sync with CT statuses: 1-saved, 2-published */ `last_editor_id` int(11), `last_edit_timestamp` timestamp, PRIMARY KEY ( `lang_code`, `vertical_id`, `hub_date`, `module_id`, `city_id` ))
SELECT NAME FROM SYSIBM.SYSCOLUMNS WHERE TBNAME = '
SELECT * FROM interwiki', array() );
CREATE TABLE IF NOT EXISTS `ach_ranking_snapshots` (	`date` DATETIME NOT NULL ,	`data` TEXT NOT NULL)
CREATE INDEX af_user ON /*$wgDBprefix*/abuse_filter (af_user);
CREATE TABLE $page (			page_id int(8) unsigned NOT NULL auto_increment,			page_namespace int NOT NULL,			page_title varchar(255) binary NOT NULL,			page_restrictions tinyblob NOT NULL default '',			page_counter bigint(20) unsigned NOT NULL default '0',			page_is_redirect tinyint(1) unsigned NOT NULL default '0',			page_is_new tinyint(1) unsigned NOT NULL default '0',			page_random real unsigned NOT NULL,			page_touched char(14) binary NOT NULL default '',			page_latest int(8) unsigned NOT NULL,			page_len int(8) unsigned NOT NULL,			PRIMARY KEY page_id (page_id),			UNIQUE INDEX name_title (page_namespace,page_title),			INDEX (page_random),			INDEX (page_len)			)
CREATE TABLE `mw_page` ( `page_id` int(10) unsigned NOT NULL AUTO_INCREMENT, `page_namespace` int(11) NOT NULL, `page_title` varchar(255) CHARACTER SET latin1 COLLATE latin1_bin NOT NULL, `page_restrictions` tinyblob NOT NULL, `page_counter` bigint(20) unsigned NOT NULL DEFAULT '0', `page_is_redirect` tinyint(3) unsigned NOT NULL DEFAULT '0', `page_is_new` tinyint(3) unsigned NOT NULL DEFAULT '0', `page_random` double unsigned NOT NULL, `page_touched` binary(14) NOT NULL DEFAULT '\0\0\0\0\0\0\0\0\0\0\0\0\0\0', `page_latest` int(10) unsigned NOT NULL, `page_len` int(10) unsigned NOT NULL, PRIMARY KEY (`page_id`), UNIQUE KEY `name_title` (`page_namespace`,`page_title`), KEY `page_random` (`page_random`), KEY `page_len` (`page_len`))
CREATE TABLE `system_events` ( `ev_id` int(7) unsigned NOT NULL AUTO_INCREMENT, `ev_name` varchar(255) NOT NULL, `ev_user_id` int(9) unsigned NOT NULL DEFAULT '0', `ev_timestamp` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP, `ev_desc` text NOT NULL, `ev_hook` varchar(255) NOT NULL, `ev_hook_values` mediumtext NOT NULL, `ev_active` tinyint(3) NOT NULL DEFAULT '0', PRIMARY KEY (`ev_id`))
CREATE TABLE `wikia_rss_feeds` ( `wrf_wikia_id` int(10) unsigned NOT NULL, `wrf_page_id` int(10) unsigned NOT NULL, `wrf_url` varchar(255) DEFAULT NULL, `wrf_feed` char(20) NOT NULL DEFAULT '', `wrf_pub_date` datetime NOT NULL DEFAULT '0000-00-00 00:00:00', `wrf_title` varchar(255) DEFAULT NULL, `wrf_description` varchar(1024) DEFAULT NULL, `wrf_img_url` varchar(500) DEFAULT NULL, `wrf_img_width` int(5) DEFAULT NULL, `wrf_img_height` int(5) DEFAULT NULL, `wrf_ins_date` datetime NOT NULL DEFAULT '0000-00-00 00:00:00', `wrf_source` char(10) NOT NULL, PRIMARY KEY (`wrf_wikia_id`,`wrf_page_id`,`wrf_feed`,`wrf_pub_date`), KEY `fresh_content` (`wrf_feed`,`wrf_pub_date`), KEY `last_inserted` (`wrf_feed`,`wrf_source`,`wrf_ins_date`))
CREATE TABLE `video_imagetable_backup` ( `id` int(11) NOT NULL AUTO_INCREMENT, `wiki_id` int(11) NOT NULL, `img_name` varchar(255) DEFAULT NULL, `img_metadata` mediumblob, `img_user` int(5) unsigned DEFAULT NULL, `img_user_text` varchar(255) DEFAULT NULL, `img_timestamp` char(14) DEFAULT NULL, PRIMARY KEY (`id`), KEY `vitb_wiki` (`wiki_id`))
CREATE TABLE valid_tag ( vt_tag TEXT NOT NULL PRIMARY KEY)
CREATE INDEX us_user_idx ON uploadstash (us_user);
CREATE TABLE querycachetwo ( qcc_type TEXT NOT NULL, qcc_value SMALLINT NOT NULL DEFAULT 0, qcc_namespace INTEGER NOT NULL DEFAULT 0, qcc_title TEXT NOT NULL DEFAULT '', qcc_namespacetwo INTEGER NOT NULL DEFAULT 0, qcc_titletwo TEXT NOT NULL DEFAULT '')
SELECT 1 FROM all_tables WHERE owner=$owner AND table_name=$table
CREATE TABLE `system_events_types` ( `et_id` int(7) unsigned NOT NULL AUTO_INCREMENT, `et_name` varchar(255) NOT NULL, `et_user_id` int(9) unsigned NOT NULL DEFAULT '0', `et_timestamp` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP, `et_desc` text NOT NULL, `et_active` tinyint(3) NOT NULL DEFAULT '1', PRIMARY KEY (`et_id`))
CREATE TABLE `user_fbconnect` ( `el_id` int(10) unsigned NOT NULL AUTO_INCREMENT, `user_fbid` bigint(20) unsigned NOT NULL, `user_id` int(10) unsigned NOT NULL, `time` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP, `user_fb_app_id` bigint(20) DEFAULT '0', `user_fb_biz_token` varchar(255) DEFAULT '', PRIMARY KEY (`el_id`), UNIQUE KEY `user_id` (`user_id`,`user_fb_app_id`), UNIQUE KEY `user_fbid` (`user_fbid`,`user_fb_app_id`))
CREATE INDEX su_normname_idx ON /*$wgDBprefix*/spoofuser (su_normalized, su_name);
SELECT version FROM product_component_version WHERE UPPER(product) LIKE \'ORACLE DATABASE%\'' );
CREATE TABLE `externallinks` ( `el_id` int(10) unsigned NOT NULL AUTO_INCREMENT, `el_from` int(8) unsigned NOT NULL DEFAULT '0', `el_to` blob NOT NULL, `el_index` blob NOT NULL, PRIMARY KEY (`el_id`), KEY `el_from` (`el_from`,`el_to`(40)), KEY `el_to` (`el_to`(60),`el_from`), KEY `el_index` (`el_index`(60)))
CREATE TABLE /*$wgDBprefix*/revision ( rev_id INT NOT NULL UNIQUE IDENTITY, rev_page INT NOT NULL, rev_text_id INT NOT NULL, rev_comment NVARCHAR(max) NOT NULL, rev_user INT NOT NULL DEFAULT 0 /*REFERENCES [user](user_id)*/, rev_user_text NVARCHAR(255) NOT NULL DEFAULT '', rev_timestamp DATETIME NOT NULL DEFAULT GETDATE(), rev_minor_edit BIT NOT NULL DEFAULT 0, rev_deleted BIT NOT NULL DEFAULT 0, rev_len INT, rev_parent_id INT DEFAULT NULL,)
CREATE INDEX logging_times ON logging (log_timestamp);
CREATE TABLE `mw_category` ( `cat_id` int(10) unsigned NOT NULL AUTO_INCREMENT, `cat_title` varchar(255) CHARACTER SET latin1 COLLATE latin1_bin NOT NULL, `cat_pages` int(11) NOT NULL DEFAULT '0', `cat_subcats` int(11) NOT NULL DEFAULT '0', `cat_files` int(11) NOT NULL DEFAULT '0', `cat_hidden` tinyint(3) unsigned NOT NULL DEFAULT '0', PRIMARY KEY (`cat_id`), UNIQUE KEY `cat_title` (`cat_title`), KEY `cat_pages` (`cat_pages`))
CREATE TABLE category ( cat_id INTEGER NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY (START WITH 1), cat_title VARCHAR(255) NOT NULL, cat_pages INTEGER NOT NULL DEFAULT 0, cat_subcats INTEGER NOT NULL DEFAULT 0, cat_files INTEGER NOT NULL DEFAULT 0, cat_hidden SMALLINT NOT NULL DEFAULT 0)
CREATE TABLE interwiki ( iw_prefix VARCHAR(32) NOT NULL UNIQUE, iw_url CLOB(64K) INLINE LENGTH 4096 NOT NULL, iw_api CLOB(64K) INLINE LENGTH 4096 NOT NULL, iw_wikiid VARCHAR(64) NOT NULL, iw_local SMALLINT NOT NULL, iw_trans SMALLINT NOT NULL DEFAULT 0)
CREATE TABLE /*_*/templatelinks_tmp ( tl_from int unsigned NOT NULL default 0, tl_namespace int NOT NULL default 0, tl_title varchar(255) binary NOT NULL default '')
CREATE TABLE `category_user_edits` ( `cue_cat_id` int(10) unsigned NOT NULL, `cue_user_id` int(10) unsigned NOT NULL, `cue_count` int(10) unsigned NOT NULL, PRIMARY KEY (`cue_cat_id`,`cue_user_id`), KEY `cue_user_id` (`cue_user_id`,`cue_count`), KEY `cue_user_count` (`cue_cat_id`,`cue_count`), KEY `cat_user` (`cue_cat_id`,`cue_user_id`))
CREATE INDEX abuse_filter_history_user_text ON abuse_filter_history(afh_user_text);
CREATE INDEX ts2_page_text ON pagecontent 
CREATE TABLE `text` ( `old_id` int(8) unsigned NOT NULL AUTO_INCREMENT, `old_namespace` tinyint(2) unsigned NOT NULL DEFAULT '0', `old_title` varchar(255) CHARACTER SET latin1 COLLATE latin1_bin NOT NULL DEFAULT '', `old_text` mediumtext NOT NULL, `old_comment` tinyblob NOT NULL, `old_user` int(5) unsigned NOT NULL DEFAULT '0', `old_user_text` varchar(255) CHARACTER SET latin1 COLLATE latin1_bin NOT NULL DEFAULT '', `old_timestamp` varchar(14) CHARACTER SET latin1 COLLATE latin1_bin NOT NULL DEFAULT '', `old_minor_edit` tinyint(1) NOT NULL DEFAULT '0', `old_flags` tinyblob NOT NULL, `inverse_timestamp` varchar(14) CHARACTER SET latin1 COLLATE latin1_bin NOT NULL DEFAULT '', PRIMARY KEY (`old_id`), KEY `old_timestamp` (`old_timestamp`), KEY `name_title_timestamp` (`old_namespace`,`old_title`,`inverse_timestamp`), KEY `user_timestamp` (`old_user`,`inverse_timestamp`), KEY `usertext_timestamp` (`old_user_text`,`inverse_timestamp`))
CREATE TABLE `scribe_log` ( `hostname` char(32) NOT NULL, `logdate` int(5) unsigned NOT NULL DEFAULT '0', `logcount` int(8) unsigned NOT NULL DEFAULT '0', `ts` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP, PRIMARY KEY (`hostname`,`logdate`), KEY `hostname_ts` (`hostname`,`ts`,`logdate`), KEY `logdate` (`logdate`,`logcount`))
create table /*$wgDBprefix*/testrun ( tr_id int not null auto_increment, tr_date char(14) binary, tr_mw_version blob, tr_php_version blob, tr_db_version blob, tr_uname blob, primary key (tr_id))
CREATE TABLE updatelog ( ul_key TEXT NOT NULL PRIMARY KEY, ul_value TEXT)
SELECT old_id FROM $tbl_txt WHERE old_id NOT IN ( $set )
CREATE TABLE IF NOT EXISTS `ach_user_counters` (	`user_id` int(5) unsigned NOT NULL,	`data` text NOT NULL,	PRIMARY KEY (`user_id`))
CREATE TABLE /\*\$wgDBprefix\*/(\w+)
CREATE TABLE `image_review_wikis` ( `wiki_id` int(11) NOT NULL, `top200` tinyint(1) DEFAULT NULL, PRIMARY KEY (`wiki_id`), KEY `top200` (`top200`))
SELECT * FROM cur WHERE cur_title='This_&_that,_WTF?!'
CREATE TABLE `mw_categorylinks` ( `cl_from` int(10) unsigned NOT NULL DEFAULT '0', `cl_to` varchar(255) CHARACTER SET latin1 COLLATE latin1_bin NOT NULL DEFAULT '', `cl_sortkey` varbinary(230) NOT NULL DEFAULT '', `cl_sortkey_prefix` varchar(255) CHARACTER SET latin1 COLLATE latin1_bin NOT NULL DEFAULT '', `cl_timestamp` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP, `cl_collation` varbinary(32) NOT NULL DEFAULT '', `cl_type` enum('page','subcat','file') NOT NULL DEFAULT 'page', UNIQUE KEY `cl_from` (`cl_from`,`cl_to`), KEY `cl_sortkey` (`cl_to`,`cl_type`,`cl_sortkey`,`cl_from`), KEY `cl_timestamp` (`cl_to`,`cl_timestamp`), KEY `cl_collation` (`cl_collation`))
update pages set page_title = %s  where page_id = %d
CREATE TABLE `city_domains` ( `city_id` int(9) NOT NULL, `city_domain` varchar(255) NOT NULL DEFAULT 'wikia.com', PRIMARY KEY (`city_id`,`city_domain`), UNIQUE KEY `city_domains_archive_idx_uniq` (`city_domain`), CONSTRAINT `city_domains_ibfk_1_archive` FOREIGN KEY (`city_id`) REFERENCES `city_list` (`city_id`) ON DELETE CASCADE ON UPDATE CASCADE)
CREATE TABLE /*_*/page_restrictions_tmp ( pr_page int NOT NULL, pr_type varbinary(60) NOT NULL, pr_level varbinary(60) NOT NULL, pr_cascade tinyint NOT NULL, pr_user int NULL, pr_expiry varbinary(14) NULL, pr_id int unsigned NOT NULL PRIMARY KEY AUTO_INCREMENT)
CREATE TABLE l10n_cache (	lc_lang 	TEXT	NOT NULL,	lc_key		TEXT	NOT NULL,	lc_value	TEXT	NOT NULL)
CREATE TABLE /*$wgDBprefix*/langlinks ( ll_from INT NOT NULL DEFAULT 0, ll_lang NVARCHAR(20) NOT NULL DEFAULT '', ll_title NVARCHAR(255) NOT NULL DEFAULT '', CONSTRAINT /*$wgDBprefix*/langlinks_pk PRIMARY KEY(ll_from, ll_lang),)
SELECT ug_user, ug_group		FROM /*_*/user_groups;
CREATE TABLE `searchdigest` ( `sd_wiki` int(9) unsigned NOT NULL, `sd_query` varchar(255) COLLATE utf8_unicode_ci NOT NULL, `sd_misses` int(9) unsigned NOT NULL, `sd_lastseen` date DEFAULT NULL, PRIMARY KEY (`sd_wiki`,`sd_query`), KEY `sd_wikimisses` (`sd_wiki`,`sd_misses`))
CREATE TABLE interwiki ( iw_prefix TEXT NOT NULL UNIQUE, iw_url TEXT NOT NULL, iw_local SMALLINT NOT NULL, iw_trans SMALLINT NOT NULL DEFAULT 0, iw_api TEXT NOT NULL DEFAULT '', iw_wikiid TEXT NOT NULL DEFAULT '')
CREATE TABLE flags_to_pages ( flag_id int unsigned NOT NULL AUTO_INCREMENT, wiki_id int unsigned NOT NULL , page_id int unsigned NOT NULL , flag_type_id int unsigned NOT NULL , CONSTRAINT flags_to_pages_pk PRIMARY KEY (flag_id))
SELECT * FROM test_table WHERE EXISTS ( SELECT * FROM second_table )';
CREATE TABLE `reviewed_content_logs` ( `wiki_id` int(10) unsigned NOT NULL, `page_id` int(10) unsigned NOT NULL, `revision_id` int(10) unsigned NOT NULL, `status` smallint(5) unsigned NOT NULL, `submit_user_id` int(10) unsigned NOT NULL, `submit_time` timestamp NOT NULL DEFAULT '0000-00-00 00:00:00', `review_user_id` int(10) unsigned NOT NULL, `review_start` timestamp NOT NULL DEFAULT '0000-00-00 00:00:00', `review_end` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP, `escalated` tinyint(1) NOT NULL DEFAULT '0', KEY `wiki_id_review_end_idx` (`wiki_id`,`review_end`))
CREATE TABLE &mw_prefix.external_user ( eu_local_id NUMBER NOT NULL, eu_external_id varchar2(255) NOT NULL)
CREATE TABLE `ach_ranking_snapshots` ( `wiki_id` int(9) NOT NULL, `date` datetime NOT NULL, `data` text COLLATE utf8_unicode_ci NOT NULL, UNIQUE KEY `wiki_id` (`wiki_id`))
CREATE TABLE `tv_series` ( `series_name` varchar(255) NOT NULL, `series_lang` varchar(5) NOT NULL, `series_lookup` varchar(255) NOT NULL, PRIMARY KEY (`series_name`,`series_lang`,`series_lookup`), KEY `series_lookup` (`series_lookup`))
CREATE INDEX cul_timestamp ON cu_log (cul_timestamp);
CREATE TABLE `mw_valid_tag` ( `vt_tag` varchar(255) NOT NULL, PRIMARY KEY (`vt_tag`))
CREATE TABLE `locks` ( `lock_id` int(11) NOT NULL AUTO_INCREMENT, `facility` varchar(255) NOT NULL, `host` varchar(255) NOT NULL, `process_id` int(11) NOT NULL, `created` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP, `reason` varchar(255) NOT NULL, PRIMARY KEY (`lock_id`))
CREATE TABLE &mw_prefix.hitcounter ( hc_id NUMBER NOT NULL)
CREATE TABLE &mw_prefix.user_groups ( ug_user NUMBER DEFAULT 0 NOT NULL, ug_group VARCHAR2(32) NOT NULL)
CREATE TABLE imagelinks ( il_from INTEGER NOT NULL REFERENCES page(page_id) ON DELETE CASCADE DEFERRABLE INITIALLY DEFERRED, il_to TEXT NOT NULL)
SELECT ct_page_id FROM city_used_tags WHERE ct_wikia_id = $wgCityId and ct_kind = 'youtube'
select rev_user from revision where rev_user not in ( select user_id from `wikicities_{$wgDBcluster}`.`user` )
CREATE TABLE `city_visualization_xwiki` ( `city_id` int(11) NOT NULL DEFAULT '0', `city_lang_code` char(8) NOT NULL DEFAULT 'en', `city_vertical` int(11) DEFAULT NULL, `city_headline` varchar(255) DEFAULT NULL, `city_description` text, `city_flags` smallint(8) DEFAULT '0', PRIMARY KEY (`city_id`,`city_lang_code`), KEY `cvx_cid_cf_ce` (`city_id`,`city_flags`), CONSTRAINT `city_visualization_xwiki_ibfk_1` FOREIGN KEY (`city_id`) REFERENCES `city_list` (`city_id`) ON DELETE CASCADE)
SELECT * FROM /*_*/user_groups;
CREATE TABLE `mw_updatelog` ( `ul_key` varchar(255) NOT NULL, `ul_value` blob, PRIMARY KEY (`ul_key`))
CREATE TABLE `mw_revision` ( `rev_id` int(10) unsigned NOT NULL AUTO_INCREMENT, `rev_page` int(10) unsigned NOT NULL, `rev_text_id` int(10) unsigned NOT NULL, `rev_comment` tinyblob NOT NULL, `rev_user` int(10) unsigned NOT NULL DEFAULT '0', `rev_user_text` varchar(255) CHARACTER SET latin1 COLLATE latin1_bin NOT NULL DEFAULT '', `rev_timestamp` binary(14) NOT NULL DEFAULT '\0\0\0\0\0\0\0\0\0\0\0\0\0\0', `rev_minor_edit` tinyint(3) unsigned NOT NULL DEFAULT '0', `rev_deleted` tinyint(3) unsigned NOT NULL DEFAULT '0', `rev_len` int(10) unsigned DEFAULT NULL, `rev_parent_id` int(10) unsigned DEFAULT NULL, PRIMARY KEY (`rev_id`), UNIQUE KEY `rev_page_id` (`rev_page`,`rev_id`), KEY `rev_timestamp` (`rev_timestamp`), KEY `page_timestamp` (`rev_page`,`rev_timestamp`), KEY `user_timestamp` (`rev_user`,`rev_timestamp`), KEY `usertext_timestamp` (`rev_user_text`,`rev_timestamp`))
CREATE TABLE `messages_status` ( `msg_wiki_id` int(9) unsigned NOT NULL DEFAULT '0', `msg_recipient_id` int(10) unsigned NOT NULL DEFAULT '0', `msg_id` int(7) unsigned NOT NULL, `msg_status` tinyint(4) NOT NULL, `msg_date` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP, PRIMARY KEY (`msg_wiki_id`,`msg_recipient_id`,`msg_id`), KEY `msg_recipient_msg_id` (`msg_recipient_id`,`msg_id`), KEY `msg_id` (`msg_id`), KEY `msg_date_wiki` (`msg_date`,`msg_wiki_id`))
CREATE TABLE `mw_externallinks` ( `el_from` int(10) unsigned NOT NULL DEFAULT '0', `el_to` blob NOT NULL, `el_index` blob NOT NULL, KEY `el_from` (`el_from`,`el_to`(40)), KEY `el_to` (`el_to`(60),`el_from`), KEY `el_index` (`el_index`(60)))
CREATE TABLE &mw_prefix.recentchanges ( rc_id NUMBER NOT NULL, rc_timestamp TIMESTAMP(6) WITH TIME ZONE NOT NULL, rc_cur_time TIMESTAMP(6) WITH TIME ZONE NOT NULL, rc_user NUMBER DEFAULT 0 NOT NULL, rc_user_text VARCHAR2(255) NOT NULL, rc_namespace NUMBER DEFAULT 0 NOT NULL, rc_title VARCHAR2(255) NOT NULL, rc_comment VARCHAR2(255), rc_minor CHAR(1) DEFAULT '0' NOT NULL, rc_bot CHAR(1) DEFAULT '0' NOT NULL, rc_new CHAR(1) DEFAULT '0' NOT NULL, rc_cur_id NUMBER DEFAULT 0 NOT NULL, rc_this_oldid NUMBER DEFAULT 0 NOT NULL, rc_last_oldid NUMBER DEFAULT 0 NOT NULL, rc_type CHAR(1) DEFAULT '0' NOT NULL, rc_moved_to_ns NUMBER DEFAULT 0 NOT NULL, rc_moved_to_title VARCHAR2(255), rc_patrolled CHAR(1) DEFAULT '0' NOT NULL, rc_ip VARCHAR2(15), rc_old_len NUMBER, rc_new_len NUMBER, rc_deleted CHAR(1) DEFAULT '0' NOT NULL, rc_logid NUMBER DEFAULT 0 NOT NULL, rc_log_type VARCHAR2(255), rc_log_action VARCHAR2(255), rc_params CLOB)
CREATE TABLE `user_mssgstatus` ( `user_id` int(5) NOT NULL, `user_ip` varchar(40) NOT NULL DEFAULT '0', `user_mssg_id` int(11) NOT NULL DEFAULT '0', `user_mssg_status` smallint(6) NOT NULL, `user_mssg_timestamp` int(11) NOT NULL, PRIMARY KEY (`user_id`,`user_ip`,`user_mssg_id`))
CREATE TABLE /*$wgDBprefix*/abuse_filter_log (	afl_id BIGINT unsigned NOT NULL AUTO_INCREMENT,	afl_filter varchar(64) binary NOT NULL,	afl_user BIGINT unsigned NOT NULL,	afl_user_text varchar(255) binary NOT NULL,	afl_ip varchar(255) not null,	afl_action varbinary(255) not null,	afl_actions varbinary(255) not null,	afl_var_dump BLOB NOT NULL,	afl_timestamp binary(14) NOT NULL,	afl_namespace tinyint NOT NULL,	afl_title varchar(255) binary NOT NULL,	afl_wiki varchar(64) binary NULL,	afl_deleted tinyint(1) NOT NULL DEFAULT 0,	afl_patrolled_by int unsigned NULL,		PRIMARY KEY (afl_id),	KEY filter_timestamp (afl_filter,afl_timestamp),	KEY user_timestamp (afl_user,afl_user_text,afl_timestamp),	KEY (afl_timestamp),	KEY page_timestamp (afl_namespace, afl_title, afl_timestamp),	KEY ip_timestamp (afl_ip, afl_timestamp))
CREATE TABLE tag_summary ( ts_rc_id INTEGER, ts_log_id INTEGER, ts_rev_id INTEGER, ts_tags CLOB(64K) INLINE LENGTH 4096 NOT NULL)
select user_id, user_name from events_local_users where wiki_id = 878889;
select rc_title from recentchanges where rc_namespace = 501 and ( rc_title not rlike '.+[0-9]+$' or rc_title not like '%@comment%' );
CREATE TABLE `blog_listing_relation` ( `blr_relation` VARBINARY(255) NOT NULL DEFAULT '', `blr_title` VARBINARY(255) NOT NULL DEFAULT '', `blr_type` ENUM('cat','user'), UNIQUE KEY `wl_user` (`blr_relation`,`blr_title`,`blr_type`), KEY `type_relation` (`blr_relation`,`blr_type`))
CREATE TABLE /*_*/protected_titles ( pt_namespace int NOT NULL, pt_title varchar(255) binary NOT NULL, pt_user int unsigned NOT NULL, pt_reason tinyblob, pt_timestamp binary(14) NOT NULL, pt_expiry varbinary(14) NOT NULL default '', pt_create_perm varbinary(60) NOT NULL)
CREATE TABLE titlekey ( tk_page INTEGER NOT NULL PRIMARY KEY, tk_namespace SMALLINT NOT NULL, tk_key TEXT NOT NULL)
CREATE INDEX user_email_token_idx ON mwuser (user_email_token);
CREATE TABLE `city_visualization` ( `id` int(11) NOT NULL AUTO_INCREMENT, `city_id` int(11) DEFAULT NULL, `city_lang_code` char(8) NOT NULL DEFAULT 'en', `city_vertical` int(11) DEFAULT NULL, `city_headline` varchar(255) DEFAULT NULL, `city_description` text, `city_main_image` varchar(255) DEFAULT NULL, `city_flags` smallint(8) DEFAULT '0', `city_images` text, PRIMARY KEY (`id`), KEY `cv_cid_cf_ce` (`city_id`,`city_flags`), CONSTRAINT `city_visualization_ibfk_1` FOREIGN KEY (`city_id`) REFERENCES `city_list` (`city_id`) ON DELETE CASCADE)
CREATE INDEX globalimagelinks_wiki_nsid_title ON globalimagelinks (gil_wiki, gil_page_namespace_id, gil_page_title);
SELECT tablename FROM pg_tables WHERE schemaname = $eschema
SELECT table_name FROM all_tables WHERE owner='$owner' AND table_name NOT LIKE '%!_IDX\$_' ESCAPE '!' $listWhere
CREATE TABLE tag_summary ( ts_rc_id INTEGER NULL, ts_log_id INTEGER NULL, ts_rev_id INTEGER NULL, ts_tags TEXT NOT NULL)
Create table row			if ( $i % 3 == 0 )
CREATE TABLE watchlist2 ( wl_user int unsigned NOT NULL, wl_namespace int unsigned NOT NULL default '0', wl_title varchar(255) binary NOT NULL default '', UNIQUE KEY (wl_user, wl_namespace, wl_title))
SELECT user_id FROM \"user\" WHERE user_name='Slash\'s Dot'
CREATE TABLE &mw_prefix.externallinks ( el_from NUMBER NOT NULL, el_to VARCHAR2(2048) NOT NULL, el_index VARCHAR2(2048) NOT NULL)
CREATE TABLE `founder_emails_event` ( `feev_id` int(11) NOT NULL AUTO_INCREMENT, `feev_wiki_id` int(11) NOT NULL, `feev_timestamp` varchar(14) DEFAULT NULL, `feev_type` varchar(32) DEFAULT NULL, `feev_data` blob NOT NULL, PRIMARY KEY (`feev_id`), KEY `feev_wiki_id` (`feev_wiki_id`))
CREATE TABLE `user_history` ( `user_id` int(5) unsigned NOT NULL, `user_name` varchar(255) CHARACTER SET latin1 COLLATE latin1_bin NOT NULL DEFAULT '', `user_real_name` varchar(255) CHARACTER SET latin1 COLLATE latin1_bin NOT NULL DEFAULT '', `user_password` tinyblob NOT NULL, `user_newpassword` tinyblob NOT NULL, `user_email` tinytext NOT NULL, `user_options` blob NOT NULL, `user_touched` varchar(14) CHARACTER SET latin1 COLLATE latin1_bin NOT NULL DEFAULT '', `user_token` varchar(32) CHARACTER SET latin1 COLLATE latin1_bin NOT NULL DEFAULT '', `uh_timestamp` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP, KEY `user_name` (`user_name`(10)), KEY `idx_user_history_timestamp` (`uh_timestamp`), KEY `idx_user_id` (`user_id`))
SELECT cl_from FROM categorylinks WHERE cl_to = " . $dbr->addQuotes( $name ) . " " . ( count( $result ) > 0 ? " AND cl_from NOT IN (" . $resultEscaped . ") " : "" ) . " LIMIT 
select * from event_type_details ;
CREATE TABLE flags_types ( flag_type_id int unsigned NOT NULL AUTO_INCREMENT, wiki_id int unsigned NOT NULL , flag_group smallint unsigned NOT NULL , flag_name varchar(128) NOT NULL , flag_view varchar(255) NOT NULL , flag_targeting tinyint unsigned NOT NULL , flag_params_names text NULL , CONSTRAINT flags_types_pk PRIMARY KEY (flag_type_id))
SELECT * FROM test_table WHERE test_column = ?';
select rev_text_id from revision);
CREATE TABLE `city_tag` ( `id` int(8) unsigned NOT NULL AUTO_INCREMENT, `name` varchar(255) DEFAULT NULL, PRIMARY KEY (`id`), UNIQUE KEY `city_tag_name_uniq` (`name`))
CREATE TABLE IF NOT EXISTS `shared_newtalks` ( `sn_user_id` int(5) unsigned default NULL, `sn_user_ip` varchar(255) default '', `sn_wiki` varchar(31) default NULL, `sn_date` timestamp NOT NULL default CURRENT_TIMESTAMP on update CURRENT_TIMESTAMP, KEY `sn_user_id_sn_user_ip_sn_wiki_idx` (`sn_user_id`,`sn_user_ip`,`sn_wiki`))
CREATE TABLE /*_*/page_props ( pp_page int NOT NULL, pp_propname varbinary(60) NOT NULL, pp_value blob NOT NULL)
SELECT 1 FROM pg_catalog.pg_class c, pg_catalog.pg_namespace n 
CREATE INDEX cul_target_hex ON cu_log (cul_target_hex);
CREATE TABLE `image_sync_done` ( `id` int(8) NOT NULL AUTO_INCREMENT `city_id` int(8) unsigned NOT NULL, `img_action` varchar(32) NOT NULL, `img_src` blob, `img_dest` blob, `img_added` datetime DEFAULT NULL, `img_sync` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP, `img_error` smallint(4) unsigned NOT NULL DEFAULT '0', PRIMARY KEY (`id`), KEY `city_id` (`city_id`,`img_sync`))
CREATE TABLE `abuse_filter_action` ( `afa_filter` bigint(20) unsigned NOT NULL, `afa_consequence` varchar(255) NOT NULL, `afa_parameters` tinyblob NOT NULL, PRIMARY KEY (`afa_filter`,`afa_consequence`), KEY `afa_consequence` (`afa_consequence`))
CREATE TABLE $1 ( cl_from int(8) unsigned NOT NULL default '0', cl_to varchar(255) binary NOT NULL default '', cl_sortkey varchar(86) binary NOT NULL default '', cl_timestamp timestamp NOT NULL, UNIQUE KEY cl_from(cl_from,cl_to), KEY cl_sortkey(cl_to,cl_sortkey), KEY cl_timestamp(cl_to,cl_timestamp))
CREATE TABLE /*$wgDBprefix*/abuse_filter (	af_id BIGINT unsigned NOT NULL AUTO_INCREMENT,	af_pattern BLOB NOT NULL,	af_user BIGINT unsigned NOT NULL,	af_user_text varchar(255) binary NOT NULL,	af_timestamp binary(14) NOT NULL,	af_enabled tinyint(1) not null default 1,	af_comments BLOB,	af_public_comments TINYBLOB,	af_hidden tinyint(1) not null default 0,	af_hit_count bigint not null default 0,	af_throttled tinyint(1) NOT NULL default 0,	af_deleted tinyint(1) NOT NULL DEFAULT 0,	af_actions varchar(255) NOT NULL DEFAULT '',	af_global tinyint(1) NOT NULL DEFAULT 0)
CREATE TABLE /*_*/user_former_groups_tmp ( ug_user int unsigned NOT NULL default 0, ug_group varbinary(32) NOT NULL default '')
CREATE TABLE `global_watchlist` ( `gwa_user_id` int(11) DEFAULT NULL, `gwa_city_id` int(11) DEFAULT NULL, `gwa_namespace` int(11) DEFAULT NULL, `gwa_title` varchar(255) DEFAULT NULL, `gwa_rev_id` int(11) DEFAULT NULL, `gwa_timestamp` varchar(14) DEFAULT NULL, `gwa_rev_timestamp` varchar(14) DEFAULT NULL, UNIQUE KEY `wikia_user` (`gwa_city_id`,`gwa_user_id`,`gwa_namespace`,`gwa_title`), KEY `user_id` (`gwa_user_id`), KEY `user_city_id` (`gwa_user_id`,`gwa_city_id`))
CREATE TABLE hitcounter ( hc_id BIGINT NOT NULL)
CREATE TABLE /*$wgDBprefix*/oaiaudit ( oa_client INTEGER, oa_timestamp VARCHAR(14), oa_dbname VARCHAR(32), oa_response_size INTEGER, oa_ip VARCHAR(32), oa_agent TEXT, oa_request TEXT, KEY (oa_client,oa_timestamp), KEY (oa_timestamp,oa_client))
select page_title from redirect join page on page_id = rd_from where rd_namespace = 6 AND rd_title = "PRO_006_Breaker.png";
CREATE TABLE /*$wgDBprefix*/hitcounter ( hc_id INTEGER UNSIGNED NOT NULL)
CREATE TABLE IF NOT EXISTS `video_info` ( `video_title` varchar(255) CHARACTER SET latin1 COLLATE latin1_bin NOT NULL DEFAULT '', `video_id` varchar(255) NOT NULL DEFAULT '', `provider` varchar(255) DEFAULT NULL, `added_at` datetime NOT NULL DEFAULT '0000-00-00 00:00:00', `added_by` int(10) unsigned NOT NULL DEFAULT '0', `duration` int(10) unsigned NOT NULL DEFAULT '0', `premium` tinyint(1) NOT NULL DEFAULT '0', `hdfile` tinyint(1) NOT NULL DEFAULT '0', `removed` tinyint(1) NOT NULL DEFAULT '0', `featured` tinyint(1) NOT NULL DEFAULT '0', `views_7day` int(10) unsigned DEFAULT '0', `views_30day` int(10) unsigned DEFAULT '0', `views_total` int(10) unsigned DEFAULT '0', PRIMARY KEY (`video_title`), KEY `added_at` (`added_at`, `duration`), KEY `premium` (`premium`, `added_at`), KEY `hdfile` (`hdfile`, `added_at`), KEY `featured` (`featured`, `added_at`))
CREATE TABLE `ab_experiments` ( `id` int(11) NOT NULL AUTO_INCREMENT, `name` varchar(255) NOT NULL, `description` tinyblob, PRIMARY KEY (`id`), UNIQUE KEY `name` (`name`))
CREATE TABLE `spoofuser` ( `su_name` varchar(255) NOT NULL DEFAULT '', `su_normalized` varchar(255) DEFAULT NULL, `su_legal` tinyint(1) DEFAULT NULL, `su_error` text, `su_created` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP, PRIMARY KEY (`su_name`), KEY `su_normalized` (`su_normalized`,`su_name`))
SELECT 1 FROM information_schema.table_constraints 
CREATE TABLE `wikia_tasks` ( `task_id` int(11) NOT NULL AUTO_INCREMENT, `task_user_id` int(5) unsigned NOT NULL DEFAULT '0', `task_type` varchar(255) NOT NULL DEFAULT '', `task_priority` tinyint(4) NOT NULL DEFAULT '0', `task_status` tinyint(4) NOT NULL DEFAULT '0', `task_started` char(14) NOT NULL, `task_finished` char(14) NOT NULL, `task_arguments` text, `task_log` text, `task_added` char(14) NOT NULL, PRIMARY KEY (`task_id`), KEY `task_added_idx` (`task_added`), KEY `task_status` (`task_status`))
CREATE TABLE `wikia_homepage_collections` ( `id` int(8) unsigned NOT NULL AUTO_INCREMENT, `lang_code` varchar(8) NOT NULL, `sort` tinyint(2) unsigned NOT NULL DEFAULT '0', `name` varchar(255) NOT NULL, `sponsor_hero_image` varchar(255) DEFAULT NULL, `sponsor_image` varchar(255) DEFAULT NULL, `sponsor_url` varchar(255) DEFAULT NULL, `enabled` tinyint(1) unsigned NOT NULL DEFAULT '0', PRIMARY KEY (`id`), KEY `lang_code` (`lang_code`))
CREATE TABLE $1 ( ar_namespace int NOT NULL default '0', ar_title varchar(255) binary NOT NULL default '', ar_text mediumblob NOT NULL default '', ar_comment tinyblob NOT NULL default '', ar_user int(5) unsigned NOT NULL default '0', ar_user_text varchar(255) binary NOT NULL, ar_timestamp char(14) binary NOT NULL default '', ar_minor_edit tinyint(1) NOT NULL default '0', ar_flags tinyblob NOT NULL default '', ar_rev_id int(8) unsigned, ar_text_id int(8) unsigned, KEY name_title_timestamp (ar_namespace,ar_title,ar_timestamp))
CREATE TABLE &mw_prefix.change_tag ( ct_rc_id NUMBER NULL, ct_log_id NUMBER NULL, ct_rev_id NUMBER NULL, ct_tag VARCHAR2(255) NOT NULL, ct_params BLOB NULL)
CREATE TABLE `mw_imagelinks` ( `il_from` int(10) unsigned NOT NULL DEFAULT '0', `il_to` varchar(255) CHARACTER SET latin1 COLLATE latin1_bin NOT NULL DEFAULT '', UNIQUE KEY `il_from` (`il_from`,`il_to`), UNIQUE KEY `il_to` (`il_to`,`il_from`))
CREATE TABLE &mw_prefix.msg_resource_links ( mrl_resource VARCHAR2(255) NOT NULL, mrl_message VARCHAR2(255) NOT NULL)
CREATE TABLE `watchlist` ( `el_id` int(10) unsigned NOT NULL AUTO_INCREMENT, `wl_user` int(5) unsigned NOT NULL DEFAULT '0', `wl_namespace` int(11) NOT NULL, `wl_title` varchar(255) CHARACTER SET latin1 COLLATE latin1_bin NOT NULL DEFAULT '', `wl_notificationtimestamp` varchar(14) CHARACTER SET latin1 COLLATE latin1_bin DEFAULT NULL, `wl_wikia_addedtimestamp` timestamp NULL DEFAULT CURRENT_TIMESTAMP, PRIMARY KEY (`el_id`), UNIQUE KEY `wl_user` (`wl_user`,`wl_namespace`,`wl_title`), KEY `namespace_title` (`wl_namespace`,`wl_title`), KEY `wl_wikia_addedtimestamp` (`wl_wikia_addedtimestamp`))
CREATE TABLE /*$wgDBprefix*/interwiki ( iw_prefix NCHAR(32) NOT NULL PRIMARY KEY, iw_url NCHAR(127) NOT NULL, iw_api TEXT NOT NULL DEFAULT '', iw_wikiid NVARCHAR(64) NOT NULL DEFAULT '', iw_local BIT NOT NULL, iw_trans BIT NOT NULL DEFAULT 0,)
CREATE TABLE `revision` ( `rev_id` int(8) unsigned NOT NULL AUTO_INCREMENT, `rev_page` int(8) unsigned NOT NULL, `rev_comment` tinyblob NOT NULL, `rev_user` int(5) unsigned NOT NULL DEFAULT '0', `rev_user_text` varchar(255) CHARACTER SET latin1 COLLATE latin1_bin NOT NULL DEFAULT '', `rev_timestamp` char(14) CHARACTER SET latin1 COLLATE latin1_bin NOT NULL DEFAULT '', `rev_minor_edit` tinyint(1) unsigned NOT NULL DEFAULT '0', `rev_deleted` tinyint(1) unsigned NOT NULL DEFAULT '0', `rev_text_id` int(8) unsigned NOT NULL, `rev_len` int(10) unsigned DEFAULT NULL, `rev_parent_id` int(10) unsigned DEFAULT NULL, `rev_sha1` varbinary(32) NOT NULL DEFAULT '', PRIMARY KEY (`rev_page`,`rev_id`), UNIQUE KEY `rev_id` (`rev_id`), KEY `rev_timestamp` (`rev_timestamp`), KEY `page_timestamp` (`rev_page`,`rev_timestamp`), KEY `user_timestamp` (`rev_user`,`rev_timestamp`), KEY `usertext_timestamp` (`rev_user_text`,`rev_timestamp`))
CREATE TABLE /*_*/objectcache ( keyname varbinary(255) NOT NULL default '' PRIMARY KEY, value mediumblob, exptime datetime)
CREATE TABLE `city_tag_map` ( `city_id` int(9) NOT NULL, `tag_id` int(8) unsigned NOT NULL, PRIMARY KEY (`city_id`,`tag_id`), KEY `tag_id` (`tag_id`), CONSTRAINT `city_tag_map_ibfk_1` FOREIGN KEY (`city_id`) REFERENCES `city_list` (`city_id`) ON DELETE CASCADE ON UPDATE CASCADE, CONSTRAINT `city_tag_map_ibfk_2` FOREIGN KEY (`tag_id`) REFERENCES `city_tag` (`id`) ON DELETE CASCADE ON UPDATE CASCADE)
CREATE INDEX user_newtalk_ip_idx ON user_newtalk (user_ip);
CREATE TABLE video_postmigrate_undo (	id INT(11) NOT NULL AUTO_INCREMENT,	wiki_id INT(11) NOT NULL,	entry_table VARCHAR(255) NOT NULL,	entry_id VARCHAR(255) NOT NULL,	entry_id_field VARCHAR(255) NOT NULL,	entry_ns_field VARCHAR(255) NOT NULL,	KEY `vpu_wiki_id` (wiki_id),	PRIMARY KEY (id))
CREATE TABLE `system_events_params` ( `ep_id` int(7) unsigned NOT NULL AUTO_INCREMENT, `ep_name` varchar(100) NOT NULL DEFAULT '', `ep_value` varchar(100) NOT NULL DEFAULT '', `ep_desc` text, `ep_user_id` int(9) unsigned NOT NULL DEFAULT '0', `ep_timestamp` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP, `ep_active` tinyint(3) NOT NULL DEFAULT '1', PRIMARY KEY (`ep_id`), KEY `ep_user_id` (`ep_user_id`), KEY `system_events_params_active` (`ep_active`))
CREATE TABLE `chatlog` (	`wiki_id` int(8) unsigned NOT NULL,	`user_id` int(8) unsigned NOT NULL,	`log_id` int(8) unsigned NOT NULL AUTO_INCREMENT,	`event_type` tinyint(2) unsigned NOT NULL DEFAULT '6',	`event_date` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,	PRIMARY KEY (`log_id`),	KEY `wikilog` (`wiki_id`,`log_id`),	KEY `event_date` (`wiki_id`,`event_date`),	KEY `users` (`user_id`,`wiki_id`,`event_type`),	KEY `wiki_users` (`wiki_id`,`user_id`))
CREATE TABLE /*_*/searchindex ( si_page int unsigned NOT NULL, si_title varchar(255) NOT NULL default '', si_text mediumtext NOT NULL)
CREATE TABLE /*$wgDBprefix*/oldimage ( oi_name VARCHAR(255) NOT NULL DEFAULT '', oi_archive_name VARCHAR(255) NOT NULL DEFAULT '', oi_size INT NOT NULL DEFAULT 0, oi_width INT NOT NULL DEFAULT 0, oi_height INT NOT NULL DEFAULT 0, oi_bits SMALLINT NOT NULL DEFAULT 0, oi_description NVARCHAR(MAX) NOT NULL, oi_user INT NOT NULL DEFAULT 0, oi_user_text VARCHAR(255) NOT NULL DEFAULT '', oi_timestamp DATETIME NOT NULL DEFAULT GETDATE(), oi_metadata TEXT NOT NULL, oi_media_type NVARCHAR(MAX) DEFAULT 'UNKNOWN', oi_major_mime NVARCHAR(MAX) NOT NULL DEFAULT 'UNKNOWN', oi_minor_mime NVARCHAR(MAX) NOT NULL DEFAULT 'unknown', oi_deleted BIT NOT NULL default 0, oi_sha1 VARCHAR(255) NOT NULL default '',)
CREATE TABLE msg_resource (	mr_resource TEXT NOT NULL,	mr_lang		TEXT NOT NULL,	mr_blob		TEXT NOT NULL,	mr_timestamp	TIMESTAMPTZ NOT NULL)
SELECT * FROM /*_*/langlinks;
CREATE TABLE `blobs` ( `blob_id` int(10) NOT NULL AUTO_INCREMENT, `rev_wikia_id` int(8) unsigned NOT NULL, `rev_id` int(10) unsigned DEFAULT NULL, `rev_page_id` int(10) unsigned NOT NULL, `rev_namespace` int(10) unsigned NOT NULL DEFAULT '0', `rev_user` int(10) unsigned NOT NULL DEFAULT '0', `rev_user_text` varchar(255) CHARACTER SET latin1 COLLATE latin1_bin NOT NULL DEFAULT '', `rev_timestamp` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP, `blob_text` mediumtext NOT NULL, `rev_flags` tinyblob, `rev_ip` int(10) unsigned DEFAULT NULL, PRIMARY KEY (`blob_id`), KEY `rev_page_id` (`rev_wikia_id`,`rev_page_id`,`rev_id`), KEY `rev_namespace` (`rev_wikia_id`,`rev_page_id`,`rev_namespace`), KEY `rev_user` (`rev_wikia_id`,`rev_user`,`rev_timestamp`), KEY `rev_user_text` (`rev_wikia_id`,`rev_user_text`,`rev_timestamp`), KEY `blobs_rev_timestamp` (`rev_timestamp`), KEY `rev_ip` (`rev_ip`))
CREATE TABLE /*$wgDBprefix*/user_newtalk ( user_id INT NOT NULL DEFAULT 0 REFERENCES /*$wgDBprefix*/[user](user_id) ON DELETE CASCADE, user_ip NVARCHAR(40) NOT NULL DEFAULT '', user_last_timestamp DATETIME NOT NULL DEFAULT '',)
CREATE TABLE `city_visualization_image_review_stats` ( `id` int(11) NOT NULL AUTO_INCREMENT, `reviewer_id` int(11) NOT NULL, `city_id` int(11) NOT NULL, `page_id` int(11) NOT NULL, `review_state` int(11) NOT NULL DEFAULT '0', `review_end` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP, PRIMARY KEY (`id`), KEY `reviewer_idx` (`reviewer_id`), KEY `stats_idx` (`reviewer_id`,`review_state`))
CREATE TABLE /*$wgDBprefix*/updatelog ( ul_key varchar(255) NOT NULL, PRIMARY KEY (ul_key))
CREATE TABLE searchindex ( si_page BIGINT NOT NULL, si_title VARCHAR(255) NOT NULL DEFAULT '', si_text CLOB NOT NULL)
CREATE TABLE `city_visualization_images_xwiki` ( `id` int(11) NOT NULL AUTO_INCREMENT, `city_id` int(11) NOT NULL, `city_lang_code` varchar(8) DEFAULT NULL, `image_type` int(11) DEFAULT '0', `image_index` int(11) DEFAULT '1', `image_name` varchar(255) NOT NULL, `image_review_status` tinyint(3) unsigned DEFAULT NULL, `last_edited` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP, `review_start` timestamp NOT NULL DEFAULT '0000-00-00 00:00:00', `review_end` timestamp NOT NULL DEFAULT '0000-00-00 00:00:00', `reviewer_id` int(11) DEFAULT NULL, PRIMARY KEY (`id`), KEY `city_visualization_images_xwiki_ifbk_1` (`city_id`), KEY `cvix_image_type` (`image_type`), KEY `cvix_image_review_status` (`image_review_status`), KEY `cvix_city_lang_code` (`city_lang_code`), CONSTRAINT `city_visualization_images_xwiki_ifbk_1` FOREIGN KEY (`city_id`) REFERENCES `city_visualization_xwiki` (`city_id`) ON DELETE CASCADE)
CREATE TABLE `chatlog` ( `wiki_id` int(8) unsigned NOT NULL, `user_id` int(8) unsigned NOT NULL, `log_id` int(8) unsigned NOT NULL AUTO_INCREMENT, `event_type` tinyint(2) unsigned NOT NULL DEFAULT '6', `event_date` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP, PRIMARY KEY (`log_id`), KEY `wikilog` (`wiki_id`,`log_id`), KEY `event_date` (`wiki_id`,`event_date`), KEY `users` (`user_id`,`wiki_id`,`event_type`), KEY `wiki_users` (`wiki_id`,`user_id`))
CREATE TABLE /*$wgDBprefix*/protected_titles ( pt_namespace int NOT NULL, pt_title varchar(255) binary NOT NULL, pt_user int unsigned NOT NULL, pt_reason tinyblob, pt_timestamp binary(14) NOT NULL, pt_expiry varbinary(14) NOT NULL default '', pt_create_perm varbinary(60) NOT NULL, PRIMARY KEY (pt_namespace,pt_title), KEY pt_timestamp (pt_timestamp))
CREATE INDEX abuse_filter_history_timestamp ON abuse_filter_history(afh_timestamp);
CREATE TABLE `mw_interwiki` ( `iw_prefix` varchar(32) NOT NULL, `iw_url` blob NOT NULL, `iw_api` blob NOT NULL, `iw_wikiid` varchar(64) NOT NULL, `iw_local` tinyint(1) NOT NULL, `iw_trans` tinyint(4) NOT NULL DEFAULT '0', UNIQUE KEY `iw_prefix` (`iw_prefix`))
CREATE TABLE `city_cats` ( `cat_id` int(9) NOT NULL auto_increment, `cat_name` varchar(255) default NULL, `cat_url` text, `cat_short` varchar(255) DEFAULT NULL, `cat_deprecated` boolean DEFAULT 0, `cat_active` boolean DEFAULT 0, PRIMARY KEY (`cat_id`), KEY `cat_name_idx` (`cat_name`))
CREATE TABLE `mw_module_deps` ( `md_module` varbinary(255) NOT NULL, `md_skin` varbinary(32) NOT NULL, `md_deps` mediumblob NOT NULL, UNIQUE KEY `md_module_skin` (`md_module`,`md_skin`))
CREATE TABLE job ( job_id BIGINT NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY (START WITH 1), job_cmd VARCHAR(255) NOT NULL, job_namespace SMALLINT NOT NULL, job_title VARCHAR(255) NOT NULL, job_params CLOB(64K) INLINE LENGTH 4096 NOT NULL)
CREATE TABLE `t_city_ads_backup` ( `r` int(11) NOT NULL AUTO_INCREMENT, `city_id` mediumint(9) NOT NULL, `ad_skin` varchar(15) NOT NULL DEFAULT 'monaco', `ad_lang` char(2) NOT NULL DEFAULT '', `ad_cat` char(4) NOT NULL DEFAULT '', `ad_pos` varchar(15) CHARACTER SET utf8 COLLATE utf8_unicode_ci NOT NULL, `ad_zone` mediumint(9) NOT NULL, `ad_server` char(1) NOT NULL DEFAULT 'L', `comment` varchar(255) NOT NULL DEFAULT '', `dbname` varchar(255) NOT NULL DEFAULT '', `ad_keywords` varchar(255) NOT NULL DEFAULT '', `domain` varchar(255) NOT NULL DEFAULT '', PRIMARY KEY (`r`), UNIQUE KEY `mainidx` (`city_id`,`ad_skin`,`ad_lang`,`ad_cat`,`ad_pos`) USING BTREE, KEY `lookupidx` (`city_id`,`ad_skin`), KEY `cityidx` (`city_id`), KEY `zoneidx` (`ad_zone`), KEY `posidx` (`ad_pos`), KEY `langidx` (`ad_lang`), KEY `skinidx` (`ad_skin`))
CREATE TABLE `rovi_episode_series` ( `series_id` int(10) unsigned NOT NULL, `program_id` int(10) unsigned NOT NULL DEFAULT '0', `season_program_id` int(10) unsigned DEFAULT NULL, `episode_title` varbinary(255) DEFAULT NULL, `episode_season_number` int(5) unsigned NOT NULL, `episode_season_sequence` int(5) unsigned NOT NULL, `episode_series_sequence` int(5) unsigned DEFAULT NULL, PRIMARY KEY (`series_id`,`program_id`), CONSTRAINT `rovi_episode_series_ibfk_1` FOREIGN KEY (`series_id`) REFERENCES `rovi_series` (`series_id`) ON DELETE CASCADE ON UPDATE NO ACTION)
CREATE TABLE parser_speed_wiki_rollup ( wiki_id INT NOT NULL, score NUMERIC(10,3), average_time NUMERIC(10,3), wikitext_size INT, html_size INT, PRIMARY KEY (wiki_id))
CREATE TABLE msg_resource_links( mrl_resource VARCHAR(255) FOR BIT DATA NOT NULL, mrl_message VARCHAR(255) FOR BIT DATA NOT NULL)
SELECT page_title FROM page JOIN page_props ON page_id=pp_page AND pp_propname='hiddencat' LIMIT 
CREATE TABLE `t_city_domains` ( `city_id` int(10) unsigned NOT NULL, `city_domain` varchar(255) NOT NULL DEFAULT 'wikia.com', PRIMARY KEY (`city_id`,`city_domain`), UNIQUE KEY `city_domains_idx_uniq` (`city_domain`))
CREATE TABLE uploadstash ( us_id INTEGER PRIMARY KEY NOT NULL DEFAULT nextval('uploadstash_us_id_seq'), us_user INTEGER, us_key TEXT, us_orig_path TEXT, us_path TEXT, us_source_type TEXT, us_timestamp TIMESTAMPTZ, us_status TEXT, us_chunk_inx INTEGER NULL, us_size INTEGER, us_sha1 TEXT, us_mime TEXT, us_media_type media_type DEFAULT NULL, us_image_width INTEGER, us_image_height INTEGER, us_image_bits INTEGER)
SELECT * FROM $links 
CREATE TABLE /*$wgDBprefix*/job ( job_id INT NOT NULL PRIMARY KEY, job_cmd NVARCHAR(200) NOT NULL DEFAULT '', job_namespace INT NOT NULL, job_title NVARCHAR(200) NOT NULL, job_params NVARCHAR(255) NOT NULL,)
select 1 from globalimagelinks where gil_to = 
CREATE TABLE `city_domains` ( `city_id` int(9) NOT NULL, `city_domain` varchar(255) NOT NULL default 'wikia.com', PRIMARY KEY (`city_id`,`city_domain`), UNIQUE KEY `city_domains_idx_uniq` (`city_domain`), CONSTRAINT `city_domains_ibfk_1` FOREIGN KEY (`city_id`) REFERENCES `city_list` (`city_id`) ON DELETE CASCADE ON UPDATE CASCADE)
CREATE INDEX us_timestamp_idx ON uploadstash (us_timestamp);
CREATE INDEX afl_page_timestamp ON /*$wgDBprefix*/abuse_filter_log (afl_namespace, afl_title, afl_timestamp);
CREATE TABLE `mw_searchindex` ( `si_page` int(10) unsigned NOT NULL, `si_title` varchar(255) NOT NULL DEFAULT '', `si_text` mediumtext NOT NULL, UNIQUE KEY `si_page` (`si_page`), FULLTEXT KEY `si_title` (`si_title`), FULLTEXT KEY `si_text` (`si_text`))
CREATE TABLE `city_variables` ( `cv_city_id` int(9) NOT NULL, `cv_variable_id` smallint(5) unsigned NOT NULL DEFAULT '0', `cv_value` text NOT NULL, PRIMARY KEY (`cv_variable_id`,`cv_city_id`), KEY `cv_city_id_archive` (`cv_city_id`), KEY `cv_variable_id` (`cv_variable_id`,`cv_value`(300)))
CREATE TABLE `mw_redirect` ( `rd_from` int(10) unsigned NOT NULL DEFAULT '0', `rd_namespace` int(11) NOT NULL DEFAULT '0', `rd_title` varchar(255) CHARACTER SET latin1 COLLATE latin1_bin NOT NULL DEFAULT '', `rd_interwiki` varchar(32) DEFAULT NULL, `rd_fragment` varchar(255) CHARACTER SET latin1 COLLATE latin1_bin DEFAULT NULL, PRIMARY KEY (`rd_from`), KEY `rd_ns_title` (`rd_namespace`,`rd_title`,`rd_from`))
CREATE TABLE site_stats ( ss_row_id BIGINT NOT NULL UNIQUE, ss_total_views BIGINT DEFAULT 0, ss_total_edits BIGINT DEFAULT 0, ss_good_articles BIGINT DEFAULT 0, ss_total_pages INTEGER DEFAULT -1, ss_users INTEGER DEFAULT -1, ss_active_users INTEGER DEFAULT -1, ss_admins INTEGER DEFAULT -1, ss_images INTEGER DEFAULT 0)
CREATE INDEX cul_type_target ON cu_log (cul_type,cul_target_id);
CREATE TABLE `mw_page_restrictions` ( `pr_page` int(11) NOT NULL, `pr_type` varbinary(60) NOT NULL, `pr_level` varbinary(60) NOT NULL, `pr_cascade` tinyint(4) NOT NULL, `pr_user` int(11) DEFAULT NULL, `pr_expiry` varbinary(14) DEFAULT NULL, `pr_id` int(10) unsigned NOT NULL AUTO_INCREMENT, PRIMARY KEY (`pr_id`), UNIQUE KEY `pr_pagetype` (`pr_page`,`pr_type`), KEY `pr_typelevel` (`pr_type`,`pr_level`), KEY `pr_level` (`pr_level`), KEY `pr_cascade` (`pr_cascade`))
CREATE TABLE querycachetwo ( qcc_type TEXT NOT NULL, qcc_value INTEGER NOT NULL DEFAULT 0, qcc_namespace INTEGER NOT NULL DEFAULT 0, qcc_title TEXT NOT NULL DEFAULT '', qcc_namespacetwo INTEGER NOT NULL DEFAULT 0, qcc_titletwo TEXT NOT NULL DEFAULT '')
create table lw_map (keyName VARCHAR(255), value TEXT, PRIMARY KEY(keyName))
CREATE TABLE `jobs_summary` ( `city_id` int(8) unsigned NOT NULL, `total` int(8) unsigned DEFAULT '0', `timestamp` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP, PRIMARY KEY (`city_id`))
CREATE TABLE `user_properties` ( `up_user` int(11) NOT NULL, `up_property` varbinary(255) DEFAULT NULL, `up_value` blob, UNIQUE KEY `user_properties_user_property` (`up_user`,`up_property`), KEY `user_properties_property` (`up_property`))
CREATE INDEX flags_on_pages_param_name_idx ON flags_params (param_name);
CREATE TABLE `system_events_text` ( `te_id` int(7) unsigned NOT NULL AUTO_INCREMENT, `te_ev_id` int(7) unsigned NOT NULL, `te_user_id` int(9) unsigned NOT NULL DEFAULT '0', `te_et_id` tinyint(3) NOT NULL DEFAULT '0', `te_title` mediumtext NOT NULL, `te_content` text NOT NULL, `te_timestamp` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP, PRIMARY KEY (`te_id`), KEY `te_ev_id` (`te_ev_id`,`te_et_id`))
SELECT column_name FROM all_cons_columns WHERE owner = \''.strtoupper($this->db->getDBname()).'\' AND constraint_name = \'MW_PAGE_RESTRICTIONS_PK\' AND rownum = 1' );
CREATE TABLE redirect ( rd_from INTEGER NOT NULL REFERENCES page(page_id) ON DELETE CASCADE DEFERRABLE INITIALLY DEFERRED, rd_namespace SMALLINT NOT NULL, rd_title TEXT NOT NULL, rd_interwiki TEXT NULL, rd_fragment TEXT NULL)
CREATE TABLE /*_*/imagelinks_tmp ( il_from int unsigned NOT NULL default 0, il_to varchar(255) binary NOT NULL default '')
CREATE TABLE IF NOT EXISTS founder_emails_event ( feev_id INT(11) NOT NULL AUTO_INCREMENT, feev_wiki_id INT(11) NOT NULL, feev_timestamp VARCHAR(14) default NULL, feev_type VARCHAR(32), feev_data BLOB NOT NULL, PRIMARY KEY (`feev_id`), KEY `feev_wiki_id` (`feev_wiki_id`))
SELECT fa_id,fa_storage_group,fa_storage_key FROM $tbl_arch
SELECT COUNT(*) FROM user;
select page_id,page_title from page where page_namespace = 0 order by page_latest desc limit ' . self::DEFAULT_RESULTS_NUMBER );
SELECT * FROM /*_*/watchlist;
CREATE TABLE /*_*/valid_tag (	vt_tag varchar(255) NOT NULL PRIMARY KEY)
CREATE TABLE /*$wgDBprefix*/change_tag ( ct_rc_id int NOT NULL default 0, ct_log_id int NOT NULL default 0, ct_rev_id int NOT NULL default 0, ct_tag varchar(255) NOT NULL, ct_params varchar(255) NOT NULL,)
CREATE TABLE &mw_prefix.page_restrictions ( pr_id NUMBER NOT NULL, pr_page NUMBER NOT NULL, pr_type VARCHAR2(255) NOT NULL, pr_level VARCHAR2(255) NOT NULL, pr_cascade NUMBER NOT NULL, pr_user NUMBER NULL, pr_expiry TIMESTAMP(6) WITH TIME ZONE NULL)
CREATE TABLE `profiling` ( `pf_count` int(11) NOT NULL DEFAULT '0', `pf_time` float NOT NULL DEFAULT '0', `pf_name` varchar(255) NOT NULL DEFAULT '', `pf_server` varchar(30) NOT NULL DEFAULT '', `pf_memory` float NOT NULL DEFAULT '0', UNIQUE KEY `pf_name_server` (`pf_name`,`pf_server`))
CREATE TABLE wall_history (	parent_page_id INT(8) UNSIGNED,	post_user_id INT(10) UNSIGNED,	post_user_ip INT UNSIGNED,	is_reply tinyint(1),	action tinyint(3),	metatitle varchar(201),	reason varchar(101),	parent_comment_id INT(8) UNSIGNED,	post_ns int(11) DEFAULT NULL,	comment_id INT(8) UNSIGNED,	revision_id INT(8) UNSIGNED,	deleted_or_removed tinyint(1) DEFAULT 0,	event_date timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP,	key `getByParentPage` (parent_page_id, event_date),	key `getByParentComment` (parent_comment_id, event_date),	key `addStatChangeAction` (comment_id) )
SELECT bl_from, 0, bl_to FROM /*$wgDBprefix*/brokenlinks;
CREATE TABLE ipblocks ( ipb_id INTEGER NOT NULL PRIMARY KEY DEFAULT nextval('ipblocks_ipb_id_seq'), ipb_address TEXT NULL, ipb_user INTEGER NULL REFERENCES mwuser(user_id) ON DELETE SET NULL DEFERRABLE INITIALLY DEFERRED, ipb_by INTEGER NOT NULL REFERENCES mwuser(user_id) ON DELETE CASCADE DEFERRABLE INITIALLY DEFERRED, ipb_by_text TEXT NOT NULL DEFAULT '', ipb_reason TEXT NOT NULL, ipb_timestamp TIMESTAMPTZ NOT NULL, ipb_auto SMALLINT NOT NULL DEFAULT 0, ipb_anon_only SMALLINT NOT NULL DEFAULT 0, ipb_create_account SMALLINT NOT NULL DEFAULT 1, ipb_enable_autoblock SMALLINT NOT NULL DEFAULT 1, ipb_expiry TIMESTAMPTZ NOT NULL, ipb_range_start TEXT, ipb_range_end TEXT, ipb_deleted SMALLINT NOT NULL DEFAULT 0, ipb_block_email SMALLINT NOT NULL DEFAULT 0, ipb_allow_usertalk SMALLINT NOT NULL DEFAULT 0)
CREATE TABLE `msg_resource` ( `mr_resource` varbinary(255) NOT NULL, `mr_lang` varbinary(32) NOT NULL, `mr_blob` mediumblob NOT NULL, `mr_timestamp` binary(14) NOT NULL, UNIQUE KEY `mr_resource_lang` (`mr_resource`,`mr_lang`))
create table ${1:table} (\n\		${2:columns}\n\	)
CREATE TABLE `mw_revision` ( `rev_id` int(10) unsigned NOT NULL AUTO_INCREMENT, `rev_page` int(10) unsigned NOT NULL, `rev_text_id` int(10) unsigned NOT NULL, `rev_comment` tinyblob NOT NULL, `rev_user` int(10) unsigned NOT NULL DEFAULT '0', `rev_user_text` varchar(255) CHARACTER SET latin1 COLLATE latin1_bin NOT NULL DEFAULT '', `rev_timestamp` binary(14) NOT NULL DEFAULT '\0\0\0\0\0\0\0\0\0\0\0\0\0\0', `rev_minor_edit` tinyint(3) unsigned NOT NULL DEFAULT '0', `rev_deleted` tinyint(3) unsigned NOT NULL DEFAULT '0', `rev_len` int(10) unsigned DEFAULT NULL, `rev_parent_id` int(10) unsigned DEFAULT NULL, PRIMARY KEY (`rev_id`), UNIQUE KEY `rev_page_id` (`rev_page`,`rev_id`), KEY `rev_timestamp` (`rev_timestamp`), KEY `page_timestamp` (`rev_page`,`rev_timestamp`), KEY `user_timestamp` (`rev_user`,`rev_timestamp`), KEY `usertext_timestamp` (`rev_user_text`,`rev_timestamp`))
SELECT * FROM /*_*/category;
UPDATE image SET img_user = %d, img_user_text = %d  WHERE img_user_text = 0
CREATE INDEX category_pages ON category(cat_pages);
CREATE index city_id on dataware.video_migration_log (wiki_id, action_time);
CREATE TABLE `advert_ads` ( `ad_id` int(10) unsigned NOT NULL AUTO_INCREMENT, `wiki_db` varchar(255) NOT NULL, `page_id` int(10) unsigned NOT NULL, `page_original_url` text NOT NULL COMMENT 'the url when the page was sponsored', `ad_link_url` text NOT NULL, `ad_link_text` varchar(255) NOT NULL, `ad_text` text NOT NULL, `ad_price` decimal(10,2) NOT NULL, `ad_months` int(11) NOT NULL COMMENT 'duration ad runs for', `user_email` tinyblob NOT NULL, `ad_status` int(11) NOT NULL COMMENT 'moderation status', `last_pay_date` date NOT NULL COMMENT 'last completed paypal payment', PRIMARY KEY (`ad_id`), KEY `wiki_db_page_id_ad_price` (`wiki_db`,`page_id`,`ad_price`))
CREATE INDEX abuse_filter_action_consequence ON abuse_filter_action(afa_consequence);
CREATE TABLE `mw_math` ( `math_inputhash` varbinary(16) NOT NULL, `math_outputhash` varbinary(16) NOT NULL, `math_html_conservativeness` tinyint(4) NOT NULL, `math_html` text, `math_mathml` text, UNIQUE KEY `math_inputhash` (`math_inputhash`))
SELECT cv_city_id, cv_value, city_title FROM `city_variables` LEFT JOIN `city_list` ON cv_city_id=city_id WHERE cv_variable_id=$cv_id
CREATE TABLE /*$wgDBprefix*/text ( old_id INT NOT NULL PRIMARY KEY clustered IDENTITY, old_text TEXT NOT NULL, old_flags NVARCHAR(255) NOT NULL,)
SELECT * FROM test_table WHERE NOT EXISTS ( SELECT * FROM second_table )';
CREATE TABLE `uw_campaigns` ( `campaign_id` smallint(5) unsigned NOT NULL AUTO_INCREMENT, `campaign_name` varchar(255) NOT NULL, `campaign_enabled` tinyint(4) NOT NULL DEFAULT '0', PRIMARY KEY (`campaign_id`), UNIQUE KEY `uw_campaigns_name` (`campaign_name`))
CREATE TABLE /*$wgDBprefix*/updatelog ( ul_key NVARCHAR(255) NOT NULL, PRIMARY KEY (ul_key))
CREATE TABLE `city_cat_mapping` ( `id` int(11) NOT NULL AUTO_INCREMENT, `city_id` int(11) DEFAULT NULL, `cat_id` int(11) DEFAULT NULL, PRIMARY KEY (`id`), KEY `city_id_idx` (`city_id`), KEY `cat_id_idx` (`cat_id`), CONSTRAINT `city_cat_mapping_ibfk_1` FOREIGN KEY (`city_id`) REFERENCES `city_list` (`city_id`) ON DELETE CASCADE ON UPDATE CASCADE)
SELECT wt_id, wt_class FROM widgets WHERE wt_level = 2 and wt_user = {$user_id}
CREATE TABLE /*$wgDBprefix*/querycache ( qc_type NCHAR(32) NOT NULL, qc_value INT NOT NULL DEFAULT '0', qc_namespace SMALLINT NOT NULL DEFAULT 0, qc_title NCHAR(255) NOT NULL DEFAULT '', CONSTRAINT /*$wgDBprefix*/qc_pk PRIMARY KEY (qc_type,qc_value))
CREATE TABLE `poll_info` ( `poll_id` varchar(32) NOT NULL DEFAULT '', `poll_txt` text, `poll_date` datetime DEFAULT NULL, `poll_title` varchar(255) DEFAULT NULL, `poll_domain` varchar(10) DEFAULT NULL, PRIMARY KEY (`poll_id`))
CREATE TABLE user_groups ( ug_user INTEGER NULL REFERENCES mwuser(user_id) ON DELETE CASCADE DEFERRABLE INITIALLY DEFERRED, ug_group TEXT NOT NULL)
SELECT el_from FROM '.$sExternalLinksTable.' WHERE ('.$sExternalLinksTable.'.el_from=page_id AND (';
CREATE TABLE log_search ( ls_field TEXT NOT NULL, ls_value TEXT NOT NULL, ls_log_id INTEGER NOT NULL DEFAULT 0, PRIMARY KEY (ls_field,ls_value,ls_log_id))
CREATE TABLE flags_params ( param_id int unsigned NOT NULL AUTO_INCREMENT, flag_id int unsigned NOT NULL , flag_type_id int unsigned NOT NULL , param_name varchar(128) NOT NULL , param_value text NULL , CONSTRAINT flags_params_pk PRIMARY KEY (param_id))
CREATE TABLE `ad_provider_value` ( `apv_id` smallint(5) unsigned NOT NULL AUTO_INCREMENT, `provider_id` tinyint(3) unsigned NOT NULL, `city_id` int(10) unsigned DEFAULT NULL, `keyname` varchar(25) DEFAULT NULL, `keyvalue` varchar(255) DEFAULT NULL, PRIMARY KEY (`apv_id`), UNIQUE KEY `city_id` (`city_id`,`keyname`,`keyvalue`), KEY `provider_id` (`provider_id`,`city_id`))
CREATE TABLE `ab_config` ( `id` int(11) NOT NULL, `updated` datetime NOT NULL, PRIMARY KEY (`id`))
CREATE TABLE pagelinks ( pl_from INTEGER NOT NULL REFERENCES page(page_id) ON DELETE CASCADE DEFERRABLE INITIALLY DEFERRED, pl_namespace SMALLINT NOT NULL, pl_title TEXT NOT NULL)
CREATE INDEX wl_user ON watchlist (wl_user);
CREATE TABLE `city_tag` (//	 `id` int(8) unsigned NOT NULL AUTO_INCREMENT,//	 `name` varchar(255) DEFAULT NULL,//	 PRIMARY KEY (`id`),//	 UNIQUE KEY `city_tag_name_uniq` (`name`)//	)
CREATE TABLE `links` ( `l_from` int(8) unsigned NOT NULL DEFAULT '0', `l_to` int(8) unsigned NOT NULL DEFAULT '0', UNIQUE KEY `l_from` (`l_from`,`l_to`), KEY `l_to` (`l_to`))
CREATE TABLE user_properties ( up_user INTEGER NULL REFERENCES mwuser(user_id) ON DELETE CASCADE DEFERRABLE INITIALLY DEFERRED, up_property TEXT NOT NULL, up_value TEXT)
CREATE TABLE &mw_prefix.updatelog ( ul_key VARCHAR2(255) NOT NULL, ul_value BLOB)
CREATE TABLE &mw_prefix.log_search ( ls_field VARCHAR2(32) NOT NULL, ls_value VARCHAR2(255) NOT NULL, ls_log_id NuMBER DEFAULT 0 NOT NULL)
CREATE INDEX logging_page_id_time ON logging (log_page, log_timestamp);
CREATE TABLE testrun ( tr_id INTEGER PRIMARY KEY NOT NULL DEFAULT nextval('testrun_id_seq'), tr_date TIMESTAMPTZ, tr_mw_version TEXT, tr_php_version TEXT, tr_db_version TEXT, tr_uname TEXT)
CREATE TABLE `mw_watchlist` ( `wl_user` int(10) unsigned NOT NULL, `wl_namespace` int(11) NOT NULL DEFAULT '0', `wl_title` varchar(255) CHARACTER SET latin1 COLLATE latin1_bin NOT NULL DEFAULT '', `wl_notificationtimestamp` varbinary(14) DEFAULT NULL, UNIQUE KEY `wl_user` (`wl_user`,`wl_namespace`,`wl_title`), KEY `namespace_title` (`wl_namespace`,`wl_title`))
CREATE TABLE /*$wgDBprefix*/user ( user_id INT NOT NULL PRIMARY KEY IDENTITY(0,1), user_name NVARCHAR(255) NOT NULL UNIQUE DEFAULT '', user_real_name NVARCHAR(255) NOT NULL DEFAULT '', user_password NVARCHAR(255) NOT NULL DEFAULT '', user_newpassword NVARCHAR(255) NOT NULL DEFAULT '', user_newpass_time DATETIME NULL, user_email NVARCHAR(255) NOT NULL DEFAULT '', user_options NVARCHAR(MAX) NOT NULL DEFAULT '', user_touched DATETIME NOT NULL DEFAULT GETDATE(), user_token NCHAR(32) NOT NULL DEFAULT '', user_email_authenticated DATETIME DEFAULT NULL, user_email_token NCHAR(32) DEFAULT '', user_email_token_expires DATETIME DEFAULT NULL, user_registration DATETIME DEFAULT NULL, user_editcount INT NULL)
CREATE TABLE `querycache_info` ( `qci_type` varchar(32) NOT NULL DEFAULT '', `qci_timestamp` char(14) NOT NULL DEFAULT '19700101000000', UNIQUE KEY `qci_type` (`qci_type`))
CREATE TABLE `system_events_data` ( `ed_id` int(7) unsigned NOT NULL AUTO_INCREMENT, `ed_city_id` int(7) unsigned NOT NULL, `ed_ev_id` int(7) unsigned NOT NULL DEFAULT '0', `ed_et_id` int(7) unsigned NOT NULL DEFAULT '0', `ed_user_id` int(9) unsigned NOT NULL DEFAULT '0', `ed_user_ip` varchar(20) NOT NULL DEFAULT '', `ed_field_id` varchar(255) DEFAULT '', `ed_timestamp` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP, PRIMARY KEY (`ed_id`), KEY `ed_city_id` (`ed_city_id`), KEY `ed_ev_id` (`ed_ev_id`,`ed_et_id`), KEY `ed_user_id` (`ed_user_id`))
SELECT * FROM test_table WHERE test_column IN ( NULL )';
CREATE INDEX hidden_on_timestamp ON hidden(hidden_on_timestamp);
CREATE TABLE `city_variables_pool` ( `cv_id` smallint(5) unsigned NOT NULL auto_increment, `cv_name` varchar(255) NOT NULL, `cv_description` text NOT NULL, `cv_variable_type` enum('integer','long','string','float','array','boolean','text','struct','hash') NOT NULL default 'integer', `cv_variable_group` tinyint(3) unsigned NOT NULL default '1', `cv_access_level` tinyint(3) unsigned NOT NULL default '1' COMMENT '1 - read only\n2 - admin writable\n3 - user writable\n', PRIMARY KEY (`cv_id`), UNIQUE KEY `idx_name_unique` (`cv_name`), KEY `name_unique` (`cv_name`))
CREATE TABLE `city_lang` ( `lang_id` mediumint(2) unsigned NOT NULL AUTO_INCREMENT, `lang_code` char(8) NOT NULL, `lang_name` varchar(255) NOT NULL, PRIMARY KEY (`lang_id`), KEY `lang_code_idx` (`lang_code`))
CREATE TABLE parser_speed_article_rollup ( wiki_id INT NOT NULL, article_id INT NOT NULL, page_ns INT NOT NULL, page_title VARCHAR(255) NOT NULL, average_time NUMERIC(10,3), wikitext_size INT, html_size INT)
CREATE INDEX afh_filter ON /*$wgDBprefix*/abuse_filter_history (afh_filter);
CREATE INDEX ppp_baid ON pp_payments (ppp_baid);
CREATE INDEX msg_recipient_msg_id ON messages_status (msg_recipient_id, msg_id);
CREATE TABLE `valid_tag` ( `vt_tag` varchar(255) NOT NULL, PRIMARY KEY (`vt_tag`))
CREATE TABLE `protected_titles` ( `pt_namespace` int(11) NOT NULL, `pt_title` varchar(255) CHARACTER SET latin1 COLLATE latin1_bin NOT NULL, `pt_user` int(10) unsigned NOT NULL, `pt_reason` tinyblob, `pt_timestamp` binary(14) NOT NULL, `pt_expiry` varbinary(14) NOT NULL DEFAULT '', `pt_create_perm` varbinary(60) NOT NULL, PRIMARY KEY (`pt_namespace`,`pt_title`), KEY `pt_timestamp` (`pt_timestamp`))
CREATE TABLE /*$wgDBprefix*/poll_info ( `poll_id` varchar(32) NOT NULL default '', `poll_txt` text, `poll_date` datetime default NULL, `poll_title` varchar(255) default NULL, `poll_domain` varchar(10) default NULL, PRIMARY KEY (`poll_id`))
CREATE TABLE `imagelinks` ( `il_from` int(8) unsigned NOT NULL DEFAULT '0', `il_to` varchar(255) CHARACTER SET latin1 COLLATE latin1_bin NOT NULL DEFAULT '', UNIQUE KEY `il_from` (`il_from`,`il_to`), UNIQUE KEY `il_to` (`il_to`,`il_from`))
CREATE TABLE `wikiastaff_log` ( `slog_id` int(10) unsigned NOT NULL AUTO_INCREMENT, `slog_type` varbinary(10) NOT NULL DEFAULT '', `slog_action` varbinary(10) NOT NULL DEFAULT '', `slog_timestamp` binary(14) NOT NULL DEFAULT '19700101000000', `slog_user` int(10) unsigned NOT NULL DEFAULT '0', `slog_userdst` int(10) unsigned NOT NULL DEFAULT '0', `slog_comment` blob, `slog_params` blob, `slog_deleted` tinyint(3) unsigned NOT NULL DEFAULT '0', `slog_site` varbinary(200) DEFAULT NULL, `slog_user_name` varbinary(255) NOT NULL, `slog_user_namedst` varbinary(255) NOT NULL, `slog_city` int(11) DEFAULT NULL, PRIMARY KEY (`slog_id`), KEY `slog_time` (`slog_timestamp`))
CREATE INDEX logging_user_type_time ON logging (log_user, log_type, log_timestamp);
CREATE TABLE `mw_querycachetwo` ( `qcc_type` varbinary(32) NOT NULL, `qcc_value` int(10) unsigned NOT NULL DEFAULT '0', `qcc_namespace` int(11) NOT NULL DEFAULT '0', `qcc_title` varchar(255) CHARACTER SET latin1 COLLATE latin1_bin NOT NULL DEFAULT '', `qcc_namespacetwo` int(11) NOT NULL DEFAULT '0', `qcc_titletwo` varchar(255) CHARACTER SET latin1 COLLATE latin1_bin NOT NULL DEFAULT '', KEY `qcc_type` (`qcc_type`,`qcc_value`), KEY `qcc_title` (`qcc_type`,`qcc_namespace`,`qcc_title`), KEY `qcc_titletwo` (`qcc_type`,`qcc_namespacetwo`,`qcc_titletwo`))
CREATE TABLE `city_visualization_images` ( `id` int(11) NOT NULL AUTO_INCREMENT, `city_id` int(11) NOT NULL, `page_id` int(8) NOT NULL, `city_lang_code` varchar(8) DEFAULT NULL, `image_index` int(11) DEFAULT '1', `image_name` varchar(255) NOT NULL, `image_review_status` tinyint(3) unsigned DEFAULT NULL, `last_edited` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP, `review_start` timestamp NOT NULL DEFAULT '0000-00-00 00:00:00', `review_end` timestamp NOT NULL DEFAULT '0000-00-00 00:00:00', `reviewer_id` int(11) DEFAULT NULL, PRIMARY KEY (`id`), KEY `city_visualization_images_ifbk_1` (`city_id`), KEY `cvi_image_review_status` (`image_review_status`), KEY `cvi_city_lang_code` (`city_lang_code`), CONSTRAINT `city_visualization_images_ifbk_1` FOREIGN KEY (`city_id`) REFERENCES `city_visualization` (`city_id`) ON DELETE CASCADE)
CREATE TABLE `user_mssgtext` ( `mssg_id` mediumint(9) NOT NULL AUTO_INCREMENT, `mssg_name` varchar(255) CHARACTER SET latin1 COLLATE latin1_bin NOT NULL, `mssg_lang` varchar(10) CHARACTER SET latin1 COLLATE latin1_bin NOT NULL, `mssg_avail` tinyint(1) NOT NULL DEFAULT '1', `mssg_text` mediumtext CHARACTER SET utf8 COLLATE utf8_bin NOT NULL, `mssg_comment` varchar(255) CHARACTER SET latin1 COLLATE latin1_bin DEFAULT NULL, PRIMARY KEY (`mssg_id`))
CREATE TABLE `city_variables` ( `cv_city_id` int(9) NOT NULL, `cv_variable_id` smallint(5) unsigned NOT NULL default '0', `cv_value` text NOT NULL, PRIMARY KEY (`cv_variable_id`,`cv_city_id`), KEY `cv_city_id` (`cv_city_id`), CONSTRAINT `city_variables_ibfk_1` FOREIGN KEY (`cv_variable_id`) REFERENCES `city_variables_pool` (`cv_id`) ON DELETE CASCADE ON UPDATE CASCADE, CONSTRAINT `city_variables_ibfk_2` FOREIGN KEY (`cv_city_id`) REFERENCES `city_list` (`city_id`) ON DELETE CASCADE ON UPDATE CASCADE)
SELECT * FROM /*_*/interwiki;
CREATE INDEX cl_sortkey ON /*_*/categorylinks (cl_to, cl_type, cl_sortkey, cl_from);
CREATE TABLE `phalanx_stats` ( `ps_id` int(11) NOT NULL AUTO_INCREMENT, `ps_blocker_id` int(8) unsigned NOT NULL, `ps_blocker_type` smallint(1) unsigned NOT NULL, `ps_timestamp` binary(14) NOT NULL DEFAULT '\0\0\0\0\0\0\0\0\0\0\0\0\0\0', `ps_blocked_user` varchar(255) CHARACTER SET utf8 COLLATE utf8_bin NOT NULL DEFAULT '', `ps_wiki_id` int(9) NOT NULL, `ps_blocker_hit` smallint(1) unsigned NOT NULL, `ps_referrer` varchar(150) DEFAULT NULL, PRIMARY KEY (`ps_id`), KEY `wiki_id` (`ps_wiki_id`,`ps_timestamp`), KEY `blocker_id` (`ps_blocker_id`,`ps_timestamp`), KEY `ps_timestamp` (`ps_timestamp`), KEY `ps_blocker_id` (`ps_blocker_id`))
CREATE INDEX job_timestamp_idx ON job (job_timestamp);
SELECT ID FROM LatestOrders )";
CREATE TABLE config ( cf_name VARCHAR(255) NOT NULL PRIMARY KEY, cf_value CLOB(64K) INLINE LENGTH 4096 NOT NULL)
CREATE INDEX afh_user_text ON /*$wgDBprefix*/abuse_filter_history (afh_user_text);
CREATE TABLE /*$wgDBprefix*/user_properties (	up_user INT NOT NULL,	up_property NVARCHAR(32) NOT NULL,	up_value NVARCHAR(MAX),)
CREATE INDEX id_index ON semantic_drilldown_values ( id )
CREATE TABLE &mw_prefix.logging ( log_id NUMBER NOT NULL, log_type VARCHAR2(10) NOT NULL, log_action VARCHAR2(10) NOT NULL, log_timestamp TIMESTAMP(6) WITH TIME ZONE NOT NULL, log_user NUMBER DEFAULT 0 NOT NULL, log_user_text 	VARCHAR2(255), log_namespace NUMBER DEFAULT 0 NOT NULL, log_title VARCHAR2(255) NOT NULL, log_page 				NUMBER, log_comment VARCHAR2(255), log_params CLOB, log_deleted CHAR(1) DEFAULT '0' NOT NULL)
CREATE TABLE math ( math_inputhash BYTEA NOT NULL UNIQUE, math_outputhash BYTEA NOT NULL, math_html_conservativeness SMALLINT NOT NULL, math_html TEXT, math_mathml TEXT)
select file from _dev_last_update order by ts desc limit 1
CREATE TABLE /*$wgDBprefix*/blobs (	blob_id integer UNSIGNED NOT NULL AUTO_INCREMENT,	blob_text longblob,	PRIMARY KEY (blob_id))
CREATE TABLE externallinks ( el_from INTEGER NOT NULL REFERENCES page(page_id) ON DELETE CASCADE DEFERRABLE INITIALLY DEFERRED, el_to TEXT NOT NULL, el_index TEXT NOT NULL)
CREATE TABLE $page (			page_id int(8) unsigned NOT NULL auto_increment,			page_namespace int NOT NULL,			page_title varchar(255) binary NOT NULL,			page_restrictions tinyblob NOT NULL,			page_counter bigint(20) unsigned NOT NULL default '0',			page_is_redirect tinyint(1) unsigned NOT NULL default '0',			page_is_new tinyint(1) unsigned NOT NULL default '0',			page_random real unsigned NOT NULL,			page_touched char(14) binary NOT NULL default '',			page_latest int(8) unsigned NOT NULL,			page_len int(8) unsigned NOT NULL,			PRIMARY KEY page_id (page_id),			UNIQUE INDEX name_title (page_namespace,page_title),			INDEX (page_random),			INDEX (page_len)			)
CREATE TABLE IF NOT EXISTS /*_*/dmca_request (	dmca_id INT unsigned NOT NULL AUTO_INCREMENT,	dmca_date timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP,	dmca_requestor_type TINYINT unsigned NOT NULL,	dmca_fullname VARCHAR(255) NOT NULL,	dmca_email VARCHAR(255) NOT NULL,	dmca_address VARCHAR(1000) NOT NULL,	dmca_telephone VARCHAR(20) NOT NULL DEFAULT '',	dmca_original_urls TEXT NOT NULL,	dmca_infringing_urls TEXT NOT NULL,	dmca_comments TEXT NOT NULL,	dmca_signature VARCHAR(255) NOT NULL,	dmca_ce_id INT unsigned,	PRIMARY KEY(`dmca_id`),	KEY dmca_date (`dmca_date`),	KEY dmca_email (`dmca_email`))
CREATE TABLE `blog_listing_relation` ( `blr_relation` varbinary(255) NOT NULL default '', `blr_title` varbinary(255) NOT NULL default '', `blr_type` enum('cat','user') default NULL, UNIQUE KEY `wl_user` (`blr_relation`,`blr_title`,`blr_type`), KEY `type_relation` (`blr_relation`,`blr_type`))
CREATE TABLE `city_tag_map` ( `city_id` int(9) NOT NULL, `tag_id` int(8) unsigned NOT NULL, PRIMARY KEY (`city_id`,`tag_id`), KEY `tag_id` (`tag_id`), CONSTRAINT `city_tag_map_ibfk_1` FOREIGN KEY (`city_id`) REFERENCES `city_list` (`city_id`) ON DELETE CASCADE ON UPDATE CASCADE, CONSTRAINT `city_tag_map_ibfk_2` FOREIGN KEY (`tag_id`) REFERENCES `city_tag` (`id`) ON DELETE CASCADE ON UPDATE CASCADE)
CREATE TABLE `global_watchlist` ( `gwa_id` int(11) NOT NULL AUTO_INCREMENT, `gwa_user_id` int(11) DEFAULT NULL, `gwa_city_id` int(11) DEFAULT NULL, `gwa_namespace` int(11) DEFAULT NULL, `gwa_title` varchar(255) DEFAULT NULL, `gwa_rev_id` int(11) DEFAULT NULL, `gwa_timestamp` varchar(14) DEFAULT NULL, PRIMARY KEY (`gwa_id`), KEY `user_id` (`gwa_user_id`))
CREATE TABLE `site_stats` ( `ss_row_id` int(8) unsigned NOT NULL DEFAULT '0', `ss_total_views` bigint(20) unsigned DEFAULT '0', `ss_total_edits` bigint(20) unsigned DEFAULT '0', `ss_good_articles` bigint(20) unsigned DEFAULT '0', `ss_total_pages` bigint(20) DEFAULT '-1', `ss_users` bigint(20) DEFAULT '-1', `ss_admins` int(10) DEFAULT '-1', `ss_images` int(10) DEFAULT '0', `ss_active_users` bigint(20) DEFAULT '-1', UNIQUE KEY `ss_row_id` (`ss_row_id`))
CREATE TABLE /*_*/user_groups_tmp ( ug_user int unsigned NOT NULL default 0, ug_group varbinary(16) NOT NULL default '')
CREATE table `wikia_homepage_collections_city_visualization` (	`collection_id` int UNSIGNED NOT NULL,	`city_id` int UNSIGNED NOT NULL,	PRIMARY KEY (`city_id`,`collection_id`),	CONSTRAINT `fk_wikia_homepage_collections` FOREIGN KEY (`collection_id`) REFERENCES `wikia_homepage_collections` (`id`) ON DELETE CASCADE)
select pl_title from pagelinks where pl_from = $wgControlPageID
SELECT 1 FROM $table LIMIT 1
CREATE TABLE `change_tag` ( `ct_rc_id` int(11) DEFAULT NULL, `ct_log_id` int(11) DEFAULT NULL, `ct_rev_id` int(11) DEFAULT NULL, `ct_tag` varchar(255) NOT NULL, `ct_params` blob, UNIQUE KEY `change_tag_rc_tag` (`ct_rc_id`,`ct_tag`), UNIQUE KEY `change_tag_log_tag` (`ct_log_id`,`ct_tag`), UNIQUE KEY `change_tag_rev_tag` (`ct_rev_id`,`ct_tag`), KEY `change_tag_tag_id` (`ct_tag`,`ct_rc_id`,`ct_rev_id`,`ct_log_id`))
CREATE TABLE /*$wgDBprefix*/imagelinks ( il_from INT NOT NULL DEFAULT 0 REFERENCES /*$wgDBprefix*/page(page_id) ON DELETE CASCADE, il_to NVARCHAR(255) NOT NULL DEFAULT '', CONSTRAINT /*$wgDBprefix*/il_from PRIMARY KEY(il_from,il_to),)
CREATE TABLE `ab_experiment_versions` ( `id` int(11) NOT NULL AUTO_INCREMENT, `experiment_id` int(11) NOT NULL, `start_time` datetime NOT NULL, `end_time` datetime NOT NULL, `ga_slot` varchar(45) NOT NULL, `control_group_id` int(11) DEFAULT NULL, `flags` int(11) NOT NULL DEFAULT '3', PRIMARY KEY (`id`), KEY `experiment_id` (`experiment_id`), KEY `control_group_id` (`control_group_id`), CONSTRAINT `fk_version_control_group` FOREIGN KEY (`control_group_id`) REFERENCES `ab_experiment_groups` (`id`) ON DELETE SET NULL ON UPDATE CASCADE, CONSTRAINT `fk_version_experiment` FOREIGN KEY (`experiment_id`) REFERENCES `ab_experiments` (`id`) ON DELETE CASCADE ON UPDATE CASCADE)
CREATE TABLE `poll_message` ( `poll_id` varchar(32) NOT NULL DEFAULT '', `poll_user` varchar(255) NOT NULL DEFAULT '', `poll_ip` varchar(255) DEFAULT NULL, `poll_msg` varchar(255) DEFAULT NULL, `poll_date` datetime DEFAULT NULL, PRIMARY KEY (`poll_id`,`poll_user`))
CREATE TABLE /*$wgDBprefix*/abuse_filter_action (	afa_filter BIGINT unsigned NOT NULL,	afa_consequence varchar(255) NOT NULL,	afa_parameters TINYBLOB NOT NULL,	PRIMARY KEY (afa_filter,afa_consequence))
CREATE TABLE `webmaster_user_accounts` ( `user_id` smallint(5) unsigned NOT NULL DEFAULT '0', `user_name` varchar(255) DEFAULT NULL, `user_password` tinyblob, `wikis_number` smallint(5) unsigned NOT NULL DEFAULT '0', PRIMARY KEY (`user_id`))
CREATE TABLE /*$wgDBprefix*/testitem ( ti_run NUMBER NOT NULL REFERENCES &mw_prefix.testrun (tr_id) ON DELETE CASCADE, ti_name VARCHAR22(255), ti_success NUMBER(1))
CREATE TABLE `video_migration_log` ( `id` int(10) unsigned NOT NULL AUTO_INCREMENT, `action_time` char(14) NOT NULL, `wiki_id` int(11) NOT NULL, `action_name` varchar(255) NOT NULL, `action_status` varchar(255) NOT NULL, `action_desc` varchar(255) NOT NULL, `wiki_dbname` varchar(255) DEFAULT NULL, PRIMARY KEY (`id`), KEY `city_id` (`wiki_id`,`action_time`))
CREATE TABLE /*$wgDBprefix*/revision ( rev_id int unsigned NOT NULL auto_increment, rev_page int unsigned NOT NULL, rev_comment tinyblob NOT NULL, rev_user int unsigned NOT NULL default '0', rev_user_text varchar(255) binary NOT NULL default '', rev_timestamp binary(14) NOT NULL default '', rev_minor_edit tinyint unsigned NOT NULL default '0', rev_deleted tinyint unsigned NOT NULL default '0', PRIMARY KEY rev_page_id (rev_page, rev_id), UNIQUE INDEX rev_id (rev_id), INDEX rev_timestamp (rev_timestamp), INDEX page_timestamp (rev_page,rev_timestamp), INDEX user_timestamp (rev_user,rev_timestamp), INDEX usertext_timestamp (rev_user_text,rev_timestamp))
CREATE TABLE /*$wgDBprefix*/abuse_filter_history (	afh_id BIGINT unsigned NOT NULL AUTO_INCREMENT,	afh_filter BIGINT unsigned NOT NULL,	afh_user BIGINT unsigned NOT NULL,	afh_user_text varchar(255) binary NOT NULL,	afh_timestamp binary(14) NOT NULL,	afh_pattern BLOB NOT NULL,	afh_comments BLOB NOT NULL,	afh_flags TINYBLOB NOT NULL,	afh_public_comments TINYBLOB,	afh_actions BLOB,		PRIMARY KEY (afh_id),	KEY (afh_filter),	KEY (afh_user),	KEY (afh_user_text),	KEY (afh_timestamp))
CREATE TABLE `ad_slot_override` ( `as_id` smallint(5) unsigned NOT NULL, `city_id` int(10) unsigned NOT NULL, `provider_id` tinyint(3) unsigned DEFAULT NULL, `enabled` enum('Yes','No') DEFAULT NULL, `comment` text, PRIMARY KEY (`as_id`,`city_id`), KEY `city_id` (`city_id`))
CREATE TABLE `webmaster_sitemaps` ( `wiki_id` int(9) unsigned NOT NULL DEFAULT '0', `user_id` SMALLINT unsigned DEFAULT NULL, `upload_date` date DEFAULT NULL, PRIMARY KEY (wiki_id, user_id), KEY `user_inx` (user_id), KEY `date_inx` (upload_date))
CREATE TABLE `chat_blocked_users` ( `cbu_user_id` int(11) NOT NULL DEFAULT 0, `cbu_blocked_user_id` int(11) NOT NULL DEFAULT 0, UNIQUE KEY `cbu_user_id` (`cbu_user_id`,`cbu_blocked_user_id`))
CREATE TABLE /*$wgDBprefix*/abuse_filter_log (	afl_id BIGINT unsigned NOT NULL AUTO_INCREMENT,	afl_filter varchar(64) binary NOT NULL,	afl_user BIGINT unsigned NOT NULL,	afl_user_text varchar(255) binary NOT NULL,	afl_ip varchar(255) not null,	afl_action varbinary(255) not null,	afl_actions varbinary(255) not null,	afl_var_dump BLOB NOT NULL,	afl_timestamp binary(14) NOT NULL,	afl_namespace tinyint NOT NULL,	afl_title varchar(255) binary NOT NULL,	afl_wiki varchar(64) binary NULL,	afl_deleted tinyint(1) NOT NULL DEFAULT 0,	afl_patrolled_by int unsigned NULL)
CREATE TABLE `stats_blockedby` ( `stats_id` int(8) NOT NULL AUTO_INCREMENT, `stats_user` varchar(255) CHARACTER SET latin1 COLLATE latin1_general_cs NOT NULL, `stats_blocker` varchar(255) CHARACTER SET latin1 COLLATE latin1_general_cs NOT NULL, `stats_timestamp` char(14) NOT NULL, `stats_ip` char(15) NOT NULL, `stats_match` varchar(255) CHARACTER SET latin1 COLLATE latin1_general_cs NOT NULL DEFAULT '', `stats_wiki` varchar(255) NOT NULL DEFAULT '', PRIMARY KEY (`stats_id`), KEY `stats_timestamp` (`stats_timestamp`))
CREATE TABLE /*$wgDBprefix*/externallinks ( el_from INT NOT NULL DEFAULT '0', el_to VARCHAR(2083) NOT NULL, el_index VARCHAR(896) NOT NULL,)
CREATE TABLE /*_*/protected_titles_tmp ( pt_namespace int NOT NULL, pt_title varchar(255) binary NOT NULL, pt_user int unsigned NOT NULL, pt_reason tinyblob, pt_timestamp binary(14) NOT NULL, pt_expiry varbinary(14) NOT NULL default '', pt_create_perm varbinary(60) NOT NULL)
CREATE INDEX cl_collation ON categorylinks ( cl_collation );
CREATE TABLE /*$wgDBprefix*/sitemap_blobs (	`sbl_ns_id` INT NOT NULL,	`sbl_page_id` INT NOT NULL,	`sbl_updated` TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,	`sbl_content` LONGBLOB,	PRIMARY KEY (`sbl_ns_id`, `sbl_page_id`))
SELECT * FROM widgets_extra WHERE we_widget_id = {$row->wt_id}
INSERT INTO code VALUES ('$code', '$time')
CREATE TABLE /*$wgDBprefix*/externallinks ( el_from int(8) unsigned NOT NULL default '0', el_to blob NOT NULL, el_index blob NOT NULL, KEY (el_from, el_to(40)), KEY (el_to(60), el_from), KEY (el_index(60)))
CREATE TABLE cache_data (	id TEXT NOT NULL,	items SMALLINT NOT NULL DEFAULT 0,	data BLOB NOT NULL,	mtime INTEGER UNSIGNED NOT NULL)
CREATE TABLE protected_titles ( pt_namespace SMALLINT NOT NULL, pt_title TEXT NOT NULL, pt_user INTEGER NULL REFERENCES mwuser(user_id) ON DELETE SET NULL, pt_reason TEXT NULL, pt_timestamp TIMESTAMPTZ NOT NULL, pt_expiry TIMESTAMPTZ NULL, pt_create_perm TEXT NOT NULL DEFAULT '')
CREATE TABLE `mw_user_newtalk` ( `user_id` int(11) NOT NULL DEFAULT '0', `user_ip` varbinary(40) NOT NULL DEFAULT '', `user_last_timestamp` binary(14) NOT NULL DEFAULT '\0\0\0\0\0\0\0\0\0\0\0\0\0\0', KEY `user_id` (`user_id`), KEY `user_ip` (`user_ip`))
SELECT indexname FROM pg_indexes WHERE tablename='{$table}'
CREATE TABLE `user_interview_answers` ( `id` int(11) NOT NULL AUTO_INCREMENT, `wiki_id` int(11) DEFAULT NULL, `question_id` int(11) DEFAULT NULL, `user_id` int(11) DEFAULT NULL, `question` blob, `answer` blob, `date_set` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP, PRIMARY KEY (`id`))
CREATE INDEX pagelinks_title ON pagelinks (pl_title);
CREATE TABLE `portability_dashboard` ( `wiki_id` int(11) NOT NULL, `portability` decimal(5,4) DEFAULT NULL, `infobox_portability` decimal(5,4) DEFAULT NULL, `traffic` int(11) DEFAULT NULL, `migration_impact` int(11) DEFAULT NULL, `typeless` int(11) DEFAULT NULL, `custom_infoboxes` int(11) DEFAULT NULL, `excluded` tinyint(4) DEFAULT '0', PRIMARY KEY (`wiki_id`))
CREATE INDEX event_date ON wall_notification_queue_processed (event_date);
CREATE TABLE valid_tag ( vt_tag VARCHAR(255) NOT NULL PRIMARY KEY)
CREATE TABLE &mw_prefix.iwlinks ( iwl_from NUMBER DEFAULT 0 NOT NULL, iwl_prefix VARCHAR2(20), iwl_title VARCHAR2(255))
CREATE TABLE `content_review_status` ( `wiki_id` int(10) unsigned NOT NULL, `page_id` int(10) unsigned NOT NULL, `revision_id` int(10) unsigned NOT NULL, `status` smallint(5) unsigned NOT NULL, `submit_user_id` int(10) unsigned NOT NULL, `submit_time` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP, `review_user_id` int(10) unsigned DEFAULT NULL, `review_start` timestamp NULL DEFAULT NULL, `escalated` tinyint(1) NOT NULL DEFAULT '0', UNIQUE KEY `page_id` (`wiki_id`,`page_id`,`revision_id`), UNIQUE KEY `content_review_unique_idx` (`wiki_id`,`page_id`,`status`), KEY `content_review_status_idx` (`status`))
SELECT sql FROM sqlite_master WHERE tbl_name = '$table'
SELECT * from city_domains where city_id = $city_id
CREATE INDEX flags_on_pages_flag_type_id_idx ON flags_to_pages (flag_type_id);
CREATE INDEX su_normname_idx ON spoofuser (su_normalized,su_name);
CREATE INDEX ts2_page_title ON page 
CREATE TABLE `cat_monthly_stats` ( `wiki_cat_id` int(8) unsigned NOT NULL, `stats_date` mediumint(6) unsigned NOT NULL DEFAULT '0', `users_all` int(8) unsigned NOT NULL DEFAULT '0', `users_content_ns` int(8) unsigned NOT NULL DEFAULT '0', `users_user_ns` int(8) unsigned NOT NULL DEFAULT '0', `users_5times` int(8) unsigned NOT NULL DEFAULT '0', `users_100times` int(8) unsigned NOT NULL DEFAULT '0', `articles` int(8) unsigned NOT NULL DEFAULT '0', `articles_daily` int(8) unsigned NOT NULL DEFAULT '0', `articles_edits` int(8) unsigned NOT NULL DEFAULT '0', `images_links` int(8) unsigned NOT NULL DEFAULT '0', `images_uploaded` int(8) unsigned NOT NULL DEFAULT '0', `video_links` int(8) unsigned NOT NULL DEFAULT '0', `video_uploaded` int(8) unsigned NOT NULL DEFAULT '0', `ts` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP, PRIMARY KEY (`wiki_cat_id`,`stats_date`), KEY `stats_date` (`stats_date`), KEY `ts` (`wiki_cat_id`,`ts`))
SELECT l_from FROM $links LIMIT 1
CREATE TABLE `const_values` ( `name` varchar(50) NOT NULL, `val` int(8) unsigned NOT NULL, PRIMARY KEY (`name`))
SELECT * FROM wiki_field_info_full WHERE table_name '.$tableWhere.' and column_name = \''.$field.'\'' );
CREATE TABLE `t_city_cat_mapping` ( `id` int(10) unsigned NOT NULL AUTO_INCREMENT, `city_id` int(11) DEFAULT NULL, `cat_id` int(11) DEFAULT NULL, PRIMARY KEY (`id`), KEY `city_id_idx` (`city_id`), KEY `cat_id_idx` (`cat_id`))
select * from wall_history where wall_wiki_id = 509;
CREATE TABLE job ( job_id INTEGER NOT NULL PRIMARY KEY DEFAULT nextval('job_job_id_seq'), job_cmd TEXT NOT NULL, job_namespace SMALLINT NOT NULL, job_title TEXT NOT NULL, job_timestamp TIMESTAMPTZ, job_params TEXT NOT NULL)
SELECT page_id FROM page_wikia_props GROUP BY page_id HAVING count(*) > 1', __METHOD__ );
CREATE INDEX afl_ip_timestamp ON /*$wgDBprefix*/abuse_filter_log (afl_ip, afl_timestamp);
CREATE index city_id on dataware.video_sanitization_failededit (city_id);
CREATE table wikia_homepage_collections (	id int UNSIGNED NOT NULL AUTO_INCREMENT PRIMARY KEY,	lang_code varchar(8) NOT NULL,	sort tinyint UNSIGNED NOT NULL DEFAULT 0,	name varchar(255) NOT NULL,	sponsor_hero_image varchar(255) DEFAULT NULL,	sponsor_image varchar(255) DEFAULT NULL,	sponsor_url varchar(255) DEFAULT NULL,	enabled tinyint(1) UNSIGNED NOT NULL DEFAULT 0)
CREATE TABLE `mw_page` ( `page_id` int(10) unsigned NOT NULL AUTO_INCREMENT, `page_namespace` int(11) NOT NULL, `page_title` varchar(255) CHARACTER SET latin1 COLLATE latin1_bin NOT NULL, `page_restrictions` tinyblob NOT NULL, `page_counter` bigint(20) unsigned NOT NULL DEFAULT '0', `page_is_redirect` tinyint(3) unsigned NOT NULL DEFAULT '0', `page_is_new` tinyint(3) unsigned NOT NULL DEFAULT '0', `page_random` double unsigned NOT NULL, `page_touched` binary(14) NOT NULL DEFAULT '\0\0\0\0\0\0\0\0\0\0\0\0\0\0', `page_latest` int(10) unsigned NOT NULL, `page_len` int(10) unsigned NOT NULL, PRIMARY KEY (`page_id`), UNIQUE KEY `name_title` (`page_namespace`,`page_title`), KEY `page_random` (`page_random`), KEY `page_len` (`page_len`))
CREATE TABLE `video_migration_sanitization` ( `id` int(10) unsigned NOT NULL AUTO_INCREMENT, `city_id` int(11) NOT NULL, `old_title` varchar(255) NOT NULL, `sanitized_title` varchar(255) NOT NULL, `operation_status` char(14) NOT NULL DEFAULT 'UNKNOWN', `operation_time` char(14) NOT NULL, `article_title` varchar(255) NOT NULL, PRIMARY KEY (`id`), UNIQUE KEY `city_id` (`city_id`,`old_title`), KEY `sanitized_title` (`sanitized_title`))
CREATE INDEX abuse_filter_user ON abuse_filter(af_user);
select comment_id from wall_related_pages where page_id = {$relatedPageId})";
CREATE TABLE video_premigrate (	id INT(11) NOT NULL AUTO_INCREMENT,	img_name VARCHAR(255) NOT NULL,	wiki_id INT(11) NOT NULL,	provider VARCHAR(255) NOT NULL,	new_metadata BLOB,	is_name_taken INT(11) NOT NULL,	api_url BLOB default NULL,	video_id TINYBLOB default NULL,	status INT(11) NOT NULL,	status_msg BLOB default NULL,	full_response BLOB default NULL,	thumbnail_url VARCHAR(255) default NULL,	backlinks INT(11) NOT NULL default 0,	KEY `vp_wiki_img` (wiki_id,img_name),	KEY `vp_prov` (provider),	KEY `vp_nametaken` (is_name_taken),	PRIMARY KEY (id))
CREATE TABLE /*_*/change_tag (	ct_rc_id int NULL,	ct_log_id int NULL,	ct_rev_id int NULL,	ct_tag varchar(255) NOT NULL,	ct_params BLOB NULL)
CREATE INDEX abuse_filter_log_user_text ON abuse_filter_log(afl_user_text);
CREATE INDEX change_tag_tag_id ON change_tag (ct_tag,ct_rc_id,ct_rev_id,ct_log_id);
SELECT cv_id FROM `city_variables_pool` WHERE cv_name="wgSitename"';
CREATE TABLE `common_key_value` ( `identifier` varchar(255) NOT NULL, `content` mediumblob NOT NULL, `updated_at` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP, PRIMARY KEY (`identifier`))
SELECT page_title FROM $tbl_pag WHERE page_namespace = $ns
CREATE TABLE abuse_filter_log ( afl_id INTEGER NOT NULL PRIMARY KEY DEFAULT nextval('abuse_filter_log_afl_id_seq'), afl_filter TEXT NOT NULL, afl_user INTEGER NOT NULL, afl_user_text TEXT NOT NULL, afl_ip TEXT NOT NULL, afl_action TEXT NOT NULL, afl_actions TEXT NOT NULL, afl_var_dump TEXT NOT NULL, afl_timestamp TIMESTAMPTZ NOT NULL, afl_namespace SMALLINT NOT NULL, afl_title TEXT NOT NULL,	afl_wiki TEXT NULL,	afl_deleted SMALLINT NULL)
CREATE TABLE `rank_result` ( `rre_id` int(11) NOT NULL AUTO_INCREMENT, `rre_ren_id` int(11) DEFAULT NULL, `rre_engine` varchar(32) CHARACTER SET latin1 DEFAULT NULL, `rre_date` datetime DEFAULT NULL, `rre_rank` int(11) DEFAULT NULL, PRIMARY KEY (`rre_id`), KEY `entry_id` (`rre_ren_id`))
CREATE INDEX img_timestamp_idx ON image (img_timestamp);
CREATE INDEX archive_name_title_timestamp ON 
CREATE TABLE /*_*/categorylinks_tmp ( cl_from int unsigned NOT NULL default 0, cl_to varchar(255) binary NOT NULL default '', cl_sortkey varchar(70) binary NOT NULL default '', cl_timestamp timestamp NOT NULL)
CREATE TABLE &mw_prefix.image ( img_name VARCHAR2(255) NOT NULL, img_size NUMBER DEFAULT 0 NOT NULL, img_width NUMBER DEFAULT 0 NOT NULL, img_height NUMBER DEFAULT 0 NOT NULL, img_metadata CLOB, img_bits NUMBER DEFAULT 0 NOT NULL, img_media_type VARCHAR2(32), img_major_mime VARCHAR2(32) DEFAULT 'unknown', img_minor_mime VARCHAR2(100) DEFAULT 'unknown', img_description VARCHAR2(255), img_user NUMBER DEFAULT 0 NOT NULL, img_user_text VARCHAR2(255) NOT NULL, img_timestamp TIMESTAMP(6) WITH TIME ZONE, img_sha1 VARCHAR2(32))
CREATE INDEX logging_user_time ON logging (log_timestamp, log_user);
CREATE TABLE `city_used_tags` ( `ct_wikia_id` int(8) unsigned NOT NULL, `ct_page_id` int(8) unsigned NOT NULL, `ct_namespace` int(8) unsigned NOT NULL, `ct_kind` varchar(50) NOT NULL DEFAULT '', `ct_timestamp` varchar(14) NOT NULL DEFAULT '19700101000000', PRIMARY KEY (`ct_wikia_id`,`ct_page_id`,`ct_namespace`,`ct_kind`), KEY `ct_wikia_id` (`ct_wikia_id`), KEY `ct_page_id` (`ct_page_id`,`ct_namespace`), KEY `ct_timestamp` (`ct_timestamp`))
CREATE TABLE `video_notmigrated2` ( `id` int(11) NOT NULL AUTO_INCREMENT, `wiki_id` int(11) NOT NULL, `wiki_name` varchar(255) NOT NULL, `wiki_dbname` varchar(255) DEFAULT NULL, `video_count` int(11) NOT NULL, PRIMARY KEY (`id`), KEY `vnm_wikiid` (`wiki_id`), KEY `vnm_wikiname` (`wiki_name`))
CREATE TABLE &mw_prefix.module_deps ( md_module VARCHAR2(255) NOT NULL, md_skin VARCHAR2(32) NOT NULL, md_deps BLOB NOT NULL)
CREATE TABLE user_former_groups ( ufg_user BIGINT NOT NULL DEFAULT 0, ufg_group VARCHAR(16) FOR BIT DATA NOT NULL)
CREATE TABLE `dumps` ( `id` int(11) NOT NULL AUTO_INCREMENT, `dump_wiki_id` int(9) NOT NULL, `dump_wiki_dbname` varchar(64) NOT NULL, `dump_wiki_url` varchar(255) NOT NULL, `dump_user_name` varchar(255) NOT NULL, `dump_hidden` enum('N','Y') DEFAULT 'N', `dump_closed` enum('N','Y') DEFAULT 'N', `dump_requested` datetime NOT NULL, `dump_completed` datetime DEFAULT NULL, `dump_hold` enum('N','Y') DEFAULT 'N', `dump_errors` text, `dump_compression` enum('gzip','7zip') NOT NULL DEFAULT 'gzip', PRIMARY KEY (`id`), KEY `dumps_ibfk_1` (`dump_wiki_id`), KEY `dumps_dump_requested_idx` (`dump_requested`), KEY `dumps_dump_completed_hold_idx` (`dump_completed`,`dump_hold`), CONSTRAINT `dumps_ibfk_1` FOREIGN KEY (`dump_wiki_id`) REFERENCES `city_list` (`city_id`) ON DELETE CASCADE ON UPDATE CASCADE)
CREATE TABLE page_props ( pp_page INTEGER NOT NULL REFERENCES page (page_id) ON DELETE CASCADE DEFERRABLE INITIALLY DEFERRED, pp_propname TEXT NOT NULL, pp_value TEXT NOT NULL)
CREATE TABLE &mw_prefix.site_stats ( ss_row_id NUMBER NOT NULL , ss_total_views NUMBER DEFAULT 0, ss_total_edits NUMBER DEFAULT 0, ss_good_articles NUMBER DEFAULT 0, ss_total_pages NUMBER DEFAULT -1, ss_users NUMBER DEFAULT -1, ss_active_users NUMBER DEFAULT -1, ss_admins NUMBER DEFAULT -1, ss_images NUMBER DEFAULT 0)
CREATE INDEX redirect_ns_title ON redirect (rd_namespace,rd_title,rd_from);
CREATE TABLE /*$wgDBprefix*/user_newtalk ( user_id int NOT NULL default '0', user_ip varbinary(40) NOT NULL default '', KEY user_id (user_id), KEY user_ip (user_ip))
CREATE TABLE `info_data` ( `wid` int(11) DEFAULT NULL, `id` int(11) DEFAULT NULL, `title` tinytext, `info_key` tinytext, `value` text, `template` tinytext, `additional` text)
CREATE TABLE `querycachetwo` ( `qcc_type` char(32) NOT NULL, `qcc_value` int(5) unsigned NOT NULL DEFAULT '0', `qcc_namespace` int(11) NOT NULL DEFAULT '0', `qcc_title` char(255) CHARACTER SET latin1 COLLATE latin1_bin NOT NULL DEFAULT '', `qcc_namespacetwo` int(11) NOT NULL DEFAULT '0', `qcc_titletwo` char(255) CHARACTER SET latin1 COLLATE latin1_bin NOT NULL DEFAULT '', KEY `qcc_type` (`qcc_type`,`qcc_value`), KEY `qcc_title` (`qcc_type`,`qcc_namespace`,`qcc_title`), KEY `qcc_titletwo` (`qcc_type`,`qcc_namespacetwo`,`qcc_titletwo`))
CREATE TABLE `webmaster_sitemaps` ( `wiki_id` int(9) unsigned NOT NULL DEFAULT '0', `user_id` smallint(5) unsigned DEFAULT NULL, `upload_date` date DEFAULT NULL, `page_count` int(7) DEFAULT NULL, PRIMARY KEY (`wiki_id`), KEY `user_count` (`user_id`,`page_count`), KEY `date_inx` (`upload_date`), CONSTRAINT `fk_webmaster_user_accounts` FOREIGN KEY (`user_id`) REFERENCES `webmaster_user_accounts` (`user_id`) ON DELETE SET NULL)
CREATE TABLE `items` (	`feed_id` TEXT CHARACTER SET utf8 NOT NULL,	`id` TEXT CHARACTER SET utf8 NOT NULL,	`data` TEXT CHARACTER SET utf8 NOT NULL,	`posted` INT UNSIGNED NOT NULL,	INDEX `feed_id` (		`feed_id`(125)	))
CREATE TABLE site_stats ( ss_row_id INTEGER NOT NULL UNIQUE, ss_total_views INTEGER DEFAULT 0, ss_total_edits INTEGER DEFAULT 0, ss_good_articles INTEGER DEFAULT 0, ss_total_pages INTEGER DEFAULT -1, ss_users INTEGER DEFAULT -1, ss_active_users INTEGER DEFAULT -1, ss_admins INTEGER DEFAULT -1, ss_images INTEGER DEFAULT 0)
CREATE INDEX querycache_type_value ON querycache (qc_type, qc_value);
CREATE TABLE &mw_prefix.templatelinks ( tl_from NUMBER NOT NULL, tl_namespace NUMBER DEFAULT 0 NOT NULL, tl_title VARCHAR2(255) NOT NULL)
CREATE INDEX afl_user_timestamp ON /*$wgDBprefix*/abuse_filter_log (afl_user,afl_user_text,afl_timestamp);
CREATE INDEX afl_timestamp ON /*$wgDBprefix*/abuse_filter_log (afl_timestamp);
CREATE TABLE IF NOT EXISTS "+this.tableName+" (fid TEXT UNIQUE, geometry TEXT, properties TEXT, state TEXT)
CREATE TABLE `notify_log` ( `nl_id` int(11) NOT NULL AUTO_INCREMENT, `nl_type` char(32) NOT NULL, `nl_editor` int(6) NOT NULL, `nl_watcher` int(6) NOT NULL, `nl_title` varchar(255) NOT NULL, `nl_namespace` int(11) NOT NULL, `nl_timestamp` char(14) DEFAULT NULL, PRIMARY KEY (`nl_id`), KEY `nl_watcher` (`nl_watcher`), KEY `nl_editor` (`nl_editor`), KEY `nl_title` (`nl_title`,`nl_namespace`), KEY `nl_type` (`nl_type`,`nl_timestamp`))
CREATE TABLE templatelinks ( tl_from INTEGER NOT NULL REFERENCES page(page_id) ON DELETE CASCADE DEFERRABLE INITIALLY DEFERRED, tl_namespace SMALLINT NOT NULL, tl_title TEXT NOT NULL)
CREATE INDEX objectcacache_exptime ON objectcache (exptime);
CREATE TABLE testitem ( ti_run INTEGER NOT NULL REFERENCES testrun(tr_id) ON DELETE CASCADE, ti_name TEXT NOT NULL, ti_success SMALLINT NOT NULL)
SELECT rev_id FROM {$revision} LEFT JOIN {$page} ON rev_page = page_id WHERE page_namespace IS NULL
CREATE TABLE `wikia_monthly_stats` ( `wiki_id` int(8) unsigned NOT NULL, `stats_date` mediumint(6) unsigned NOT NULL DEFAULT '0', `users_all` int(8) unsigned NOT NULL DEFAULT '0', `users_content_ns` int(8) unsigned NOT NULL DEFAULT '0', `users_user_ns` int(8) unsigned NOT NULL DEFAULT '0', `users_5times` int(8) unsigned NOT NULL DEFAULT '0', `users_100times` int(8) unsigned NOT NULL DEFAULT '0', `articles` int(8) unsigned NOT NULL DEFAULT '0', `articles_daily` int(8) unsigned NOT NULL DEFAULT '0', `articles_edits` int(8) unsigned NOT NULL DEFAULT '0', `images_links` int(8) unsigned NOT NULL DEFAULT '0', `images_uploaded` int(8) unsigned NOT NULL DEFAULT '0', `video_links` int(8) unsigned NOT NULL DEFAULT '0', `video_uploaded` int(8) unsigned NOT NULL DEFAULT '0', `ts` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP, PRIMARY KEY (`wiki_id`,`stats_date`), KEY `stats_date` (`stats_date`), KEY `ts` (`wiki_id`,`ts`))
CREATE TABLE &mw_prefix.tag_summary ( ts_rc_id NUMBER NULL, ts_log_id NUMBER NULL, ts_rev_id NUMBER NULL, ts_tags BLOB NOT NULL)
CREATE TABLE `info_templates` ( `wid` int(11) DEFAULT NULL, `template` tinytext)
CREATE TABLE parser_speed_article ( wiki_id INT NOT NULL, article_id INT NOT NULL, page_ns INT, average_time NUMERIC(10,3), minimum_time NUMERIC(10,3), maximum_time NUMERIC(10,3), wikitext_size INT, html_size INT, exp_func_count INT, node_count INT, post_expand_size INT, temp_arg_size INT, updated TIMESTAMP, PRIMARY KEY (wiki_id,article_id), KEY namespace (wiki_id,page_ns), KEY avg_time (wiki_id,average_time), KEY min_time (wiki_id,minimum_time), KEY max_time (wiki_id,maximum_time), KEY wikitext_size (wiki_id,wikitext_size), KEY html_size (wiki_id,html_size), KEY exp_func_count (wiki_id,exp_func_count), KEY node_count (wiki_id,node_count), KEY post_expand_size (wiki_id,post_expand_size), KEY temp_arg_size (wiki_id,temp_arg_size))
CREATE TABLE user_properties( up_user INTEGER NULL REFERENCES mwuser(user_id) ON DELETE CASCADE, up_property TEXT NOT NULL, up_value TEXT)
CREATE TABLE `email_types` ( `id` tinyint(3) unsigned NOT NULL, `type` varchar(64) NOT NULL, PRIMARY KEY (`id`))
CREATE TABLE /*$wgDBprefix*/page_vote (	`article_id` int(8) unsigned NOT NULL,	`user_id` int(5) unsigned NOT NULL,	`unique_id` varchar(32) NOT NULL DEFAULT '',	`vote` int(2) NOT NULL,	`ip` varbinary(32) NOT NULL,	`time` datetime NOT NULL,	KEY `user_id` (`user_id`,`article_id`),	KEY `article_id` (`article_id`),	KEY `unique_vote` (`unique_id`, `article_id`))
CREATE INDEX cuc_user_ip_time ON cu_changes( cuc_user, cuc_ip, cuc_timestamp );
SELECT * FROM users', array('db', 'time' => 0.012));
CREATE TABLE /*_*/hitcounter ( hc_id int unsigned NOT NULL)
CREATE INDEX feed_id ON items(feed_id);
CREATE TABLE &mw_prefix.user_newtalk ( user_id NUMBER DEFAULT 0 NOT NULL, user_ip VARCHAR2(40) NULL, user_last_timestamp TIMESTAMP(6) WITH TIME ZONE)
CREATE INDEX ls_log_id ON log_search (ls_log_id);
CREATE TABLE `' . $this->options['prefix'][0] . 'cache_data` (`id` TEXT CHARACTER SET utf8 NOT NULL, `items` SMALLINT NOT NULL DEFAULT 0, `data` BLOB NOT NULL, `mtime` INT UNSIGNED NOT NULL, UNIQUE (`id`(125)))
CREATE TABLE /*_*/tag_summary (	ts_rc_id int NULL,	ts_log_id int NULL,	ts_rev_id int NULL,	ts_tags BLOB NOT NULL)
CREATE TABLE dataware.video_migration_log ( id INT unsigned NOT NULL AUTO_INCREMENT, action_time CHAR(14) NOT NULL, wiki_id INT NOT NULL, wiki_dbname VARCHAR(255), action_name VARCHAR(255) NOT NULL, action_status VARCHAR(255) NOT NULL, action_desc VARCHAR(255) NOT NULL, primary key (id))
CREATE TABLE /*$wgDBprefix*/abuse_filter (	af_id BIGINT unsigned NOT NULL AUTO_INCREMENT,	af_pattern BLOB NOT NULL,	af_user BIGINT unsigned NOT NULL,	af_user_text varchar(255) binary NOT NULL,	af_timestamp binary(14) NOT NULL,	af_enabled tinyint(1) not null default 1,	af_comments BLOB,	af_public_comments TINYBLOB,	af_hidden tinyint(1) not null default 0,	af_hit_count bigint not null default 0,	af_throttled tinyint(1) NOT NULL default 0,	af_deleted tinyint(1) NOT NULL DEFAULT 0,	af_actions varchar(255) NOT NULL DEFAULT '',	af_global tinyint(1) NOT NULL DEFAULT 0,		PRIMARY KEY (af_id),	KEY (af_user))
SELECT MAX(smw_id) FROM $smwIDs WHERE smw_title = '$property_value' AND smw_namespace = $prop_ns)";
CREATE TABLE &mw_prefix.querycache_info ( qci_type VARCHAR2(32) NOT NULL, qci_timestamp TIMESTAMP(6) WITH TIME ZONE NULL)
CREATE TABLE /*$wgDBprefix*/ipblocks_newunique ( ipb_id int NOT NULL auto_increment, ipb_address tinyblob NOT NULL, ipb_user int unsigned NOT NULL default '0', ipb_by int unsigned NOT NULL default '0', ipb_reason tinyblob NOT NULL, ipb_timestamp binary(14) NOT NULL default '', ipb_auto bool NOT NULL default 0, ipb_anon_only bool NOT NULL default 0, ipb_create_account bool NOT NULL default 1, ipb_expiry varbinary(14) NOT NULL default '', ipb_range_start tinyblob NOT NULL, ipb_range_end tinyblob NOT NULL, PRIMARY KEY ipb_id (ipb_id), UNIQUE INDEX ipb_address_unique (ipb_address(255), ipb_user, ipb_auto), INDEX ipb_user (ipb_user), INDEX ipb_range (ipb_range_start(8), ipb_range_end(8)), INDEX ipb_timestamp (ipb_timestamp), INDEX ipb_expiry (ipb_expiry))
CREATE TABLE &mw_prefix.categorylinks ( cl_from NUMBER NOT NULL, cl_to VARCHAR2(255) NOT NULL, cl_sortkey VARCHAR2(230), cl_sortkey_prefix VARCHAR2(255), cl_timestamp TIMESTAMP(6) WITH TIME ZONE NOT NULL, cl_collation	VARCHAR2(32), cl_type 		VARCHAR2(6) DEFAULT 'page' NOT NULL)
CREATE TABLE abuse_filter_action ( afa_filter INTEGER NOT NULL, afa_consequence TEXT NOT NULL, afa_parameters TEXT NOT NULL, PRIMARY KEY (afa_filter,afa_consequence))
CREATE TABLE profiling ( pf_count INTEGER NOT NULL DEFAULT 0, pf_time NUMERIC(18,10) NOT NULL DEFAULT 0, pf_memory NUMERIC(18,10) NOT NULL DEFAULT 0, pf_name TEXT NOT NULL, pf_server TEXT NULL)
CREATE TABLE IF NOT EXISTS `vpt_program` ( `program_id` int(10) unsigned NOT NULL AUTO_INCREMENT, `language` varchar(2) NOT NULL DEFAULT 'en', `publish_date` datetime NOT NULL, `is_published` tinyint(1) NOT NULL DEFAULT '0', `published_by` int(10) unsigned NULL, PRIMARY KEY (`program_id`), UNIQUE KEY `program` (`language`, `publish_date`), KEY `publish_date` (`publish_date`, `language`, `is_published`))
CREATE TABLE `current_reviewed_revisions` ( `wiki_id` int(10) unsigned NOT NULL, `page_id` int(10) unsigned NOT NULL, `revision_id` int(10) unsigned NOT NULL, `touched` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP, UNIQUE KEY `uniq_idx` (`wiki_id`,`page_id`,`revision_id`,`touched`))
CREATE TABLE abuse_filter_history ( afh_id INTEGER NOT NULL PRIMARY KEY DEFAULT nextval('abuse_filter_history_afh_id_seq'), afh_filter INTEGER NOT NULL, afh_user INTEGER NOT NULL, afh_user_text TEXT NOT NULL, afh_timestamp TIMESTAMPTZ NOT NULL, afh_pattern TEXT NOT NULL, afh_comments TEXT NOT NULL, afh_flags TEXT NOT NULL, afh_public_comments TEXT NOT NULL, afh_actions TEXT NOT NULL, afh_deleted SMALLINT NOT NULL DEFAULT 0, afh_changed_fields TEXT NOT NULL DEFAULT '')
CREATE INDEX afa_consequence ON /*$wgDBprefix*/abuse_filter_action (afa_consequence);
