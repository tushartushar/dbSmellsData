CREATE TABLE product_category ( product_id uuid NOT NULL, category_id uuid NOT NULL, CONSTRAINT product_category_pkey PRIMARY KEY (product_id, category_id), CONSTRAINT product_category_category_id_fkey FOREIGN KEY (category_id) REFERENCES category (category_id) MATCH SIMPLE ON UPDATE NO ACTION ON DELETE NO ACTION, CONSTRAINT product_category_product_id_fkey FOREIGN KEY (product_id) REFERENCES product (product_id) MATCH SIMPLE ON UPDATE NO ACTION ON DELETE NO ACTION )
CREATE TABLE product ( product_id uuid NOT NULL DEFAULT uuid_generate_v4(), parent_product_id uuid, name character varying, description character varying, price numeric, unit character varying, stocks numeric, tags json, info json, currency character varying, seq_no integer, CONSTRAINT product_pkey PRIMARY KEY (product_id) )
SELECT schema_name FROM information_schema.schemata WHERE schema_name = '"+schema+"'
CREATE TABLE category ( category_id uuid NOT NULL DEFAULT uuid_generate_v4(), name character varying, description character varying, CONSTRAINT category_pkey PRIMARY KEY (category_id), CONSTRAINT category_name_key UNIQUE (name) )
CREATE TABLE users ( user_id uuid NOT NULL DEFAULT uuid_generate_v4(), username character varying, password character varying, email character varying, CONSTRAINT users_pkey PRIMARY KEY (user_id) )
CREATE TABLE product_availability ( product_id uuid NOT NULL, available boolean, always_available boolean, stocks numeric, available_from timestamp with time zone, available_until timestamp with time zone, available_day json, open_time time with time zone, close_time time with time zone, CONSTRAINT product_availability_pkey PRIMARY KEY (product_id), CONSTRAINT product_availability_product_id_fkey FOREIGN KEY (product_id) REFERENCES product (product_id) MATCH SIMPLE ON UPDATE NO ACTION ON DELETE NO ACTION )
