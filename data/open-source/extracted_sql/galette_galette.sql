CREATE TABLE galette_groups_managers ( id_group integer REFERENCES galette_groups(id_group) ON DELETE RESTRICT ON UPDATE CASCADE, id_adh integer REFERENCES galette_adherents (id_adh) ON DELETE RESTRICT ON UPDATE CASCADE, PRIMARY KEY (id_group,id_adh))
CREATE TABLE galette_titles ( id_title int(10) unsigned NOT NULL auto_increment, short_label varchar(10) NOT NULL default '', long_label varchar(30) default '', PRIMARY KEY (id_title))
CREATE TABLE galette_logs ( id int(10) unsigned NOT NULL auto_increment, date_log datetime NOT NULL, comment text, PRIMARY KEY (id))
CREATE TABLE galette_preferences ( id_pref integer DEFAULT nextval('galette_preferences_id_seq'::text) NOT NULL, nom_pref character varying(100) DEFAULT '' NOT NULL, val_pref character varying(200) DEFAULT '' NOT NULL)
CREATE TABLE galette_mailing_history ( mailing_id smallint(6) NOT NULL auto_increment, mailing_sender int(10) unsigned, mailing_subject varchar(255) COLLATE utf8_unicode_ci NOT NULL, mailing_body text NOT NULL, mailing_date datetime NOT NULL, mailing_recipients text NOT NULL, mailing_sent tinyint(1) NOT NULL, PRIMARY KEY (mailing_id), FOREIGN KEY (mailing_sender) REFERENCES galette_adherents (id_adh))
CREATE TABLE galette_groups_managers ( id_group int(10) NOT NULL, id_adh int(10) unsigned NOT NULL, PRIMARY KEY (id_group,id_adh), FOREIGN KEY (id_adh) REFERENCES galette_adherents (id_adh), FOREIGN KEY (id_group) REFERENCES galette_groups (id_group))
CREATE TABLE IF NOT EXISTS galette_groups ( id_group int(10) NOT NULL AUTO_INCREMENT, group_name varchar(50) COLLATE utf8_unicode_ci NOT NULL, creation_date datetime NOT NULL, parent_group int(10) DEFAULT NULL, PRIMARY KEY (id_group), UNIQUE KEY `name` (group_name), FOREIGN KEY (parent_group) REFERENCES galette_groups (id_group))
CREATE TABLE ' . $contents_table . ' (id INTEGER NOT NULL,val varchar(' . $max_length . ') NOT NULL)
CREATE TABLE galette_database ( version DECIMAL(4,3) NOT NULL)
UPDATE galette_preferences SET nom_pref=pref_mail_smtp_host  WHERE nom_pref=pref_mail_smtp
CREATE TABLE galette_types_cotisation ( id_type_cotis integer DEFAULT nextval('galette_types_cotisation_id_seq'::text) NOT NULL, libelle_type_cotis character varying(100) DEFAULT '' NOT NULL, cotis_extension boolean DEFAULT FALSE, PRIMARY KEY (id_type_cotis))
CREATE TABLE galette_preferences ( id_pref int(10) unsigned NOT NULL auto_increment, nom_pref varchar(100) NOT NULL default '', val_pref varchar(200) NOT NULL default '', PRIMARY KEY (id_pref), UNIQUE (nom_pref))
CREATE TABLE galette_preferences ( id_pref int(10) unsigned NOT NULL auto_increment, nom_pref varchar(100) NOT NULL default '', val_pref varchar(200) NOT NULL default '', PRIMARY KEY (id_pref))
CREATE TABLE galette_transactions ( trans_id int(10) unsigned NOT NULL auto_increment, trans_date date NOT NULL default '1901-01-01', trans_amount decimal(15, 2) default '0', trans_desc varchar(150) NOT NULL default '', id_adh int(10) unsigned default NULL, PRIMARY KEY (trans_id), FOREIGN KEY (id_adh) REFERENCES galette_adherents (id_adh))
CREATE TABLE galette_pdfmodels ( model_id integer DEFAULT nextval('galette_pdfmodels_id_seq'::text) NOT NULL, model_name character varying(50) NOT NULL, model_type integer NOT NULL, model_header text, model_footer text, model_body text, model_styles text, model_title character varying(100), model_subtitle character varying(100), model_parent integer DEFAULT NULL REFERENCES galette_pdfmodels (model_id) ON DELETE RESTRICT ON UPDATE CASCADE, PRIMARY KEY (model_id))
CREATE TABLE galette_fields_config ( table_name varchar(30) COLLATE utf8_unicode_ci NOT NULL, field_id varchar(30) COLLATE utf8_unicode_ci NOT NULL, required tinyint(1) NOT NULL, visible tinyint(1) NOT NULL, position int(2) NOT NULL, id_field_category int(2) NOT NULL, PRIMARY KEY (table_name, field_id), FOREIGN KEY (id_field_category) REFERENCES galette_fields_categories (id_field_category))
CREATE TABLE galette_test ( test_id INTEGER NOT NULL, test_text VARCHAR(20) )
SELECT id_adh from ' . $table_prefix . 'adherents';
CREATE TABLE galette_mailing_history ( mailing_id integer DEFAULT nextval('galette_mailing_history_id_seq'::text) NOT NULL, mailing_sender integer REFERENCES galette_adherents (id_adh) ON DELETE RESTRICT ON UPDATE CASCADE, mailing_subject character varying(255) NOT NULL, mailing_body text NOT NULL, mailing_date timestamp NOT NULL, mailing_recipients text NOT NULL, mailing_sent boolean DEFAULT FALSE, PRIMARY KEY (mailing_id))
CREATE TABLE galette_db_test ( id integer DEFAULT nextval('galette_db_test_id_seq'::text) NOT NULL, date_log timestamp NOT NULL, comment text, PRIMARY KEY (id))
UPDATE galette_adherents SET pref_lang=es_EN  WHERE pref_lang=spanish
CREATE TABLE IF NOT EXISTS galette_required ( field_id varchar(15) NOT NULL, required tinyint(1) NOT NULL, PRIMARY KEY (field_id))
CREATE TABLE IF NOT EXISTS galette_fields_config ( table_name varchar(30) COLLATE utf8_unicode_ci NOT NULL, field_id varchar(30) COLLATE utf8_unicode_ci NOT NULL, required tinyint(1) NOT NULL, visible tinyint(1) NOT NULL, position int(2) NOT NULL, id_field_category int(2) NOT NULL, PRIMARY KEY (table_name, field_id), FOREIGN KEY (id_field_category) REFERENCES galette_fields_categories (id_field_category))
SELECT max(id_type_cotis) FROM galette_types_cotisation));
UPDATE galette_preferences SET val_pref=fr_FR  WHERE nom_pref=pref_lang
CREATE TABLE galette_statuts ( id_statut int(10) unsigned NOT NULL auto_increment, libelle_statut varchar(100) NOT NULL default '', priorite_statut tinyint(4) NOT NULL default '0', PRIMARY KEY (id_statut))
CREATE TABLE galette_transactions ( trans_id integer DEFAULT nextval('galette_transactions_id_seq'::text) NOT NULL, trans_date date DEFAULT '19010101' NOT NULL, trans_amount real DEFAULT '0', trans_desc character varying(150) NOT NULL DEFAULT '', id_adh integer REFERENCES galette_adherents (id_adh) ON DELETE RESTRICT ON UPDATE CASCADE, PRIMARY KEY (trans_id))
CREATE TABLE galette_groups ( id_group int(10) NOT NULL AUTO_INCREMENT, group_name varchar(50) COLLATE utf8_unicode_ci NOT NULL, creation_date datetime NOT NULL, parent_group int(10) DEFAULT NULL, PRIMARY KEY (id_group), UNIQUE KEY `name` (group_name), FOREIGN KEY (parent_group) REFERENCES galette_groups (id_group))
CREATE TABLE galette_cotisations ( id_cotis int(10) unsigned NOT NULL auto_increment, id_adh int(10) unsigned NOT NULL default '0', id_type_cotis int(10) unsigned NOT NULL default '0', montant_cotis decimal(15, 2) unsigned default '0', type_paiement_cotis tinyint(3) unsigned NOT NULL default '0', info_cotis text, date_enreg date NOT NULL default '1901-01-01', date_debut_cotis date NOT NULL default '1901-01-01', date_fin_cotis date NOT NULL default '1901-01-01', trans_id int(10) unsigned default NULL, PRIMARY KEY (id_cotis), FOREIGN KEY (id_type_cotis) REFERENCES galette_types_cotisation (id_type_cotis), FOREIGN KEY (id_adh) REFERENCES galette_adherents (id_adh))
CREATE TABLE `galette_pictures` ( `id_adh` int(10) unsigned NOT NULL default '0', `picture` mediumblob NOT NULL, `format` varchar(10) NOT NULL default '', PRIMARY KEY (`id_adh`))
CREATE TABLE galette_preferences ( id_pref integer DEFAULT nextval('galette_preferences_id_seq'::text) NOT NULL, nom_pref character varying(100) DEFAULT '' NOT NULL, val_pref character varying(200) DEFAULT '' NOT NULL, PRIMARY KEY (id_pref))
CREATE TABLE galette_logs ( id_log integer DEFAULT nextval('galette_logs_id_seq'::text) NOT NULL, date_log timestamp NOT NULL, ip_log character varying(46) DEFAULT '' NOT NULL, adh_log character varying(41) DEFAULT '' NOT NULL, text_log text, action_log text, sql_log text, PRIMARY KEY (id_log))
CREATE TABLE galette_fields_config ( table_name character varying(30) NOT NULL, field_id character varying(30) NOT NULL, required boolean NOT NULL, visible integer NOT NULL, position integer NOT NULL, id_field_category integer REFERENCES galette_fields_categories ON DELETE RESTRICT ON UPDATE CASCADE, PRIMARY KEY (table_name, field_id))
CREATE TABLE logs ( id_log int(10) unsigned NOT NULL auto_increment, date_log datetime NOT NULL, ip_log varchar(30) NOT NULL default '', adh_log varchar(41) NOT NULL default '', text_log text, PRIMARY KEY (id_log))
CREATE TABLE galette_fields_categories ( id_field_category int(2) NOT NULL AUTO_INCREMENT, table_name varchar(30) NOT NULL, category varchar(50) COLLATE utf8_unicode_ci NOT NULL, position int(2) NOT NULL, PRIMARY KEY (id_field_category))
CREATE TABLE galette_tmppasswds ( id_adh integer REFERENCES galette_adherents (id_adh) ON DELETE CASCADE ON UPDATE CASCADE, tmp_passwd character varying(60) NOT NULL, date_crea_tmp_passwd timestamp NOT NULL, PRIMARY KEY (id_adh))
CREATE TABLE galette_groups_members ( id_group integer REFERENCES galette_groups(id_group) ON DELETE RESTRICT ON UPDATE CASCADE, id_adh integer REFERENCES galette_adherents (id_adh) ON DELETE RESTRICT ON UPDATE CASCADE, PRIMARY KEY (id_group,id_adh))
CREATE TABLE IF NOT EXISTS galette_fields_categories ( id_field_category int(2) NOT NULL AUTO_INCREMENT, table_name varchar(30) NOT NULL, category varchar(50) COLLATE utf8_unicode_ci NOT NULL, position int(2) NOT NULL, PRIMARY KEY (id_field_category))
UPDATE galette_adherents SET pref_lang=fr_FR  WHERE pref_lang=french
SELECT id_cotis, date_enreg, date_debut_cotis, date_fin_cotis from ".$table_prefix."cotisations, ".$table_prefix.
CREATE TABLE galette_groups ( id_group integer DEFAULT nextval('galette_groups_id_seq'::text) NOT NULL, group_name character varying(50) NOT NULL CONSTRAINT name UNIQUE, creation_date timestamp NOT NULL, parent_group integer DEFAULT NULL REFERENCES galette_groups(id_group) ON DELETE RESTRICT ON UPDATE CASCADE, PRIMARY KEY (id_group))
CREATE TABLE galette_reminders ( reminder_id integer DEFAULT nextval('galette_reminders_id_seq'::text) NOT NULL, reminder_type integer NOT NULL, reminder_dest integer REFERENCES galette_adherents (id_adh) ON DELETE CASCADE ON UPDATE CASCADE, reminder_date timestamp NOT NULL, reminder_success boolean DEFAULT FALSE, reminder_nomail boolean DEFAULT TRUE, reminder_comment text, PRIMARY KEY (reminder_id))
CREATE TABLE galette_import_model ( model_id smallint(6) NOT NULL auto_increment, model_fields text, model_creation_date datetime NOT NULL, PRIMARY KEY (model_id))
CREATE TABLE galette_titles ( id_title integer DEFAULT nextval('galette_titles_id_seq'::text) NOT NULL, short_label character varying(10) DEFAULT '' NOT NULL, long_label character varying(30) DEFAULT '', PRIMARY KEY (id_title))
CREATE TABLE IF NOT EXISTS galette_database ( version DECIMAL(4,3) NOT NULL)
CREATE TABLE galette_groups_members ( id_group int(10) NOT NULL, id_adh int(10) unsigned NOT NULL, PRIMARY KEY (id_group,id_adh), FOREIGN KEY (id_adh) REFERENCES galette_adherents (id_adh), FOREIGN KEY (id_group) REFERENCES galette_groups (id_group))
CREATE TABLE IF NOT EXISTS galette_texts ( tid smallint(6) NOT NULL auto_increment, tref varchar(20) NOT NULL, tsubject varchar(256) NOT NULL, tbody text NOT NULL, tlang varchar(16) NOT NULL, tcomment varchar(64) NOT NULL, PRIMARY KEY (tid))
CREATE TABLE IF NOT EXISTS galette_groups_managers ( id_group int(10) NOT NULL, id_adh int(10) unsigned NOT NULL, PRIMARY KEY (id_group,id_adh), FOREIGN KEY (id_adh) REFERENCES galette_adherents (id_adh), FOREIGN KEY (id_group) REFERENCES galette_groups (id_group))
CREATE TABLE galette_l10n ( text_orig character varying(100) NOT NULL, text_locale character varying(15) NOT NULL, text_nref integer DEFAULT '1' NOT NULL, text_trans character varying(100) DEFAULT '' NOT NULL, PRIMARY KEY (text_orig, text_locale))
CREATE TABLE galette_pictures ( id_adh int(10) unsigned NOT NULL default '0', picture mediumblob NOT NULL, format varchar(10) NOT NULL default '', PRIMARY KEY (id_adh))
CREATE TABLE logs ( id_log integer DEFAULT nextval('logs_id_seq'::text) NOT NULL, date_log timestamp NOT NULL, ip_log character varying(30) DEFAULT '' NOT NULL, adh_log character varying(41) DEFAULT '' NOT NULL, text_log text)
CREATE TABLE galette_import_model ( model_id integer DEFAULT nextval('galette_import_model_id_seq'::text) NOT NULL, model_fields text, model_creation_date timestamp NOT NULL, PRIMARY KEY (model_id))
CREATE TABLE galette_pdfmodels ( model_id int(10) unsigned NOT NULL auto_increment, model_name varchar(50) NOT NULL, model_type tinyint(2) NOT NULL, model_header text, model_footer text, model_body text, model_styles text, model_title varchar(100), model_subtitle varchar(100), model_parent int(10) unsigned DEFAULT NULL REFERENCES galette_pdfmodels (model_id) ON DELETE RESTRICT ON UPDATE CASCADE, PRIMARY KEY (model_id))
SELECT max(id_statut) FROM galette_statuts));
CREATE TABLE galette_pictures ( id_adh integer DEFAULT '0' NOT NULL, picture bytea NOT NULL, format character varying(30) DEFAULT '' NOT NULL, PRIMARY KEY (id_adh))
CREATE INDEX galette_field_types_form_idx ON galette_field_types (field_form);
CREATE TABLE galette_titles ( id_title int(10) unsigned NOT NULL auto_increment, short_label varchar(10) NOT NULL default '', long_label varchar(30) NULL default '', PRIMARY KEY (id_title))
CREATE TABLE galette_fields_categories ( id_field_category integer DEFAULT nextval('galette_fields_categories_id_seq'::text) NOT NULL, table_name character varying(30) NOT NULL, category character varying(50) NOT NULL, position integer NOT NULL, PRIMARY KEY (id_field_category))
CREATE TABLE galette_tmppasswds ( id_adh int(10) unsigned NOT NULL, tmp_passwd varchar(60) NOT NULL, date_crea_tmp_passwd datetime NOT NULL, PRIMARY KEY (id_adh), FOREIGN KEY (id_adh) REFERENCES galette_adherents (id_adh) ON DELETE CASCADE)
CREATE TABLE galette_reminders ( reminder_id smallint(6) NOT NULL auto_increment, reminder_type int(10) NOT NULL, reminder_dest int(10) unsigned, reminder_date datetime NOT NULL, reminder_success tinyint(1) NOT NULL DEFAULT 0, reminder_nomail tinyint(1) NOT NULL DEFAULT 1, reminder_comment text, PRIMARY KEY (reminder_id), FOREIGN KEY (reminder_dest) REFERENCES galette_adherents (id_adh) ON DELETE CASCADE)
CREATE TABLE galette_required (	field_id character varying(20) NOT NULL,	required boolean DEFAULT false NOT NULL,	PRIMARY KEY (field_id))
UPDATE galette_preferences SET val_pref=en_EN  WHERE nom_pref=pref_lang
CREATE TABLE galette_transactions ( trans_id int(10) unsigned NOT NULL auto_increment, trans_date date NOT NULL default '0000-00-00', trans_amount float default '0', trans_desc varchar(30) NOT NULL default '', id_adh int(10) unsigned default NULL, PRIMARY KEY (trans_id))
CREATE TABLE galette_l10n ( text_orig character varying(40) NOT NULL, text_locale character varying(15) NOT NULL, text_nref integer DEFAULT '1' NOT NULL, text_trans character varying(40) DEFAULT '' NOT NULL)
CREATE INDEX galette_field_types_field_form_idx ON galette_field_types (field_form);
CREATE TABLE ' . $contents_table . ' (id INTEGER NOT NULL,val varchar(' . $max_length . ') NOT NULL)
CREATE TABLE galette_texts ( tid integer DEFAULT nextval('galette_texts_id_seq'::text) NOT NULL, tref character varying(20) NOT NULL, tsubject character varying(256) NOT NULL, tbody text NOT NULL, tlang character varying(16) NOT NULL, tcomment character varying(64) NOT NULL, PRIMARY KEY (tid))
CREATE TABLE galette_types_cotisation ( id_type_cotis int(10) unsigned NOT NULL auto_increment, libelle_type_cotis varchar(100) NOT NULL default '', cotis_extension tinyint(1) NOT NULL default 0, PRIMARY KEY (id_type_cotis))
UPDATE galette_adherents SET pref_lang=en_EN  WHERE pref_lang=english
CREATE TABLE galette_pictures ( id_adh integer DEFAULT 0 NOT NULL, picture bytea NOT NULL, format character varying(30) DEFAULT ''::character varying NOT NULL)
CREATE TABLE galette_texts ( tid smallint(6) NOT NULL auto_increment, tref varchar(20) NOT NULL, tsubject varchar(256) NOT NULL, tbody text NOT NULL, tlang varchar(16) NOT NULL, tcomment varchar(64) NOT NULL, PRIMARY KEY (tid))
CREATE TABLE galette_tmppasswds ( id_adh integer NOT NULL, tmp_passwd character varying(40) NOT NULL, date_crea_tmp_passwd timestamp NOT NULL)
CREATE TABLE galette_dynamic_fields ( item_id int(10) NOT NULL default '0', field_id int(10) unsigned NOT NULL default '0', field_form varchar(10) NOT NULL, val_index int(10) NOT NULL default '0', field_val text, PRIMARY KEY (item_id, field_id, field_form, val_index), FOREIGN KEY (field_id) REFERENCES galette_field_types (field_id))
CREATE TABLE galette_l10n ( text_orig varchar(100) NOT NULL, text_locale varchar(15) NOT NULL, text_nref int(10) NOT NULL default '1', text_trans varchar(100) NOT NULL default '', PRIMARY KEY (text_orig, text_locale))
UPDATE galette_adherents SET sexe_adh = titre_adh WHERE sexe_adh = 3
CREATE TABLE galette_field_types ( field_id int(10) unsigned NOT NULL auto_increment, field_form varchar(10) NOT NULL, field_index int(10) NOT NULL default '0', field_name varchar(40) NOT NULL default '', field_perm int(10) NOT NULL default '0', field_type int(10) NOT NULL default '0', field_required enum('1') default NULL, field_pos int(10) NOT NULL default '0', field_width int(10) default NULL, field_height int(10) default NULL, field_size int(10) default NULL, field_repeat int(10) default NULL, field_layout int(10) default NULL, PRIMARY KEY (field_id), INDEX (field_form))
CREATE TABLE IF NOT EXISTS galette_groups_members ( id_group int(10) NOT NULL, id_adh int(10) unsigned NOT NULL, PRIMARY KEY (id_group,id_adh), FOREIGN KEY (id_adh) REFERENCES galette_adherents (id_adh), FOREIGN KEY (id_group) REFERENCES galette_groups (id_group))
CREATE TABLE galette_tmppasswds ( id_adh int(10) NOT NULL, tmp_passwd varchar(40) NOT NULL, date_crea_tmp_passwd datetime NOT NULL, PRIMARY KEY (id_adh))
CREATE TABLE galette_field_types ( field_id integer DEFAULT nextval('galette_field_types_id_seq'::text) NOT NULL, field_form character varying(10) NOT NULL, field_index integer DEFAULT '0' NOT NULL, field_name character varying(40) DEFAULT '' NOT NULL, field_perm integer DEFAULT '0' NOT NULL, field_type integer DEFAULT '0' NOT NULL, field_required boolean DEFAULT FALSE, field_pos integer DEFAULT '0' NOT NULL, field_width integer DEFAULT NULL, field_height integer DEFAULT NULL, field_size integer DEFAULT NULL, field_repeat integer DEFAULT NULL, field_layout integer DEFAULT NULL, PRIMARY KEY (field_id))
CREATE TABLE galette_l10n ( text_orig varchar(40) NOT NULL, text_locale varchar(15) NOT NULL, text_nref int(10) NOT NULL default '1', text_trans varchar(100) NOT NULL default '', UNIQUE INDEX (text_orig(20), text_locale(5)))
CREATE TABLE galette_database ( version decimal NOT NULL)
CREATE TABLE galette_field_types ( field_id integer DEFAULT nextval('galette_field_types_id_seq'::text) NOT NULL, field_form character varying(10) NOT NULL, field_index integer DEFAULT '0' NOT NULL, field_name character varying(40) DEFAULT '' NOT NULL, field_perm integer DEFAULT '0' NOT NULL, field_type integer DEFAULT '0' NOT NULL, field_required character(1) DEFAULT NULL, field_pos integer DEFAULT '0' NOT NULL, field_width integer DEFAULT NULL, field_height integer DEFAULT NULL, field_size integer DEFAULT NULL, field_repeat integer DEFAULT NULL, field_layout integer DEFAULT NULL)
UPDATE galette_preferences SET val_pref=en_EN  WHERE nom_pref=pref_lang
CREATE TABLE galette_transactions ( trans_id integer DEFAULT nextval('galette_transactions_id_seq'::text) NOT NULL, trans_date date DEFAULT '19010101' NOT NULL, trans_amount real DEFAULT '0', trans_desc character varying(30) NOT NULL DEFAULT '', id_adh integer DEFAULT NULL)
CREATE TABLE galette_dynamic_fields ( item_id int(10) NOT NULL default '0', field_id int(10) NOT NULL default '0', field_form varchar(10) NOT NULL, val_index int(10) NOT NULL default '0', field_val text DEFAULT '', KEY (item_id))
CREATE TABLE galette_cotisations ( id_cotis integer DEFAULT nextval('galette_cotisations_id_seq'::text) NOT NULL, id_adh integer REFERENCES galette_adherents (id_adh) ON DELETE RESTRICT ON UPDATE CASCADE, id_type_cotis integer REFERENCES galette_types_cotisation (id_type_cotis) ON DELETE RESTRICT ON UPDATE CASCADE, montant_cotis real DEFAULT '0', type_paiement_cotis smallint DEFAULT '0' NOT NULL, info_cotis text, date_enreg date DEFAULT '19010101' NOT NULL, date_debut_cotis date DEFAULT '19010101' NOT NULL, date_fin_cotis date DEFAULT '19010101' NOT NULL, trans_id integer DEFAULT NULL REFERENCES galette_transactions (trans_id) ON DELETE RESTRICT ON UPDATE CASCADE, PRIMARY KEY (id_cotis))
CREATE TABLE galette_dynamic_fields ( item_id integer DEFAULT '0' NOT NULL, field_id integer DEFAULT '0' NOT NULL, field_form character varying(10) NOT NULL, val_index integer DEFAULT '0' NOT NULL, field_val text DEFAULT '')
CREATE TABLE IF NOT EXISTS galette_mailing_history ( mailing_id smallint(6) NOT NULL auto_increment, mailing_sender int(10) unsigned, mailing_subject varchar(255) COLLATE utf8_unicode_ci NOT NULL, mailing_body text NOT NULL, mailing_date datetime NOT NULL, mailing_recipients text NOT NULL, mailing_sent tinyint(1) NOT NULL, PRIMARY KEY (mailing_id), FOREIGN KEY (mailing_sender) REFERENCES galette_adherents (id_adh))
CREATE TABLE galette_logs ( id_log int(10) unsigned NOT NULL auto_increment, date_log datetime NOT NULL, ip_log varchar(46) NOT NULL default '', adh_log varchar(41) NOT NULL default '', text_log text, action_log text, sql_log text, PRIMARY KEY (id_log))
INSERT INTO galette_types_cotisation VALUES (7, 'Cotisation annuelle ( payer)')
CREATE TABLE galette_statuts ( id_statut integer DEFAULT nextval('galette_statuts_id_seq'::text) NOT NULL, libelle_statut character varying(100) DEFAULT '' NOT NULL, priorite_statut smallint DEFAULT '0' NOT NULL, PRIMARY KEY (id_statut))
CREATE INDEX galette_dynamic_fields_item_idx ON galette_dynamic_fields (item_id);
UPDATE galette_preferences SET val_pref = 100  WHERE nom_pref = pref_numrows
CREATE TABLE galette_field_types ( field_id int(10) unsigned NOT NULL auto_increment, field_form varchar(10) NOT NULL, field_index int(10) NOT NULL default '0', field_name varchar(40) NOT NULL default '', field_perm int(10) NOT NULL default '0', field_type int(10) NOT NULL default '0', field_required tinyint(1) NOT NULL default 0, field_pos int(10) NOT NULL default '0', field_width int(10) default NULL, field_height int(10) default NULL, field_size int(10) default NULL, field_repeat int(10) default NULL, field_layout int(10) default NULL, PRIMARY KEY (field_id), INDEX (field_form))
