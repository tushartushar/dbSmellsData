CREATE TABLE xi_filelib_folder (id INT NOT NULL, parent_id INT DEFAULT NULL, uuid VARCHAR(36) NOT NULL, data JSON NOT NULL, foldername VARCHAR(255) NOT NULL, folderurl VARCHAR(5000) NOT NULL, PRIMARY KEY(id))
CREATE TABLE xi_filelib_folder (id INT AUTO_INCREMENT NOT NULL, parent_id INT DEFAULT NULL, uuid VARCHAR(36) NOT NULL, data LONGTEXT NOT NULL COMMENT '(DC2Type:json_array)', foldername VARCHAR(255) NOT NULL, folderurl VARCHAR(5000) NOT NULL, UNIQUE INDEX UNIQ_A5EA9E8BD17F50A6 (uuid), INDEX IDX_A5EA9E8B727ACA70 (parent_id), PRIMARY KEY(id))
CREATE TABLE xi_filelib_file (id INTEGER NOT NULL, folder_id INTEGER NOT NULL, resource_id INTEGER NOT NULL, uuid VARCHAR(36) NOT NULL, data CLOB NOT NULL, fileprofile VARCHAR(255) NOT NULL, filename VARCHAR(255) NOT NULL, date_created DATETIME NOT NULL, status INTEGER NOT NULL, PRIMARY KEY(id), CONSTRAINT FK_E8606524162CB942 FOREIGN KEY (folder_id) REFERENCES xi_filelib_folder (id) NOT DEFERRABLE INITIALLY IMMEDIATE, CONSTRAINT FK_E860652489329D25 FOREIGN KEY (resource_id) REFERENCES xi_filelib_resource (id) NOT DEFERRABLE INITIALLY IMMEDIATE)
CREATE TABLE xi_filelib_resource (id INT AUTO_INCREMENT NOT NULL, uuid VARCHAR(36) NOT NULL, data LONGTEXT NOT NULL COMMENT '(DC2Type:json_array)', hash VARCHAR(255) NOT NULL, mimetype VARCHAR(255) NOT NULL, filesize INT NOT NULL, exclusive TINYINT(1) NOT NULL, date_created DATETIME NOT NULL, UNIQUE INDEX UNIQ_74D9533AD17F50A6 (uuid), PRIMARY KEY(id))
CREATE TABLE xi_filelib_file (id INT AUTO_INCREMENT NOT NULL, folder_id INT NOT NULL, resource_id INT NOT NULL, uuid VARCHAR(36) NOT NULL, data LONGTEXT NOT NULL COMMENT '(DC2Type:json_array)', fileprofile VARCHAR(255) NOT NULL, filename VARCHAR(255) NOT NULL, date_created DATETIME NOT NULL, status INT NOT NULL, UNIQUE INDEX UNIQ_E8606524D17F50A6 (uuid), INDEX IDX_E8606524162CB942 (folder_id), INDEX IDX_E860652489329D25 (resource_id), UNIQUE INDEX folderid_filename_unique (folder_id, filename), PRIMARY KEY(id))
CREATE TABLE xi_filelib_resource (id INT NOT NULL, uuid VARCHAR(36) NOT NULL, data JSON NOT NULL, hash VARCHAR(255) NOT NULL, mimetype VARCHAR(255) NOT NULL, filesize INT NOT NULL, exclusive BOOLEAN NOT NULL, date_created TIMESTAMP(0) WITHOUT TIME ZONE NOT NULL, PRIMARY KEY(id))
CREATE INDEX IDX_A5EA9E8B727ACA70 ON xi_filelib_folder (parent_id);
CREATE INDEX IDX_E8606524162CB942 ON xi_filelib_file (folder_id);
SELECT * FROM {$tableName} WHERE id IN ({$ids})
CREATE TABLE xi_filelib_resource (id INT NOT NULL, hash VARCHAR(255) NOT NULL, mimetype VARCHAR(255) NOT NULL, filesize INT NOT NULL, exclusive BOOLEAN NOT NULL, date_created TIMESTAMP(0) WITHOUT TIME ZONE NOT NULL, versions TEXT NOT NULL, PRIMARY KEY(id))
CREATE TABLE xi_filelib_resource (id INT AUTO_INCREMENT NOT NULL, hash VARCHAR(255) NOT NULL, mimetype VARCHAR(255) NOT NULL, filesize INT NOT NULL, exclusive TINYINT(1) NOT NULL, date_created DATETIME NOT NULL, versions LONGTEXT NOT NULL COMMENT '(DC2Type:array)', PRIMARY KEY(id))
CREATE TABLE xi_filelib_folder (id INTEGER NOT NULL, parent_id INTEGER DEFAULT NULL, uuid VARCHAR(36) NOT NULL, data CLOB NOT NULL, foldername VARCHAR(255) NOT NULL, folderurl CLOB NOT NULL, PRIMARY KEY(id), CONSTRAINT FK_A5EA9E8B727ACA70 FOREIGN KEY (parent_id) REFERENCES xi_filelib_folder (id) NOT DEFERRABLE INITIALLY IMMEDIATE)
CREATE TABLE xi_filelib_folder(id integer PRIMARY KEY AUTOINCREMENT,parent_id integer NULL,foldername varchar(255) NOT NULL,folderurl varchar(5000) NOT NULL,UNIQUE (parent_id, foldername),UNIQUE(folderurl),FOREIGN KEY(parent_id) REFERENCES xi_filelib_folder (id) ON DELETE CASCADE ON UPDATE CASCADE)
SELECT * FROM xi_filelib_resource WHERE id = ?
SELECT COUNT(id) FROM xi_filelib_file WHERE resource_id = ?
CREATE INDEX IDX_E860652489329D25 ON xi_filelib_file (resource_id);
CREATE TABLE xi_filelib_file (id INT NOT NULL, folder_id INT NOT NULL, resource_id INT NOT NULL, uuid VARCHAR(36) NOT NULL, data JSON NOT NULL, fileprofile VARCHAR(255) NOT NULL, filename VARCHAR(255) NOT NULL, date_created TIMESTAMP(0) WITHOUT TIME ZONE NOT NULL, status INT NOT NULL, PRIMARY KEY(id))
