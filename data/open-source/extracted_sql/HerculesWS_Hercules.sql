SELECT count(*) FROM `%s` WHERE `ip` = '%s' AND `rcode` = '1' AND `time` > NOW() - INTERVAL %u MINUTE
CREATE TABLE IF NOT EXISTS `ragsrvinfo` ( `index` INT(11) NOT NULL DEFAULT '0', `name` VARCHAR(255) NOT NULL DEFAULT '', `exp` INT(11) UNSIGNED NOT NULL DEFAULT '0', `jexp` INT(11) UNSIGNED NOT NULL DEFAULT '0', `drop` INT(11) UNSIGNED NOT NULL DEFAULT '0')
CREATE TABLE IF NOT EXISTS `pet` ( `pet_id` INT(11) UNSIGNED NOT NULL AUTO_INCREMENT, `class` MEDIUMINT(9) UNSIGNED NOT NULL DEFAULT '0', `name` VARCHAR(24) NOT NULL DEFAULT '', `account_id` INT(11) UNSIGNED NOT NULL DEFAULT '0', `char_id` INT(11) UNSIGNED NOT NULL DEFAULT '0', `level` SMALLINT(4) UNSIGNED NOT NULL DEFAULT '0', `egg_id` SMALLINT(11) UNSIGNED NOT NULL DEFAULT '0', `equip` MEDIUMINT(8) UNSIGNED NOT NULL DEFAULT '0', `intimate` SMALLINT(9) UNSIGNED NOT NULL DEFAULT '0', `hungry` SMALLINT(9) UNSIGNED NOT NULL DEFAULT '0', `rename_flag` TINYINT(4) UNSIGNED NOT NULL DEFAULT '0', `incubate` INT(11) UNSIGNED NOT NULL DEFAULT '0', PRIMARY KEY (`pet_id`))
CREATE TABLE IF NOT EXISTS `mvplog` ( `mvp_id` MEDIUMINT(9) UNSIGNED NOT NULL AUTO_INCREMENT, `mvp_date` DATETIME NULL, `kill_char_id` INT(11) NOT NULL DEFAULT '0', `monster_id` SMALLINT(6) NOT NULL DEFAULT '0', `prize` INT(11) NOT NULL DEFAULT '0', `mvpexp` MEDIUMINT(9) NOT NULL DEFAULT '0', `map` VARCHAR(11) NOT NULL DEFAULT '', PRIMARY KEY (`mvp_id`))
CREATE TABLE IF NOT EXISTS `party` ( `party_id` INT(11) UNSIGNED NOT NULL AUTO_INCREMENT, `name` VARCHAR(24) NOT NULL DEFAULT '', `exp` TINYINT(11) UNSIGNED NOT NULL DEFAULT '0', `item` TINYINT(11) UNSIGNED NOT NULL DEFAULT '0', `leader_id` INT(11) UNSIGNED NOT NULL DEFAULT '0', `leader_char` INT(11) UNSIGNED NOT NULL DEFAULT '0', PRIMARY KEY (`party_id`))
CREATE TABLE IF NOT EXISTS `atcommandlog` ( `atcommand_id` MEDIUMINT(9) UNSIGNED NOT NULL AUTO_INCREMENT, `atcommand_date` DATETIME NULL, `account_id` INT(11) UNSIGNED NOT NULL DEFAULT '0', `char_id` INT(11) UNSIGNED NOT NULL DEFAULT '0', `char_name` VARCHAR(25) NOT NULL DEFAULT '', `map` VARCHAR(11) NOT NULL DEFAULT '', `command` VARCHAR(255) NOT NULL DEFAULT '', PRIMARY KEY (`atcommand_id`), INDEX (`account_id`), INDEX (`char_id`))
CREATE TABLE IF NOT EXISTS `autotrade_merchants` ( `account_id` INT(11) NOT NULL DEFAULT '0', `char_id` INT(11) NOT NULL DEFAULT '0', `sex` TINYINT(2) NOT NULL DEFAULT '0', `title` VARCHAR(80) NOT NULL DEFAULT 'Buy From Me!', PRIMARY KEY (`account_id`,`char_id`))
CREATE TABLE IF NOT EXISTS `npclog` ( `npc_id` MEDIUMINT(9) UNSIGNED NOT NULL AUTO_INCREMENT, `npc_date` DATETIME NULL, `account_id` INT(11) UNSIGNED NOT NULL DEFAULT '0', `char_id` INT(11) UNSIGNED NOT NULL DEFAULT '0', `char_name` VARCHAR(25) NOT NULL DEFAULT '', `map` VARCHAR(11) NOT NULL DEFAULT '', `mes` VARCHAR(255) NOT NULL DEFAULT '', PRIMARY KEY (`npc_id`), INDEX (`account_id`), INDEX (`char_id`))
CREATE TABLE IF NOT EXISTS `account_data` ( `account_id` INT(11) UNSIGNED NOT NULL DEFAULT '0', `bank_vault` INT(11) UNSIGNED NOT NULL DEFAULT '0', `base_exp` SMALLINT(6) UNSIGNED NOT NULL DEFAULT '100', `base_drop` SMALLINT(6) UNSIGNED NOT NULL DEFAULT '100', `base_death` SMALLINT(6) UNSIGNED NOT NULL DEFAULT '100', PRIMARY KEY (`account_id`))
CREATE TABLE IF NOT EXISTS `guild_member` ( `guild_id` INT(11) UNSIGNED NOT NULL DEFAULT '0', `account_id` INT(11) UNSIGNED NOT NULL DEFAULT '0', `char_id` INT(11) UNSIGNED NOT NULL DEFAULT '0', `hair` TINYINT(6) UNSIGNED NOT NULL DEFAULT '0', `hair_color` SMALLINT(6) UNSIGNED NOT NULL DEFAULT '0', `gender` TINYINT(6) UNSIGNED NOT NULL DEFAULT '0', `class` SMALLINT(6) UNSIGNED NOT NULL DEFAULT '0', `lv` SMALLINT(6) UNSIGNED NOT NULL DEFAULT '0', `exp` BIGINT(20) UNSIGNED NOT NULL DEFAULT '0', `exp_payper` TINYINT(11) UNSIGNED NOT NULL DEFAULT '0', `online` TINYINT(4) UNSIGNED NOT NULL DEFAULT '0', `position` TINYINT(6) UNSIGNED NOT NULL DEFAULT '0', `name` VARCHAR(24) NOT NULL DEFAULT '', PRIMARY KEY (`guild_id`,`char_id`), KEY `char_id` (`char_id`))
CREATE TABLE IF NOT EXISTS `mob_skill_db2` ( `MOB_ID` SMALLINT(6) NOT NULL, `INFO` TEXT NOT NULL, `STATE` TEXT NOT NULL, `SKILL_ID` SMALLINT(6) NOT NULL, `SKILL_LV` TINYINT(4) NOT NULL, `RATE` SMALLINT(4) NOT NULL, `CASTTIME` MEDIUMINT(9) NOT NULL, `DELAY` INT(9) NOT NULL, `CANCELABLE` TEXT NOT NULL, `TARGET` TEXT NOT NULL, `CONDITION` TEXT NOT NULL, `CONDITION_VALUE` TEXT, `VAL1` MEDIUMINT(9) DEFAULT NULL, `VAL2` MEDIUMINT(9) DEFAULT NULL, `VAL3` MEDIUMINT(9) DEFAULT NULL, `VAL4` MEDIUMINT(9) DEFAULT NULL, `VAL5` MEDIUMINT(9) DEFAULT NULL, `EMOTION` TEXT, `CHAT` TEXT)
CREATE TABLE IF NOT EXISTS `char_reg_num_db` ( `char_id` INT(11) UNSIGNED NOT NULL DEFAULT '0', `key` VARCHAR(32) BINARY NOT NULL DEFAULT '', `index` INT(11) UNSIGNED NOT NULL DEFAULT '0', `value` INT(11) NOT NULL DEFAULT '0', PRIMARY KEY (`char_id`,`key`,`index`), KEY `char_id` (`char_id`))
CREATE TABLE IF NOT EXISTS `mercenary_owner` ( `char_id` INT(11) NOT NULL, `merc_id` INT(11) NOT NULL DEFAULT '0', `arch_calls` INT(11) NOT NULL DEFAULT '0', `arch_faith` INT(11) NOT NULL DEFAULT '0', `spear_calls` INT(11) NOT NULL DEFAULT '0', `spear_faith` INT(11) NOT NULL DEFAULT '0', `sword_calls` INT(11) NOT NULL DEFAULT '0', `sword_faith` INT(11) NOT NULL DEFAULT '0', PRIMARY KEY (`char_id`))
CREATE TABLE IF NOT EXISTS `chatlog` ( `id` BIGINT(20) NOT NULL AUTO_INCREMENT, `time` DATETIME NULL, `type` ENUM('O','W','P','G','M') NOT NULL DEFAULT 'O', `type_id` INT(11) NOT NULL DEFAULT '0', `src_charid` INT(11) NOT NULL DEFAULT '0', `src_accountid` INT(11) NOT NULL DEFAULT '0', `src_map` VARCHAR(11) NOT NULL DEFAULT '', `src_map_x` SMALLINT(4) NOT NULL DEFAULT '0', `src_map_y` SMALLINT(4) NOT NULL DEFAULT '0', `dst_charname` VARCHAR(25) NOT NULL DEFAULT '', `message` VARCHAR(150) NOT NULL DEFAULT '', PRIMARY KEY (`id`), INDEX (`src_accountid`), INDEX (`src_charid`))
CREATE TABLE IF NOT EXISTS `storage` ( `id` INT(11) UNSIGNED NOT NULL AUTO_INCREMENT, `account_id` INT(11) UNSIGNED NOT NULL DEFAULT '0', `nameid` INT(11) UNSIGNED NOT NULL DEFAULT '0', `amount` SMALLINT(11) UNSIGNED NOT NULL DEFAULT '0', `equip` INT(11) UNSIGNED NOT NULL DEFAULT '0', `identify` SMALLINT(6) UNSIGNED NOT NULL DEFAULT '0', `refine` TINYINT(3) UNSIGNED NOT NULL DEFAULT '0', `attribute` TINYINT(4) UNSIGNED NOT NULL DEFAULT '0', `card0` SMALLINT(11) NOT NULL DEFAULT '0', `card1` SMALLINT(11) NOT NULL DEFAULT '0', `card2` SMALLINT(11) NOT NULL DEFAULT '0', `card3` SMALLINT(11) NOT NULL DEFAULT '0', `expire_time` INT(11) UNSIGNED NOT NULL DEFAULT '0', `bound` TINYINT(1) UNSIGNED NOT NULL DEFAULT '0', `unique_id` BIGINT(20) UNSIGNED NOT NULL DEFAULT '0', PRIMARY KEY (`id`), KEY `account_id` (`account_id`))
CREATE TABLE IF NOT EXISTS `acc_reg_num_db` ( `account_id` INT(11) UNSIGNED NOT NULL DEFAULT '0', `key` VARCHAR(32) BINARY NOT NULL DEFAULT '', `index` INT(11) UNSIGNED NOT NULL DEFAULT '0', `value` INT(11) NOT NULL DEFAULT '0', PRIMARY KEY (`account_id`,`key`,`index`), KEY `account_id` (`account_id`))
CREATE TABLE IF NOT EXISTS `interlog` ( `time` DATETIME NULL, `log` VARCHAR(255) NOT NULL DEFAULT '')
CREATE TABLE IF NOT EXISTS `global_acc_reg_num_db` ( `account_id` INT(11) UNSIGNED NOT NULL DEFAULT '0', `key` VARCHAR(32) BINARY NOT NULL DEFAULT '', `index` INT(11) UNSIGNED NOT NULL DEFAULT '0', `value` INT(11) NOT NULL DEFAULT '0', PRIMARY KEY (`account_id`,`key`,`index`), KEY `account_id` (`account_id`))
CREATE TABLE IF NOT EXISTS `sc_data` ( `account_id` INT(11) UNSIGNED NOT NULL, `char_id` INT(11) UNSIGNED NOT NULL, `type` SMALLINT(11) UNSIGNED NOT NULL, `tick` INT(11) NOT NULL, `val1` INT(11) NOT NULL DEFAULT '0', `val2` INT(11) NOT NULL DEFAULT '0', `val3` INT(11) NOT NULL DEFAULT '0', `val4` INT(11) NOT NULL DEFAULT '0', KEY (`account_id`), KEY (`char_id`), PRIMARY KEY (`account_id`,`char_id`,`type`))
CREATE TABLE IF NOT EXISTS `quest` ( `char_id` INT(11) UNSIGNED NOT NULL DEFAULT '0', `quest_id` INT(10) UNSIGNED NOT NULL, `state` ENUM('0','1','2') NOT NULL DEFAULT '0', `time` INT(11) UNSIGNED NOT NULL DEFAULT '0', `count1` MEDIUMINT(8) UNSIGNED NOT NULL DEFAULT '0', `count2` MEDIUMINT(8) UNSIGNED NOT NULL DEFAULT '0', `count3` MEDIUMINT(8) UNSIGNED NOT NULL DEFAULT '0', PRIMARY KEY (`char_id`,`quest_id`))
CREATE TABLE IF NOT EXISTS `picklog` ( `id` INT(11) NOT NULL AUTO_INCREMENT, `time` DATETIME NULL, `char_id` INT(11) NOT NULL DEFAULT '0', `type` ENUM('M','P','L','T','V','S','N','C','A','R','G','E','B','O','I','X','D','U','K','Y','Z','W','Q','J','H','@','0','1','2') NOT NULL DEFAULT 'P', `nameid` INT(11) NOT NULL DEFAULT '0', `amount` INT(11) NOT NULL DEFAULT '1', `refine` TINYINT(3) UNSIGNED NOT NULL DEFAULT '0', `card0` INT(11) NOT NULL DEFAULT '0', `card1` INT(11) NOT NULL DEFAULT '0', `card2` INT(11) NOT NULL DEFAULT '0', `card3` INT(11) NOT NULL DEFAULT '0', `unique_id` BIGINT(20) UNSIGNED NOT NULL DEFAULT '0', `map` VARCHAR(11) NOT NULL DEFAULT '', PRIMARY KEY (`id`), INDEX (`type`))
CREATE TABLE IF NOT EXISTS `inventory` ( `id` INT(11) UNSIGNED NOT NULL AUTO_INCREMENT, `char_id` INT(11) UNSIGNED NOT NULL DEFAULT '0', `nameid` INT(11) UNSIGNED NOT NULL DEFAULT '0', `amount` INT(11) UNSIGNED NOT NULL DEFAULT '0', `equip` INT(11) UNSIGNED NOT NULL DEFAULT '0', `identify` SMALLINT(6) NOT NULL DEFAULT '0', `refine` TINYINT(3) UNSIGNED NOT NULL DEFAULT '0', `attribute` TINYINT(4) UNSIGNED NOT NULL DEFAULT '0', `card0` SMALLINT(11) NOT NULL DEFAULT '0', `card1` SMALLINT(11) NOT NULL DEFAULT '0', `card2` SMALLINT(11) NOT NULL DEFAULT '0', `card3` SMALLINT(11) NOT NULL DEFAULT '0', `expire_time` INT(11) UNSIGNED NOT NULL DEFAULT '0', `favorite` TINYINT(3) UNSIGNED NOT NULL DEFAULT '0', `bound` TINYINT(1) UNSIGNED NOT NULL DEFAULT '0', `unique_id` BIGINT(20) UNSIGNED NOT NULL DEFAULT '0', PRIMARY KEY (`id`), KEY `char_id` (`char_id`))
CREATE TABLE IF NOT EXISTS `interreg` ( `varname` VARCHAR(11) NOT NULL, `value` VARCHAR(20) NOT NULL, PRIMARY KEY (`varname`))
CREATE TABLE IF NOT EXISTS `hotkey` ( `char_id` INT(11) NOT NULL, `hotkey` TINYINT(2) UNSIGNED NOT NULL, `type` TINYINT(1) UNSIGNED NOT NULL DEFAULT '0', `itemskill_id` INT(11) UNSIGNED NOT NULL DEFAULT '0', `skill_lvl` TINYINT(4) UNSIGNED NOT NULL DEFAULT '0', PRIMARY KEY (`char_id`,`hotkey`))
CREATE TABLE IF NOT EXISTS `mapreg` ( `varname` VARCHAR(32) BINARY NOT NULL, `index` INT(11) UNSIGNED NOT NULL DEFAULT '0', `value` VARCHAR(255) NOT NULL, PRIMARY KEY (`varname`,`index`))
CREATE TABLE IF NOT EXISTS `sql_updates` ( `timestamp` INT(11) UNSIGNED NOT NULL, `ignored` ENUM('Yes','No') NOT NULL DEFAULT 'No', PRIMARY KEY (`timestamp`))
CREATE TABLE IF NOT EXISTS `zenylog` ( `id` INT(11) NOT NULL AUTO_INCREMENT, `time` DATETIME NULL, `char_id` INT(11) NOT NULL DEFAULT '0', `src_id` INT(11) NOT NULL DEFAULT '0', `type` ENUM('T','V','P','M','S','N','D','C','A','E','I','B') NOT NULL DEFAULT 'S', `amount` INT(11) NOT NULL DEFAULT '0', `map` VARCHAR(11) NOT NULL DEFAULT '', PRIMARY KEY (`id`), INDEX (`type`))
CREATE TABLE IF NOT EXISTS `guild_skill` ( `guild_id` INT(11) UNSIGNED NOT NULL DEFAULT '0', `id` SMALLINT(11) UNSIGNED NOT NULL DEFAULT '0', `lv` TINYINT(11) UNSIGNED NOT NULL DEFAULT '0', PRIMARY KEY (`guild_id`,`id`))
SELECT guild_id FROM `%s` WHERE name='%s'
SELECT count(*) FROM `%s` WHERE `rtime` > NOW() AND (`list` = '%u.*.*.*' OR `list` = '%u.%u.*.*' OR `list` = '%u.%u.%u.*' OR `list` = '%u.%u.%u.%u')
CREATE TABLE IF NOT EXISTS `elemental` ( `ele_id` INT(11) UNSIGNED NOT NULL auto_increment, `char_id` INT(11) NOT NULL, `class` MEDIUMINT(9) UNSIGNED NOT NULL DEFAULT '0', `mode` INT(11) UNSIGNED NOT NULL DEFAULT '1', `hp` INT(12) NOT NULL DEFAULT '1', `sp` INT(12) NOT NULL DEFAULT '1', `max_hp` MEDIUMINT(8) UNSIGNED NOT NULL DEFAULT '0', `max_sp` MEDIUMINT(6) UNSIGNED NOT NULL DEFAULT '0', `str` SMALLINT(4) UNSIGNED NOT NULL DEFAULT '0', `agi` SMALLINT(4) UNSIGNED NOT NULL DEFAULT '0', `vit` SMALLINT(4) UNSIGNED NOT NULL DEFAULT '0', `INT` SMALLINT(4) UNSIGNED NOT NULL DEFAULT '0', `dex` SMALLINT(4) UNSIGNED NOT NULL DEFAULT '0', `luk` SMALLINT(4) UNSIGNED NOT NULL DEFAULT '0', `life_time` INT(11) NOT NULL DEFAULT '0', PRIMARY KEY (`ele_id`))
CREATE TABLE IF NOT EXISTS `guild` ( `guild_id` INT(11) UNSIGNED NOT NULL AUTO_INCREMENT, `name` VARCHAR(24) NOT NULL DEFAULT '', `char_id` INT(11) UNSIGNED NOT NULL DEFAULT '0', `master` VARCHAR(24) NOT NULL DEFAULT '', `guild_lv` TINYINT(6) UNSIGNED NOT NULL DEFAULT '0', `connect_member` TINYINT(6) UNSIGNED NOT NULL DEFAULT '0', `max_member` TINYINT(6) UNSIGNED NOT NULL DEFAULT '0', `average_lv` SMALLINT(6) UNSIGNED NOT NULL DEFAULT '1', `exp` BIGINT(20) UNSIGNED NOT NULL DEFAULT '0', `next_exp` INT(11) UNSIGNED NOT NULL DEFAULT '0', `skill_point` TINYINT(11) UNSIGNED NOT NULL DEFAULT '0', `mes1` VARCHAR(60) NOT NULL DEFAULT '', `mes2` VARCHAR(120) NOT NULL DEFAULT '', `emblem_len` INT(11) UNSIGNED NOT NULL DEFAULT '0', `emblem_id` INT(11) UNSIGNED NOT NULL DEFAULT '0', `emblem_data` blob, PRIMARY KEY (`guild_id`,`char_id`), UNIQUE KEY `guild_id` (`guild_id`), KEY `char_id` (`char_id`))
SELECT guild_id FROM `%s` WHERE char_id='%d'
CREATE TABLE IF NOT EXISTS `ipbanlist` ( `list` VARCHAR(255) NOT NULL DEFAULT '', `btime` DATETIME NULL, `rtime` DATETIME NULL, `reason` VARCHAR(255) NOT NULL DEFAULT '', KEY (`list`))
CREATE TABLE IF NOT EXISTS `global_acc_reg_str_db` ( `account_id` INT(11) UNSIGNED NOT NULL DEFAULT '0', `key` VARCHAR(32) BINARY NOT NULL DEFAULT '', `index` INT(11) UNSIGNED NOT NULL DEFAULT '0', `value` VARCHAR(254) NOT NULL DEFAULT '0', PRIMARY KEY (`account_id`,`key`,`index`), KEY `account_id` (`account_id`))
CREATE TABLE IF NOT EXISTS `guild_storage` ( `id` INT(10) UNSIGNED NOT NULL AUTO_INCREMENT, `guild_id` INT(11) UNSIGNED NOT NULL DEFAULT '0', `nameid` INT(11) UNSIGNED NOT NULL DEFAULT '0', `amount` INT(11) UNSIGNED NOT NULL DEFAULT '0', `equip` INT(11) UNSIGNED NOT NULL DEFAULT '0', `identify` SMALLINT(6) UNSIGNED NOT NULL DEFAULT '0', `refine` TINYINT(3) UNSIGNED NOT NULL DEFAULT '0', `attribute` TINYINT(4) UNSIGNED NOT NULL DEFAULT '0', `card0` SMALLINT(11) NOT NULL DEFAULT '0', `card1` SMALLINT(11) NOT NULL DEFAULT '0', `card2` SMALLINT(11) NOT NULL DEFAULT '0', `card3` SMALLINT(11) NOT NULL DEFAULT '0', `expire_time` INT(11) UNSIGNED NOT NULL DEFAULT '0', `bound` TINYINT(1) UNSIGNED NOT NULL DEFAULT '0', `unique_id` BIGINT(20) UNSIGNED NOT NULL DEFAULT '0', PRIMARY KEY (`id`), KEY `guild_id` (`guild_id`))
CREATE TABLE IF NOT EXISTS `mercenary` ( `mer_id` INT(11) UNSIGNED NOT NULL AUTO_INCREMENT, `char_id` INT(11) NOT NULL, `class` MEDIUMINT(9) UNSIGNED NOT NULL DEFAULT '0', `hp` INT(12) NOT NULL DEFAULT '1', `sp` INT(12) NOT NULL DEFAULT '1', `kill_counter` INT(11) NOT NULL, `life_time` INT(11) NOT NULL DEFAULT '0', PRIMARY KEY (`mer_id`))
select name, fame from `char` ORDER BY fame DESC LIMIT 5
SELECT 1 FROM `%s` WHERE `name` = '%s' LIMIT 1
CREATE TABLE IF NOT EXISTS `autotrade_data` ( `char_id` INT(11) NOT NULL DEFAULT '0', `itemkey` INT(11) NOT NULL DEFAULT '0', `amount` INT(11) NOT NULL DEFAULT '0', `price` INT(11) NOT NULL DEFAULT '0', PRIMARY KEY (`char_id`,`itemkey`))
CREATE TABLE IF NOT EXISTS `skill_homunculus` ( `homun_id` INT(11) NOT NULL, `id` INT(11) NOT NULL, `lv` SMALLINT(6) NOT NULL, PRIMARY KEY (`homun_id`,`id`))
CREATE TABLE IF NOT EXISTS `npc_market_data` ( `name` VARCHAR(24) NOT NULL DEFAULT '', `itemid` INT(11) UNSIGNED NOT NULL DEFAULT '0', `amount` INT(11) UNSIGNED NOT NULL DEFAULT '0', PRIMARY KEY (`name`,`itemid`))
CREATE TABLE IF NOT EXISTS `char_reg_str_db` ( `char_id` INT(11) UNSIGNED NOT NULL DEFAULT '0', `key` VARCHAR(32) BINARY NOT NULL DEFAULT '', `index` INT(11) UNSIGNED NOT NULL DEFAULT '0', `value` VARCHAR(254) NOT NULL DEFAULT '0', PRIMARY KEY (`char_id`,`key`,`index`), KEY `char_id` (`char_id`))
SELECT 1 FROM `%s` WHERE `name` LIKE '%s' LIMIT 1
CREATE TABLE IF NOT EXISTS `acc_reg_str_db` ( `account_id` INT(11) UNSIGNED NOT NULL DEFAULT '0', `key` VARCHAR(32) BINARY NOT NULL DEFAULT '', `index` INT(11) UNSIGNED NOT NULL DEFAULT '0', `value` VARCHAR(254) NOT NULL DEFAULT '0', PRIMARY KEY (`account_id`,`key`,`index`), KEY `account_id` (`account_id`))
CREATE TABLE IF NOT EXISTS `mob_skill_db` ( `MOB_ID` SMALLINT(6) NOT NULL, `INFO` TEXT NOT NULL, `STATE` TEXT NOT NULL, `SKILL_ID` SMALLINT(6) NOT NULL, `SKILL_LV` TINYINT(4) NOT NULL, `RATE` SMALLINT(4) NOT NULL, `CASTTIME` MEDIUMINT(9) NOT NULL, `DELAY` INT(9) NOT NULL, `CANCELABLE` TEXT NOT NULL, `TARGET` TEXT NOT NULL, `CONDITION` TEXT NOT NULL, `CONDITION_VALUE` TEXT, `VAL1` MEDIUMINT(9) DEFAULT NULL, `VAL2` MEDIUMINT(9) DEFAULT NULL, `VAL3` MEDIUMINT(9) DEFAULT NULL, `VAL4` MEDIUMINT(9) DEFAULT NULL, `VAL5` MEDIUMINT(9) DEFAULT NULL, `EMOTION` TEXT, `CHAT` TEXT)
CREATE TABLE IF NOT EXISTS `autotrade_merchants` ( `account_id` INT(11) NOT NULL DEFAULT '0', `char_id` INT(11) NOT NULL DEFAULT '0', `sex` TINYINT(2) NOT NULL DEFAULT '0', `title` varchar(80) NOT NULL DEFAULT 'Buy From Me!', PRIMARY KEY (`account_id`,`char_id`))
CREATE TABLE IF NOT EXISTS `sql_updates` ( `timestamp` INT(11) UNSIGNED NOT NULL, `ignored` ENUM('Yes','No') NOT NULL DEFAULT 'No')
CREATE TABLE IF NOT EXISTS `cart_inventory` ( `id` INT(11) NOT NULL AUTO_INCREMENT, `char_id` INT(11) NOT NULL DEFAULT '0', `nameid` INT(11) NOT NULL DEFAULT '0', `amount` INT(11) NOT NULL DEFAULT '0', `equip` INT(11) UNSIGNED NOT NULL DEFAULT '0', `identify` SMALLINT(6) NOT NULL DEFAULT '0', `refine` TINYINT(3) UNSIGNED NOT NULL DEFAULT '0', `attribute` TINYINT(4) NOT NULL DEFAULT '0', `card0` SMALLINT(11) NOT NULL DEFAULT '0', `card1` SMALLINT(11) NOT NULL DEFAULT '0', `card2` SMALLINT(11) NOT NULL DEFAULT '0', `card3` SMALLINT(11) NOT NULL DEFAULT '0', `expire_time` INT(11) UNSIGNED NOT NULL DEFAULT '0', `bound` TINYINT(1) UNSIGNED NOT NULL DEFAULT '0', `unique_id` BIGINT(20) UNSIGNED NOT NULL DEFAULT '0', PRIMARY KEY (`id`), KEY `char_id` (`char_id`))
CREATE TABLE IF NOT EXISTS `elemental` ( `ele_id` INT(11) UNSIGNED NOT NULL AUTO_INCREMENT, `char_id` INT(11) NOT NULL, `class` MEDIUMINT(9) UNSIGNED NOT NULL DEFAULT '0', `mode` INT(11) UNSIGNED NOT NULL DEFAULT '1', `hp` INT(12) NOT NULL DEFAULT '1', `sp` INT(12) NOT NULL DEFAULT '1', `max_hp` MEDIUMINT(8) UNSIGNED NOT NULL DEFAULT '0', `max_sp` MEDIUMINT(6) UNSIGNED NOT NULL DEFAULT '0', `atk1` MEDIUMINT(6) UNSIGNED NOT NULL DEFAULT '0', `atk2` MEDIUMINT(6) UNSIGNED NOT NULL DEFAULT '0', `matk` MEDIUMINT(6) UNSIGNED NOT NULL DEFAULT '0', `aspd` SMALLINT(4) UNSIGNED NOT NULL DEFAULT '0', `def` SMALLINT(4) UNSIGNED NOT NULL DEFAULT '0', `mdef` SMALLINT(4) UNSIGNED NOT NULL DEFAULT '0', `flee` SMALLINT(4) UNSIGNED NOT NULL DEFAULT '0', `hit` SMALLINT(4) UNSIGNED NOT NULL DEFAULT '0', `life_time` INT(11) NOT NULL DEFAULT '0', PRIMARY KEY (`ele_id`))
SELECT ID FROM `mob_db` WHERE left(Sprite, 4) != 'meta' AND left(Sprite, 2) != 'E_' AND ~Mode & 32 AND EXP > 0 AND MVP1id = 0 AND DropCardid > 4000 AND DropCardid < 5000 AND ID < 2000 AND instr('"+.Blacklist$+"',ID) = 0 ORDER BY rand() LIMIT 
CREATE TABLE IF NOT EXISTS `account_data` ( `account_id` INT(11) UNSIGNED NOT NULL DEFAULT '0', `bank_vault` INT(11) UNSIGNED NOT NULL DEFAULT '0', `base_exp` TINYINT( 4 ) UNSIGNED NOT NULL DEFAULT '100', `base_drop` TINYINT( 4 ) UNSIGNED NOT NULL DEFAULT '100', `base_death` TINYINT( 4 ) UNSIGNED NOT NULL DEFAULT '100', PRIMARY KEY (`account_id`))
CREATE TABLE IF NOT EXISTS `mail` ( `id` BIGINT(20) UNSIGNED NOT NULL AUTO_INCREMENT, `send_name` VARCHAR(30) NOT NULL DEFAULT '', `send_id` INT(11) UNSIGNED NOT NULL DEFAULT '0', `dest_name` VARCHAR(30) NOT NULL DEFAULT '', `dest_id` INT(11) UNSIGNED NOT NULL DEFAULT '0', `title` VARCHAR(45) NOT NULL DEFAULT '', `message` VARCHAR(255) NOT NULL DEFAULT '', `time` INT(11) UNSIGNED NOT NULL DEFAULT '0', `status` TINYINT(2) NOT NULL DEFAULT '0', `zeny` INT(11) UNSIGNED NOT NULL DEFAULT '0', `nameid` INT(11) UNSIGNED NOT NULL DEFAULT '0', `amount` INT(11) UNSIGNED NOT NULL DEFAULT '0', `refine` TINYINT(3) UNSIGNED NOT NULL DEFAULT '0', `attribute` TINYINT(4) UNSIGNED NOT NULL DEFAULT '0', `identify` SMALLINT(6) NOT NULL DEFAULT '0', `card0` SMALLINT(11) NOT NULL DEFAULT '0', `card1` SMALLINT(11) NOT NULL DEFAULT '0', `card2` SMALLINT(11) NOT NULL DEFAULT '0', `card3` SMALLINT(11) NOT NULL DEFAULT '0', `unique_id` BIGINT(20) UNSIGNED NOT NULL DEFAULT '0', PRIMARY KEY (`id`))
SELECT 1 FROM `char_reg_num_db` WHERE `key` = 'Mission0' AND `char_id` IN ( SELECT `char_id` FROM `char` WHERE `account_id` = "+ getcharid(CHAR_ID_ACCOUNT) +" )
CREATE TABLE IF NOT EXISTS `login` ( `account_id` INT(11) UNSIGNED NOT NULL AUTO_INCREMENT, `userid` VARCHAR(23) NOT NULL DEFAULT '', `user_pass` VARCHAR(32) NOT NULL DEFAULT '', `sex` ENUM('M','F','S') NOT NULL DEFAULT 'M', `email` VARCHAR(39) NOT NULL DEFAULT '', `group_id` TINYINT(3) NOT NULL DEFAULT '0', `state` INT(11) UNSIGNED NOT NULL DEFAULT '0', `unban_time` INT(11) UNSIGNED NOT NULL DEFAULT '0', `expiration_time` INT(11) UNSIGNED NOT NULL DEFAULT '0', `logincount` MEDIUMINT(9) UNSIGNED NOT NULL DEFAULT '0', `lastlogin` DATETIME NULL, `last_ip` VARCHAR(100) NOT NULL DEFAULT '', `birthdate` DATE NULL, `character_slots` TINYINT(3) UNSIGNED NOT NULL DEFAULT '0', `pincode` VARCHAR(4) NOT NULL DEFAULT '', `pincode_change` INT(11) UNSIGNED NOT NULL DEFAULT '0', PRIMARY KEY (`account_id`), KEY `name` (`userid`))
CREATE TABLE IF NOT EXISTS `account_data` ( `account_id` INT(11) UNSIGNED NOT NULL DEFAULT '0', `bank_vault` INT(11) UNSIGNED NOT NULL DEFAULT '0', PRIMARY KEY (`account_id`))
CREATE TABLE IF NOT EXISTS `auction` ( `auction_id` BIGINT(20) UNSIGNED NOT NULL AUTO_INCREMENT, `seller_id` INT(11) UNSIGNED NOT NULL DEFAULT '0', `seller_name` VARCHAR(30) NOT NULL DEFAULT '', `buyer_id` INT(11) UNSIGNED NOT NULL DEFAULT '0', `buyer_name` VARCHAR(30) NOT NULL DEFAULT '', `price` INT(11) UNSIGNED NOT NULL DEFAULT '0', `buynow` INT(11) UNSIGNED NOT NULL DEFAULT '0', `hours` SMALLINT(6) NOT NULL DEFAULT '0', `timestamp` INT(11) UNSIGNED NOT NULL DEFAULT '0', `nameid` INT(11) UNSIGNED NOT NULL DEFAULT '0', `item_name` VARCHAR(50) NOT NULL DEFAULT '', `type` SMALLINT(6) NOT NULL DEFAULT '0', `refine` TINYINT(3) UNSIGNED NOT NULL DEFAULT '0', `attribute` TINYINT(4) UNSIGNED NOT NULL DEFAULT '0', `card0` SMALLINT(11) NOT NULL DEFAULT '0', `card1` SMALLINT(11) NOT NULL DEFAULT '0', `card2` SMALLINT(11) NOT NULL DEFAULT '0', `card3` SMALLINT(11) NOT NULL DEFAULT '0', `unique_id` BIGINT(20) UNSIGNED NOT NULL DEFAULT '0', PRIMARY KEY (`auction_id`))
CREATE TABLE IF NOT EXISTS `skill` ( `char_id` INT(11) UNSIGNED NOT NULL DEFAULT '0', `id` SMALLINT(11) UNSIGNED NOT NULL DEFAULT '0', `lv` TINYINT(4) UNSIGNED NOT NULL DEFAULT '0', `flag` TINYINT(1) UNSIGNED NOT NULL DEFAULT 0, PRIMARY KEY (`char_id`,`id`))
CREATE TABLE IF NOT EXISTS `branchlog` ( `branch_id` MEDIUMINT(9) UNSIGNED NOT NULL AUTO_INCREMENT, `branch_date` DATETIME NULL, `account_id` INT(11) NOT NULL DEFAULT '0', `char_id` INT(11) NOT NULL DEFAULT '0', `char_name` VARCHAR(25) NOT NULL DEFAULT '', `map` VARCHAR(11) NOT NULL DEFAULT '', PRIMARY KEY(`branch_id`), INDEX (`account_id`), INDEX (`char_id`))
CREATE TABLE IF NOT EXISTS `loginlog` ( `time` DATETIME NULL, `ip` VARCHAR(15) NOT NULL DEFAULT '', `user` VARCHAR(23) NOT NULL DEFAULT '', `rcode` TINYINT(4) NOT NULL DEFAULT '0', `log` VARCHAR(255) NOT NULL DEFAULT '', INDEX (`ip`))
CREATE TABLE IF NOT EXISTS `guild_alliance` ( `guild_id` INT(11) UNSIGNED NOT NULL DEFAULT '0', `opposition` INT(11) UNSIGNED NOT NULL DEFAULT '0', `alliance_id` INT(11) UNSIGNED NOT NULL DEFAULT '0', `name` VARCHAR(24) NOT NULL DEFAULT '', PRIMARY KEY (`guild_id`,`alliance_id`), KEY `alliance_id` (`alliance_id`))
CREATE TABLE IF NOT EXISTS `guild_position` ( `guild_id` INT(9) UNSIGNED NOT NULL DEFAULT '0', `position` TINYINT(6) UNSIGNED NOT NULL DEFAULT '0', `name` VARCHAR(24) NOT NULL DEFAULT '', `mode` TINYINT(11) UNSIGNED NOT NULL DEFAULT '0', `exp_mode` TINYINT(11) UNSIGNED NOT NULL DEFAULT '0', PRIMARY KEY (`guild_id`,`position`))
CREATE TABLE IF NOT EXISTS `memo` ( `memo_id` INT(11) UNSIGNED NOT NULL AUTO_INCREMENT, `char_id` INT(11) UNSIGNED NOT NULL DEFAULT '0', `map` VARCHAR(11) NOT NULL DEFAULT '', `x` SMALLINT(4) UNSIGNED NOT NULL DEFAULT '0', `y` SMALLINT(4) UNSIGNED NOT NULL DEFAULT '0', PRIMARY KEY (`memo_id`), KEY `char_id` (`char_id`))
CREATE TABLE IF NOT EXISTS `guild_expulsion` ( `guild_id` INT(11) UNSIGNED NOT NULL DEFAULT '0', `account_id` INT(11) UNSIGNED NOT NULL DEFAULT '0', `name` VARCHAR(24) NOT NULL DEFAULT '', `mes` VARCHAR(40) NOT NULL DEFAULT '', PRIMARY KEY (`guild_id`,`name`))
SELECT party_id FROM `%s` WHERE char_id='%d'
CREATE TABLE IF NOT EXISTS `charlog` ( `time` DATETIME NULL, `char_msg` VARCHAR(255) NOT NULL DEFAULT 'char select', `account_id` INT(11) NOT NULL DEFAULT '0', `char_id` INT(11) UNSIGNED NOT NULL DEFAULT '0', `char_num` TINYINT(4) NOT NULL DEFAULT '0', `class` MEDIUMINT(9) NOT NULL DEFAULT '0', `name` VARCHAR(23) NOT NULL DEFAULT '', `str` INT(11) UNSIGNED NOT NULL DEFAULT '0', `agi` INT(11) UNSIGNED NOT NULL DEFAULT '0', `vit` INT(11) UNSIGNED NOT NULL DEFAULT '0', `INT` INT(11) UNSIGNED NOT NULL DEFAULT '0', `dex` INT(11) UNSIGNED NOT NULL DEFAULT '0', `luk` INT(11) UNSIGNED NOT NULL DEFAULT '0', `hair` TINYINT(4) NOT NULL DEFAULT '0', `hair_color` INT(11) NOT NULL DEFAULT '0')
SELECT account_id,char_id FROM `guild_member` WHERE guild_id = '"+.@GID+"' AND 
SELECT 1 FROM `%s` WHERE BINARY `name` = '%s' LIMIT 1
SELECT 1 FROM `sql_updates` WHERE `timestamp` = '%u' LIMIT 1
CREATE TABLE IF NOT EXISTS `friends` ( `char_id` INT(11) NOT NULL DEFAULT '0', `friend_account` INT(11) NOT NULL DEFAULT '0', `friend_id` INT(11) NOT NULL DEFAULT '0', KEY `char_id` (`char_id`))
